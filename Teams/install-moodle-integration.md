---
title: Instalar Moodle integración con Microsoft Teams
author: MicrosoftHeidi
ms.author: heidip
manager: serdars
ms.date: 05/01/2019
ms.topic: article
ms.service: msteams
ms.reviewer: ''
search.appverid: MET150
description: Obtenga información sobre cómo instalar y configurar la aplicación de integración de Moodle para Microsoft Teams.
keywords: Complemento de integración de aplicación de los equipos Moodle
localization_priority: Normal
MS.collection: Teams_ITAdmin_Help
appliesto: Microsoft Teams
ms.openlocfilehash: 92259a9ef01232aaeca67089b5d654fe302f1224
ms.sourcegitcommit: 9a99be1365df439f9443f31240aa5311782458df
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/14/2019
ms.locfileid: "34055371"
---
# <a name="install-moodle-integration-with-microsoft-teams"></a><span data-ttu-id="c5494-104">Instalar Moodle integración con Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="c5494-104">Install Moodle integration with Microsoft Teams</span></span>

> [!VIDEO https://www.youtube.com/embed/OHlPt22nKoE]

<span data-ttu-id="c5494-105">[Moodle](https://moodle.org/), el origen más popular y open del sistema de administración de aprendizaje (LMS) en el mundo, ahora se integra con Microsoft Teams!</span><span class="sxs-lookup"><span data-stu-id="c5494-105">[Moodle](https://moodle.org/), the most popular and open source Learning Management System (LMS) in the world, is now integrated with Microsoft Teams!</span></span> <span data-ttu-id="c5494-106">Esta integración ayuda a educadores y profesores colaboran alrededor de Moodle cursos, formular preguntas acerca de sus notas y asignaciones y mantengan actualizados con notificaciones--todos dentro de los equipos!</span><span class="sxs-lookup"><span data-stu-id="c5494-106">This integration helps educators and teachers collaborate around Moodle courses, ask questions about their grades and assignments, and stay updated with notifications -- all within Teams!</span></span>

<span data-ttu-id="c5494-107">Para ayudar a los administradores de TI a configurar fácilmente esta integración, hemos actualizado nuestro complemento de Office 365 Moodle de código abierto con las siguientes capacidades:</span><span class="sxs-lookup"><span data-stu-id="c5494-107">To help IT admins easily set up this integration, we have updated our open source Office 365 Moodle plugin with the following capabilities:</span></span>

- <span data-ttu-id="c5494-108">Registro automático de su servidor Moodle con Azure AD</span><span class="sxs-lookup"><span data-stu-id="c5494-108">Auto-registration of your Moodle server with Azure AD</span></span>
- <span data-ttu-id="c5494-109">Implementación de un solo clic de su bot Moodle Ayudante en Azure</span><span class="sxs-lookup"><span data-stu-id="c5494-109">One-click deployment of your Moodle Assistant bot to Azure</span></span>
- <span data-ttu-id="c5494-110">Aprovisionamiento automático de los equipos y la sincronización automática de inscripción de equipo para todos los o seleccione Moodle cursos</span><span class="sxs-lookup"><span data-stu-id="c5494-110">Auto-provisioning of teams and auto-synchronization of team enrollments for all or select Moodle courses</span></span>
- <span data-ttu-id="c5494-111">Instalación automática de la ficha Moodle y el robot Moodle asistente en cada equipo sincronizada (próximamente)</span><span class="sxs-lookup"><span data-stu-id="c5494-111">Auto-installation of the Moodle tab and the Moodle Assistant bot into each synchronized team (coming soon)</span></span>
- <span data-ttu-id="c5494-112">Publicación de un solo clic de la aplicación Moodle en su almacén de aplicación de los equipos privados (próximamente)</span><span class="sxs-lookup"><span data-stu-id="c5494-112">One-click publishing of the Moodle app into your private Teams App Store (coming soon)</span></span>

## <a name="prerequisites"></a><span data-ttu-id="c5494-113">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="c5494-113">Prerequisites</span></span>

<span data-ttu-id="c5494-114">Para instalar y configurar esta aplicación que necesitará:</span><span class="sxs-lookup"><span data-stu-id="c5494-114">To install and configure this application you'll need:</span></span>

- <span data-ttu-id="c5494-115">Credenciales de administrador de Moodle</span><span class="sxs-lookup"><span data-stu-id="c5494-115">Moodle administrator credentials</span></span>
- <span data-ttu-id="c5494-116">Credenciales de administrador de Azure AD</span><span class="sxs-lookup"><span data-stu-id="c5494-116">Azure AD administrator credentials</span></span>
- <span data-ttu-id="c5494-117">Una suscripción a Azure que se pueden crear nuevos recursos en</span><span class="sxs-lookup"><span data-stu-id="c5494-117">An Azure subscription that you can create new resources in</span></span>

## <a name="step-1-install-the-office-365-moodle-plugin"></a><span data-ttu-id="c5494-118">Paso 1: Instalar el complemento de Office 365 Moodle</span><span class="sxs-lookup"><span data-stu-id="c5494-118">Step 1: Install the Office 365 Moodle plugin</span></span>

> [!VIDEO https://www.youtube.com/embed/SETEC5nzMgk]

<span data-ttu-id="c5494-119">La integración de Moodle en Microsoft Teams funciona con el [complemento de Office 365 Moodle](https://github.com/Microsoft/o365-moodle)de código abierto.</span><span class="sxs-lookup"><span data-stu-id="c5494-119">The Moodle integration in Microsoft Teams is powered by the open source [Office 365 Moodle plugin](https://github.com/Microsoft/o365-moodle).</span></span> <span data-ttu-id="c5494-120">Para instalar el complemento en el servidor de Moodle:</span><span class="sxs-lookup"><span data-stu-id="c5494-120">To install the plugin on your Moodle server:</span></span>

1. <span data-ttu-id="c5494-121">Descargue el [complemento de Office 365 establece](https://moodle.org/plugins/pluginversions.php?plugin=local_o365) y guárdelo en su equipo local.</span><span class="sxs-lookup"><span data-stu-id="c5494-121">Download the [Office 365 plugin set](https://moodle.org/plugins/pluginversions.php?plugin=local_o365) and save it on your local computer.</span></span> <span data-ttu-id="c5494-122">Debe utilizar la versión 3.5 o más reciente.</span><span class="sxs-lookup"><span data-stu-id="c5494-122">You'll need to use version 3.5 or newer.</span></span>
2. <span data-ttu-id="c5494-123">Inicie sesión en el servidor de Moodle como administrador y seleccione **administración de sitios** en el panel de navegación izquierdo.</span><span class="sxs-lookup"><span data-stu-id="c5494-123">Sign in to your Moodle server as an administrator, and select **Site administration** from the left navigation pane.</span></span>
3. <span data-ttu-id="c5494-124">Seleccione la ficha **complementos** y, a continuación, haga clic en **instalar complementos**.</span><span class="sxs-lookup"><span data-stu-id="c5494-124">Select the **Plugins** tab, and then click **Install plugins**.</span></span>
4. <span data-ttu-id="c5494-125">Haga clic en el botón **Elegir un archivo** en la sección **Instalar complemento desde el archivo ZIP** .</span><span class="sxs-lookup"><span data-stu-id="c5494-125">Under the **Install plugin from ZIP file** section click the **Choose a file** button.</span></span>
5. <span data-ttu-id="c5494-126">Seleccione las opciones de **cargar un archivo** desde el panel de navegación izquierdo, busque el archivo descargado anteriormente y haga clic en **cargar este archivo**.</span><span class="sxs-lookup"><span data-stu-id="c5494-126">Select the **Upload a file** options from the left navigation pane, browse to the file you downloaded above, and click **Upload this file**.</span></span>
6. <span data-ttu-id="c5494-127">Seleccione la opción de **administración de sitios** en el panel de navegación izquierdo para volver al panel de administración.</span><span class="sxs-lookup"><span data-stu-id="c5494-127">Select the **Site administration** option from the left navigation pane again to return to your admin dashboard.</span></span> <span data-ttu-id="c5494-128">Desplácese hacia abajo hasta los **complementos Local** y haga clic en el vínculo de **Integración de Microsoft Office 365** .</span><span class="sxs-lookup"><span data-stu-id="c5494-128">Scroll down to the **Local plugins** and click the **Microsoft Office 365 Integration** link.</span></span> <span data-ttu-id="c5494-129">Mantenga abierto en una ficha independiente del explorador esta página de configuración: se usará con en el resto de este proceso.</span><span class="sxs-lookup"><span data-stu-id="c5494-129">Keep this configuration page open in a separate browser tab: you'll be using it throughout the rest of this process.</span></span>

<span data-ttu-id="c5494-130">Puede encontrar más información sobre cómo instalar complementos Moodle en la [documentación de Moodle](https://docs.moodle.org/34/en/Installing_plugins).</span><span class="sxs-lookup"><span data-stu-id="c5494-130">You can find more information on how to install Moodle plugins in the [Moodle documentation](https://docs.moodle.org/34/en/Installing_plugins).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="c5494-131">Mantenga abierto en una ficha independiente del explorador la página de configuración de complemento de Office 365 Moodle: debe devolver para este conjunto de páginas a lo largo de este proceso.</span><span class="sxs-lookup"><span data-stu-id="c5494-131">Keep your Office 365 Moodle plugin configuration page open in a separate browser tab: you'll be returning to this set of pages throughout this process.</span></span>

<span data-ttu-id="c5494-132">¿Ya no tiene un sitio de Moodle?</span><span class="sxs-lookup"><span data-stu-id="c5494-132">Don't have a Moodle site already?</span></span> <span data-ttu-id="c5494-133">Es posible que desee desproteger nuestra Moodle en Azure [repo](https://github.com/azure/moodle) donde rápidamente puede implementar una instancia de Moodle en Azure y personalizar según sus necesidades.</span><span class="sxs-lookup"><span data-stu-id="c5494-133">You might want to check out our Moodle on Azure [repo](https://github.com/azure/moodle) where you can quickly deploy a Moodle instance on Azure and customize it to your needs.</span></span>

## <a name="step-2-configure-the-connection-between-the-office-365-plugin-and-azure-active-directory"></a><span data-ttu-id="c5494-134">Paso 2: Configurar la conexión entre el complemento de Office 365 y Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="c5494-134">Step 2: Configure the connection between the Office 365 plugin and Azure Active Directory</span></span>

> [!VIDEO https://www.youtube.com/embed/FpGEezaJ3SA]

<span data-ttu-id="c5494-135">A continuación que necesita registrar Moodle como una aplicación en Azure Active Directory (AD Azure).</span><span class="sxs-lookup"><span data-stu-id="c5494-135">Next you'll need to register Moodle as an application in your Azure Active Directory (Azure AD).</span></span> <span data-ttu-id="c5494-136">Adjuntamos una secuencia de comandos de PowerShell para ayudar a completar este proceso.</span><span class="sxs-lookup"><span data-stu-id="c5494-136">We've provided a PowerShell script to help you complete this process.</span></span> <span data-ttu-id="c5494-137">La secuencia de comandos de PowerShell aprovisiona un Azure nueva aplicación de AD para el inquilino de Office 365, que se utilizará en el complemento de Office 365 Moodle.</span><span class="sxs-lookup"><span data-stu-id="c5494-137">The PowerShell script provisions a new Azure AD application for your Office 365 tenant, which will be used by the Office 365 Moodle plugin.</span></span> <span data-ttu-id="c5494-138">La secuencia de comandos va a aprovisionar la aplicación para el inquilino de Office 365, configurar todas las direcciones URL de respuesta y el permisos para la aplicación aprovisionado necesarios y devolver el AppID y la clave.</span><span class="sxs-lookup"><span data-stu-id="c5494-138">The script will provision the app for your O365 tenant, set up all the required Reply URLs and permissions for the provisioned app, and return the AppID and Key.</span></span> <span data-ttu-id="c5494-139">Puede usar el AppID generado y la clave en la página del programa de instalación de complemento de O365 Moodle para configurar su servidor Moodle con Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c5494-139">You can use the generated AppID and Key in your O365 Moodle plugin setup page to configure your Moodle server with Azure AD.</span></span> <span data-ttu-id="c5494-140">Si desea ver los pasos manuales detallados que es la automatización de la secuencia de comandos de PowerShell, puede encontrarlos en la [documentación para el complemento](https://docs.moodle.org/34/en/Office365#Register_your_Moodle_instance_as_an_Application)de completa.</span><span class="sxs-lookup"><span data-stu-id="c5494-140">If you want to see the detailed manual steps that the PowerShell script is automating, you can find them in the full [documentation for the plugin](https://docs.moodle.org/34/en/Office365#Register_your_Moodle_instance_as_an_Application).</span></span>

1. <span data-ttu-id="c5494-141">En la página del complemento de integración con Microsoft Office 365, seleccione la ficha **programa de instalación** .</span><span class="sxs-lookup"><span data-stu-id="c5494-141">On the Microsoft Office 365 Integration plugin page, select the **Setup** tab.</span></span>
2. <span data-ttu-id="c5494-142">Haga clic en el botón **Descargar el PowerShell Script** y guardar la secuencia de comandos en el equipo local.</span><span class="sxs-lookup"><span data-stu-id="c5494-142">Click the **Download PowerShell Script** button, and save the script on your local computer.</span></span>
3. <span data-ttu-id="c5494-143">Debe preparar el script de PowerShell desde el archivo ZIP.</span><span class="sxs-lookup"><span data-stu-id="c5494-143">You'll need to prepare the PowerShell script from the ZIP file.</span></span> <span data-ttu-id="c5494-144">Para hacer esto:</span><span class="sxs-lookup"><span data-stu-id="c5494-144">To do this:</span></span>
    1. <span data-ttu-id="c5494-145">Descargue y extraiga el archivo Moodle-AzureAD-Powershell.zip.</span><span class="sxs-lookup"><span data-stu-id="c5494-145">Download and extract the Moodle-AzureAD-Powershell.zip file.</span></span>
    2. <span data-ttu-id="c5494-146">Abra la carpeta extraída.</span><span class="sxs-lookup"><span data-stu-id="c5494-146">Open the extracted folder.</span></span>
    3. <span data-ttu-id="c5494-147">Haga clic en el archivo Moodle-AzureAD-Script.ps1 y seleccione **Propiedades**.</span><span class="sxs-lookup"><span data-stu-id="c5494-147">Right-click the Moodle-AzureAD-Script.ps1 file, and select **Properties**.</span></span>
    4. <span data-ttu-id="c5494-148">En la ficha **General** de la ventana Propiedades, active la casilla **desbloquear** junto al atributo de **seguridad** en la parte inferior.</span><span class="sxs-lookup"><span data-stu-id="c5494-148">On the **General** tab of the Properties window, check the **Unblock** box next to the **Security** attribute at the bottom.</span></span>
    5. <span data-ttu-id="c5494-149">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="c5494-149">Click **OK**.</span></span>
    6. <span data-ttu-id="c5494-150">Copie la ruta de acceso del directorio de la carpeta extraída.</span><span class="sxs-lookup"><span data-stu-id="c5494-150">Copy the directory path of the extracted folder.</span></span>
4. <span data-ttu-id="c5494-151">A continuación, podrá ejecutar PowerShell como administrador:</span><span class="sxs-lookup"><span data-stu-id="c5494-151">Next you'll run PowerShell as an administrator:</span></span>
    1. <span data-ttu-id="c5494-152">Haga clic en Inicio.</span><span class="sxs-lookup"><span data-stu-id="c5494-152">Click Start.</span></span>
    2. <span data-ttu-id="c5494-153">Tipo **PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="c5494-153">Type **PowerShell**.</span></span>
    3. <span data-ttu-id="c5494-154">Haga clic en **Windows PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="c5494-154">Right-click **Windows PowerShell**.</span></span>
    4. <span data-ttu-id="c5494-155">Haga clic en **Ejecutar como administrador**.</span><span class="sxs-lookup"><span data-stu-id="c5494-155">Click **Run as Administrator**.</span></span>
5. <span data-ttu-id="c5494-156">Navegue hasta el directorio descomprimido escribiendo `cd ...\...\Moodle-AzureAD-Powershell` donde `...\...` es la ruta de acceso al directorio.</span><span class="sxs-lookup"><span data-stu-id="c5494-156">Navigate to the unzipped directory by typing `cd ...\...\Moodle-AzureAD-Powershell` where `...\...` is the path to the directory.</span></span>
6. <span data-ttu-id="c5494-157">Ejecute el script de PowerShell:</span><span class="sxs-lookup"><span data-stu-id="c5494-157">Execute the PowerShell script:</span></span>
    1. <span data-ttu-id="c5494-158">Escriba `Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser`.</span><span class="sxs-lookup"><span data-stu-id="c5494-158">Enter `Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser`.</span></span>
    2. <span data-ttu-id="c5494-159">Escriba `.\Moodle-AzureAD-Script.ps1`.</span><span class="sxs-lookup"><span data-stu-id="c5494-159">Enter `.\Moodle-AzureAD-Script.ps1`.</span></span>
    3. <span data-ttu-id="c5494-160">Inicie sesión en su cuenta de administrador de O365 en la ventana emergente.</span><span class="sxs-lookup"><span data-stu-id="c5494-160">Sign in to your O365 administrator account in the pop-up window.</span></span>
    4. <span data-ttu-id="c5494-161">Escriba el nombre de la aplicación de Azure AD (por ejemplo, el **complemento de Moodle/Moodle**).</span><span class="sxs-lookup"><span data-stu-id="c5494-161">Enter the name of the Azure AD application (for example, **Moodle/Moodle plugin**).</span></span>
    5. <span data-ttu-id="c5494-162">Escriba la dirección URL de su servidor Moodle.</span><span class="sxs-lookup"><span data-stu-id="c5494-162">Enter the URL of your Moodle server.</span></span>
    6. <span data-ttu-id="c5494-163">Copie el **Identificador de aplicación** y la **Clave de aplicación** generado por la secuencia de comandos y guardarlos.</span><span class="sxs-lookup"><span data-stu-id="c5494-163">Copy the **Application ID** and **Application Key** generated by the script, and save them.</span></span>
7. <span data-ttu-id="c5494-164">A continuación necesitará agregar el identificador y la clave para el complemento de Office 365 Moodle.</span><span class="sxs-lookup"><span data-stu-id="c5494-164">Next you'll need to add the ID and key to the Office 365 Moodle plugin.</span></span> <span data-ttu-id="c5494-165">Volver a la página de administración del complemento (**administración de sitios** > **complementos** > **Integración con Microsoft Office 365**).</span><span class="sxs-lookup"><span data-stu-id="c5494-165">Return to the plugin administration page (**Site administration** > **Plugins** > **Microsoft Office 365 Integration**).</span></span>
8. <span data-ttu-id="c5494-166">En la ficha **programa de instalación** , agregue el **Identificador de aplicación** y la **Clave de la aplicación** que copió anteriormente y, a continuación, haga clic en **Guardar cambios**.</span><span class="sxs-lookup"><span data-stu-id="c5494-166">On the **Setup** tab, add the **Application ID** and **Application Key** you copied previously, and then click **Save changes**.</span></span>
9. <span data-ttu-id="c5494-167">Una vez la página se actualiza, debería ver una nueva sección denominada **Elegir método de conexión**.</span><span class="sxs-lookup"><span data-stu-id="c5494-167">Once the page refreshes, you should see a new section called **Choose connection method**.</span></span> <span data-ttu-id="c5494-168">Haga clic en la casilla de verificación con la etiqueta **predeterminada**y, a continuación, haga clic en **Guardar los cambios**.</span><span class="sxs-lookup"><span data-stu-id="c5494-168">Click the check box labeled **Default**, and then click **Save changes**.</span></span>
10. <span data-ttu-id="c5494-169">Una vez la página se actualiza, verá una nueva sección denominada **administración consentimiento de & obtener información adicional**.</span><span class="sxs-lookup"><span data-stu-id="c5494-169">Once the page refreshes, you'll see a new section called **Admin consent & additional information**.</span></span>
    1. <span data-ttu-id="c5494-170">Haga clic en el vínculo de **Proporcionar administración da su consentimiento** , escriba sus credenciales de administrador Global de ventas3 regional 365 y, a continuación, haga clic en **Aceptar** para conceder los permisos.</span><span class="sxs-lookup"><span data-stu-id="c5494-170">Click the **Provide Admin Consent** link, enter your Office3 365 Global Administrator credentials, and then click **Accept** to grant the permissions.</span></span>
    2. <span data-ttu-id="c5494-171">Junto al campo de **Azure AD inquilino** , haga clic en el botón **detectar** .</span><span class="sxs-lookup"><span data-stu-id="c5494-171">Next to the **Azure AD Tenant** field, click the **Detect** button.</span></span>
    3. <span data-ttu-id="c5494-172">Junto a **OneDrive para la dirección URL de negocio**, haga clic en el botón **detectar** .</span><span class="sxs-lookup"><span data-stu-id="c5494-172">Next to **OneDrive for Business URL**, click the **Detect** button.</span></span>
    4. <span data-ttu-id="c5494-173">Una vez que rellenan los campos, haga clic en el botón **Guardar cambios** .</span><span class="sxs-lookup"><span data-stu-id="c5494-173">Once the fields populate, click the **Save changes** button.</span></span>
11. <span data-ttu-id="c5494-174">Haga clic en el botón **Actualizar** para comprobar la instalación y, a continuación, haga clic en **Guardar cambios**.</span><span class="sxs-lookup"><span data-stu-id="c5494-174">Click the **Update** button to verify the installation, and then click **Save changes**.</span></span>
12. <span data-ttu-id="c5494-175">A continuación que necesitará para sincronizar usuarios entre el servidor de Moodle y Azure AD.</span><span class="sxs-lookup"><span data-stu-id="c5494-175">Next you'll need to synchronize users between your Moodle server and Azure AD.</span></span> <span data-ttu-id="c5494-176">Dependiendo de su entorno, puede seleccionar diferentes opciones durante esta etapa.</span><span class="sxs-lookup"><span data-stu-id="c5494-176">Depending on your environment, you may select different options during this stage.</span></span> <span data-ttu-id="c5494-177">Tenga en cuenta que la configuración que establezca aquí se ejecutará con cada cron Moodle ejecutar (normalmente, una vez al día) para mantener todo sincronizado. Para empezar:</span><span class="sxs-lookup"><span data-stu-id="c5494-177">Note that the configuration you set here will run with each Moodle cron run (typically once a day) to keep everything in sync. To get started:</span></span>
    1. <span data-ttu-id="c5494-178">Cambiar a la **ficha de configuración de sincronización**.</span><span class="sxs-lookup"><span data-stu-id="c5494-178">Switch to the **Sync Settings tab**.</span></span>
    2. <span data-ttu-id="c5494-179">En la sección **sincronizar los usuarios con Azure AD** , seleccione las casillas de verificación que se aplican a su entorno.</span><span class="sxs-lookup"><span data-stu-id="c5494-179">In the **Sync users with Azure AD** section, select the check boxes that apply to your environment.</span></span> <span data-ttu-id="c5494-180">Normalmente, hay que seleccionar al menos:</span><span class="sxs-lookup"><span data-stu-id="c5494-180">Typically you would select at least:</span></span>
        - <span data-ttu-id="c5494-181">**Crear cuentas en Moodle para los usuarios en Azure AD**</span><span class="sxs-lookup"><span data-stu-id="c5494-181">**Create accounts in Moodle for users in Azure AD**</span></span>
        - <span data-ttu-id="c5494-182">**Actualizar todas las cuentas en Moodle para los usuarios en Azure AD**</span><span class="sxs-lookup"><span data-stu-id="c5494-182">**Update all accounts in Moodle for users in Azure AD**</span></span>
    3. <span data-ttu-id="c5494-183">En la sección **Restricción de creación de usuario** , puede configurar un filtro para limitar los usuarios de Azure AD que se sincronizará con Moodle.</span><span class="sxs-lookup"><span data-stu-id="c5494-183">In the **User Creation Restriction** section, you can set up a filter to limit the Azure AD users that will be synced to Moodle.</span></span>
    4. <span data-ttu-id="c5494-184">La sección **Asignación de campo de usuario** le permitirá personalizar Azure AD para asignación de campo de perfil de usuario de Moodle.</span><span class="sxs-lookup"><span data-stu-id="c5494-184">The **User Field Mapping** section will allow you to customize the Azure AD to Moodle User Profile field mapping.</span></span>
    5. <span data-ttu-id="c5494-185">En la sección **Sincronización de los equipos** puede elegir crear automáticamente grupos (es decir, los equipos) para algunos o todos los cursos Moodle existentes.</span><span class="sxs-lookup"><span data-stu-id="c5494-185">In the **Teams Sync** section you can choose to automatically create groups (that is, teams) for some or all of your existing Moodle courses.</span></span>
13. <span data-ttu-id="c5494-186">Para validar los trabajos cron (y ejecutarlos de forma manual si desea para el primer segmento), haga clic en el vínculo de la **página de administración de tareas programadas** en la sección **sincronizar los usuarios con Azure AD** .</span><span class="sxs-lookup"><span data-stu-id="c5494-186">To validate the cron jobs (and run them manually if you wish to for the first run), click the **Scheduled tasks management page** link in the **Sync users with Azure AD** section.</span></span> <span data-ttu-id="c5494-187">Esto le llevará a la página de **Tareas programadas** .</span><span class="sxs-lookup"><span data-stu-id="c5494-187">This will take you to the **Scheduled Tasks** page.</span></span>
    1. <span data-ttu-id="c5494-188">Desplácese hacia abajo y busque el trabajo de **sincronización de los usuarios con Azure AD** de trabajo y haga clic en **Ejecutar ahora**.</span><span class="sxs-lookup"><span data-stu-id="c5494-188">Scroll down and find the job **Sync users with Azure AD** job, and click **Run now**.</span></span>
    2. <span data-ttu-id="c5494-189">Si elige crear grupos basados en los cursos existentes, también puede ejecutar el trabajo de **crear grupos de usuarios en Office 365** .</span><span class="sxs-lookup"><span data-stu-id="c5494-189">If you chose to create groups based on existing courses, you can also run the **Create user groups in Office 365** job.</span></span>
14. <span data-ttu-id="c5494-190">Volver a la página de administración del complemento (**administración de sitios** > **complementos** > **Integración con Microsoft Office 365**) y seleccione la página de **Configuración de los equipos** .</span><span class="sxs-lookup"><span data-stu-id="c5494-190">Return to the plugin administration page (**Site administration** > **Plugins** > **Microsoft Office 365 Integration**) and select the **Teams Settings** page.</span></span> <span data-ttu-id="c5494-191">Debe configurar algunas opciones de seguridad para habilitar la integración de la aplicación de los equipos.</span><span class="sxs-lookup"><span data-stu-id="c5494-191">You'll need to configure some security settings to enable the Teams app integration.</span></span>
    1. <span data-ttu-id="c5494-192">Para habilitar OpenID conectarse, haga clic en el vínculo **Administrar la autenticación** y haga clic en el icono de ojo en la línea **OpenId conectarse** si se está atenuada.</span><span class="sxs-lookup"><span data-stu-id="c5494-192">To enable OpenID Connect, click the **Manage Authentication** link, and click the eye icon on the **OpenId Connect** line if it is dimmed.</span></span>
    2. <span data-ttu-id="c5494-193">Para habilitar marco incrustación de objetos, haga clic en el vínculo de la **Seguridad de HTTP** y, a continuación, seleccione la casilla de verificación situada junto a **permitir incrustación de marco**.</span><span class="sxs-lookup"><span data-stu-id="c5494-193">To enable frame embedding, click the **HTTP Security** link, and then select the check box next to **Allow frame embedding**.</span></span>
    3. <span data-ttu-id="c5494-194">Habilitar los servicios web (que se va a habilitar las características de la API de Moodle).</span><span class="sxs-lookup"><span data-stu-id="c5494-194">Enable web services (which will enable the Moodle API features).</span></span> <span data-ttu-id="c5494-195">Haga clic en el vínculo de **Características avanzadas** y, a continuación, compruebe que está activada la casilla de verificación situada junto a **Habilitar los servicios web** .</span><span class="sxs-lookup"><span data-stu-id="c5494-195">Click the **Advanced Features** link, and then make sure the check box next to **Enable web services** is selected.</span></span>
    4. <span data-ttu-id="c5494-196">Habilitar los servicios externos para Office 365.</span><span class="sxs-lookup"><span data-stu-id="c5494-196">Enable the external services for Office 365.</span></span> <span data-ttu-id="c5494-197">Haga clic en el vínculo de **servicios externos** y a continuación:</span><span class="sxs-lookup"><span data-stu-id="c5494-197">Click the **External services** link, and then:</span></span>
        1. <span data-ttu-id="c5494-198">Haga clic en **Editar** en la fila **Moodle Office 365 Webservices** .</span><span class="sxs-lookup"><span data-stu-id="c5494-198">Click **Edit** on the **Moodle Office 365 Webservices** row.</span></span>
        2. <span data-ttu-id="c5494-199">Seleccione la casilla de verificación situada junto **activada**y, a continuación, haga clic en **Guardar cambios**</span><span class="sxs-lookup"><span data-stu-id="c5494-199">Select the check box next to **Enabled**, and then click **Save Changes**</span></span>
    5. <span data-ttu-id="c5494-200">Por último, debe editar los permisos de usuario autenticado para permitir a los usuarios crear tokens de servicio web.</span><span class="sxs-lookup"><span data-stu-id="c5494-200">Finally, you need to edit your authenticated user permissions to allow users to create web service tokens.</span></span> <span data-ttu-id="c5494-201">Haga clic en el vínculo de **usuario autenticado de función de edición** .</span><span class="sxs-lookup"><span data-stu-id="c5494-201">Click the **Editing role Authenticated user** link.</span></span> <span data-ttu-id="c5494-202">Desplácese hacia abajo y busque la capacidad de **crear un token de servicio web** y Active la casilla de verificación **Permitir** .</span><span class="sxs-lookup"><span data-stu-id="c5494-202">Scroll down and find the **Create a web service token** capability, and select the **Allow** check box.</span></span>

## <a name="step-3-deploy-the-moodle-assistant-bot-to-azure"></a><span data-ttu-id="c5494-203">Paso 3: Implementar el robot Moodle Ayudante en Azure</span><span class="sxs-lookup"><span data-stu-id="c5494-203">Step 3: Deploy the Moodle Assistant Bot to Azure</span></span>

> [!VIDEO https://www.youtube.com/embed/gbkJxf8FlfY]

<span data-ttu-id="c5494-204">El robot de Ayudante Moodle gratuita para Microsoft Teams ayuda a los profesores y los alumnos responder a preguntas acerca de los cursos, asignaciones, remuneración y otra información en Moodle.</span><span class="sxs-lookup"><span data-stu-id="c5494-204">The free Moodle Assistant Bot for Microsoft Teams helps teachers and students answer questions about their courses, assignments, grades, and other information in Moodle.</span></span> <span data-ttu-id="c5494-205">El robot también envía Moodle notificaciones a los alumnos y profesores derecho dentro de los equipos.</span><span class="sxs-lookup"><span data-stu-id="c5494-205">The bot also sends Moodle notifications to students and teachers right within Teams.</span></span> <span data-ttu-id="c5494-206">Este componente es un proyecto de código abierto mantenido por Microsoft y está [disponible en depósito](https://github.com/microsoft/Moodle-Teams-Bot).</span><span class="sxs-lookup"><span data-stu-id="c5494-206">This bot is an open source project maintained by Microsoft and is [available on GitHub](https://github.com/microsoft/Moodle-Teams-Bot).</span></span>

> [!NOTE]
<span data-ttu-id="c5494-207">.</span><span class="sxs-lookup"><span data-stu-id="c5494-207"></span></span> <span data-ttu-id="c5494-208">En esta sección se van a implementar recursos a su suscripción de Azure y todos los recursos se configurarán con el nivel gratuito.</span><span class="sxs-lookup"><span data-stu-id="c5494-208">In this section you will deploy resources to your Azure subscription, and all resources will be configured using the free tier.</span></span> <span data-ttu-id="c5494-209">Según el uso de su bot, debe escalar estos recursos.</span><span class="sxs-lookup"><span data-stu-id="c5494-209">Depending on the usage of your bot, you may need to scale these resources.</span></span> <span data-ttu-id="c5494-210">Si desea usar solo la ficha Moodle sin el robot, vaya al [paso 4](#step-4-deploy-your-microsoft-teams-app).</span><span class="sxs-lookup"><span data-stu-id="c5494-210">If you want to just use the Moodle tab without the bot, skip to [step 4](#step-4-deploy-your-microsoft-teams-app).</span></span>

### <a name="moodle-bot-information-flow"></a><span data-ttu-id="c5494-211">Flujo de información de bot Moodle</span><span class="sxs-lookup"><span data-stu-id="c5494-211">Moodle bot information flow</span></span>

<span data-ttu-id="c5494-212">Para instalar el robot, debe registrarlo en la [Plataforma de identidad de Microsoft](https://identity.microsoft.com/Landing).</span><span class="sxs-lookup"><span data-stu-id="c5494-212">To install the bot, you'll need to register it on the [Microsoft Identity Platform](https://identity.microsoft.com/Landing).</span></span> <span data-ttu-id="c5494-213">Esto permite su bot para autenticarse con los extremos de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="c5494-213">This allows your bot to authenticate with your Microsoft endpoints.</span></span> <span data-ttu-id="c5494-214">Para registrar su bot:</span><span class="sxs-lookup"><span data-stu-id="c5494-214">To register your bot:</span></span>

1. <span data-ttu-id="c5494-215">Volver a la página de administración del complemento (**administración de sitios** > **complementos** > **Integración con Microsoft Office 365**) y seleccione la ficha **Configuración de los equipos** .</span><span class="sxs-lookup"><span data-stu-id="c5494-215">Return to the plugin administration page (**Site administration** > **Plugins** > **Microsoft Office 365 Integration**) and select the **Teams Settings** tab.</span></span>
2. <span data-ttu-id="c5494-216">Haga clic en el vínculo de **Portal de registro de aplicación de Microsoft** y el inicio de sesión con su Microsoft ID.</span><span class="sxs-lookup"><span data-stu-id="c5494-216">Click the **Microsoft Application Registration Portal** link and sign in with your Microsoft ID.</span></span>
3. <span data-ttu-id="c5494-217">Escriba un nombre para la aplicación (por ejemplo, MoodleBot) y haga clic en el botón **crear** .</span><span class="sxs-lookup"><span data-stu-id="c5494-217">Enter a name for you app (for example, MoodleBot) and click the **Create** button.</span></span>
4. <span data-ttu-id="c5494-218">Copie el **Identificador de aplicación** y péguelo en el campo de **Identificador de aplicación de Bot** en la página **Configuración del equipo** .</span><span class="sxs-lookup"><span data-stu-id="c5494-218">Copy the **Application ID** and paste it into the **Bot Application ID** field on the **Team Settings** page.</span></span>
5. <span data-ttu-id="c5494-219">Haga clic en el botón **Generar nueva contraseña** .</span><span class="sxs-lookup"><span data-stu-id="c5494-219">Click the **Generate New Password** button.</span></span> <span data-ttu-id="c5494-220">Copie la contraseña generada y péguelo en el campo **Contraseña Bot de la aplicación** en la página **Configuración del equipo** .</span><span class="sxs-lookup"><span data-stu-id="c5494-220">Copy the generated password and paste it into the **Bot Application Password** field on the **Team Settings** page.</span></span>
6. <span data-ttu-id="c5494-221">Desplácese hasta la parte inferior del formulario y haga clic en **Guardar cambios**.</span><span class="sxs-lookup"><span data-stu-id="c5494-221">Scroll to the bottom of the form and click **Save Changes**.</span></span>

<span data-ttu-id="c5494-222">Ahora que ha generado el identificador de aplicación y la contraseña, es el momento de implementar su bot en Azure.</span><span class="sxs-lookup"><span data-stu-id="c5494-222">Now that you've generated your application ID and password, it's time to deploy your bot to Azure.</span></span> <span data-ttu-id="c5494-223">Haga clic en el botón de **implementar en Azure** y completar el formulario con la información necesaria (el identificador de bot y la contraseña se encuentran en la página **Configuración del equipo** , y es la información de Azure en la página **el programa de instalación** ).</span><span class="sxs-lookup"><span data-stu-id="c5494-223">Click the **Deploy to Azure** button and complete the form with the necessary information (the bot ID and password are on the **Team Settings** page, and the Azure information is on the **Setup** page).</span></span> <span data-ttu-id="c5494-224">Una vez que el formulario rellenado, haga clic en la casilla de verificación está de acuerdo con los términos y condiciones y, a continuación, haga clic en el botón de **compra** (todos los recursos de Azure se implementan en el nivel gratuito).</span><span class="sxs-lookup"><span data-stu-id="c5494-224">Once you have the form filled out, click the check box to agree to the terms and conditions, and then click the **Purchase** button (all Azure resources are deployed to the free tier).</span></span>

<span data-ttu-id="c5494-225">Después de que los recursos se complete la implementación en Azure, que necesitará para configurar el complemento de Office 365 Moodle con su extremo de mensajería.</span><span class="sxs-lookup"><span data-stu-id="c5494-225">After the resources are finished deploying to Azure, you'll need to configure the Office 365 Moodle plugin with its messaging endpoint.</span></span> <span data-ttu-id="c5494-226">En primer lugar, necesitará obtener el extremo desde su bot en Azure.</span><span class="sxs-lookup"><span data-stu-id="c5494-226">First, you'll need to get the endpoint from your bot in Azure.</span></span> <span data-ttu-id="c5494-227">Para hacer esto:</span><span class="sxs-lookup"><span data-stu-id="c5494-227">To do this:</span></span>

1. <span data-ttu-id="c5494-228">Si no se ha iniciado sesión en ya, para iniciar sesión en el [portal de Azure](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="c5494-228">If you aren't signed in already, sign in to the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="c5494-229">En el panel izquierdo, seleccione **grupos de recursos**.</span><span class="sxs-lookup"><span data-stu-id="c5494-229">In the left pane, select **Resource groups**.</span></span>
3. <span data-ttu-id="c5494-230">En la lista, seleccione el grupo de recursos sólo utilizar (o crea) durante la implementación de su componente.</span><span class="sxs-lookup"><span data-stu-id="c5494-230">From the list, select the resource group you just used (or created) while deploying your bot.</span></span>
4. <span data-ttu-id="c5494-231">Seleccione el recurso de **WebApp Bot** de la lista de recursos en el grupo.</span><span class="sxs-lookup"><span data-stu-id="c5494-231">Select the **WebApp Bot** resource from the list of resources in the group.</span></span>
5. <span data-ttu-id="c5494-232">Copie el **Extremo de mensajería** de la sección **información general** .</span><span class="sxs-lookup"><span data-stu-id="c5494-232">Copy the **Messaging Endpoint** from the **Overview** section.</span></span>
6. <span data-ttu-id="c5494-233">En Moodle, abra la página de **Configuración del equipo** de su complemento de Office 365 Moodle.</span><span class="sxs-lookup"><span data-stu-id="c5494-233">In Moodle, open the **Team Settings** page of your Office 365 Moodle plugin.</span></span>
7. <span data-ttu-id="c5494-234">En el campo **Extremo Bot** , pegue la dirección URL que acaba de copiar y cambiar los *mensajes* de word a *webhook*.</span><span class="sxs-lookup"><span data-stu-id="c5494-234">In the **Bot Endpoint** field, paste the URL you just copied, and change the word *messages* to *webhook*.</span></span> <span data-ttu-id="c5494-235">La dirección URL debe tener el siguiente aspecto: `https://botname.azurewebsites.net/api/webhook`.</span><span class="sxs-lookup"><span data-stu-id="c5494-235">The URL should now look like this: `https://botname.azurewebsites.net/api/webhook`.</span></span>
8. <span data-ttu-id="c5494-236">Haga clic en **Guardar cambios**.</span><span class="sxs-lookup"><span data-stu-id="c5494-236">Click **Save Changes**.</span></span>
9. <span data-ttu-id="c5494-237">Una vez que se guardan los cambios, vuelva a la ficha de **Configuración del equipo** , haga clic en el botón de **archivo de manifiesto de descarga** y guardar el paquete de manifiesto en el equipo (se utilizará en el paso siguiente).</span><span class="sxs-lookup"><span data-stu-id="c5494-237">Once your changes are saved, go back to the **Team Settings** tab, click the **Download manifest file** button, and save the manifest package on your computer (you'll use it in the next step).</span></span>

## <a name="step-4-deploy-your-microsoft-teams-app"></a><span data-ttu-id="c5494-238">Paso 4: Implementación de la aplicación de los equipos de Microsoft</span><span class="sxs-lookup"><span data-stu-id="c5494-238">Step 4: Deploy your Microsoft Teams app</span></span>

> [!VIDEO https://www.youtube.com/embed/2rMb7gtM_ZM]

<span data-ttu-id="c5494-239">Ahora que ha implementado el bot en Azure y lo ha configurado para comunicarse con su servidor Moodle, es momento de implementar la aplicación de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="c5494-239">Now that you have deployed your bot in Azure and configured it to talk to your Moodle server, it's time to deploy your Microsoft Teams app.</span></span> <span data-ttu-id="c5494-240">Para ello podrá cargar el archivo de manifiesto que descargó desde la página de **Configuración del equipo** del complemento de Office 365 Moodle en el paso anterior.</span><span class="sxs-lookup"><span data-stu-id="c5494-240">To do this you'll load the manifest file you downloaded from the Office 365 Moodle plugin **Team Settings** page in the previous step.</span></span>

<span data-ttu-id="c5494-241">Antes de instalar la aplicación, debe asegurarse de que esté habilitado aplicaciones externas y sideloading de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="c5494-241">Before you can install the app, you'll need to make sure that external apps and sideloading of apps is enabled.</span></span> <span data-ttu-id="c5494-242">Para ello, siga [estos pasos](https://docs.microsoft.com/en-us/MicrosoftTeams/admin-settings).</span><span class="sxs-lookup"><span data-stu-id="c5494-242">To do this, follow [these steps](https://docs.microsoft.com/en-us/MicrosoftTeams/admin-settings).</span></span> <span data-ttu-id="c5494-243">Una vez que se ha asegurado de que estén habilitadas aplicaciones externas, siga estos pasos para implementar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="c5494-243">Once you've ensured that external apps are enabled, follow the steps below to deploy your app.</span></span>

1. <span data-ttu-id="c5494-244">Abra los equipos de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="c5494-244">Open Microsoft Teams.</span></span>
2. <span data-ttu-id="c5494-245">Haga clic en el icono de **almacén** en la inferior izquierda de la barra de navegación.</span><span class="sxs-lookup"><span data-stu-id="c5494-245">Click the **Store** icon on the lower-left of the navigation bar.</span></span>
3. <span data-ttu-id="c5494-246">Haga clic en el vínculo **cargar una aplicación personalizada** de la lista de opciones.</span><span class="sxs-lookup"><span data-stu-id="c5494-246">Click the **Upload a custom app** link from the list of options.</span></span> 
   > [!NOTE]
   > <span data-ttu-id="c5494-247">Si se haya iniciado sesión como administrador global, tendrá la opción de carga de la aplicación a la tienda de aplicaciones de la organización; en caso contrario, sólo podrá cargar la aplicación para los equipos es una parte de (*sideloading*).</span><span class="sxs-lookup"><span data-stu-id="c5494-247">If you're signed in as a global administrator, you'll have the option of uploading the app to your organization's app store; otherwise you'll only be able to load the app for the teams you're a part of (*sideloading*).</span></span>
4. <span data-ttu-id="c5494-248">Seleccione el paquete de manifest.zip que ha descargado anteriormente y haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="c5494-248">Select the manifest.zip package you downloaded previously, and click **Save**.</span></span> <span data-ttu-id="c5494-249">Si aún no ha descargado el paquete de manifiesto, puede hacerlo desde la ficha de **Configuración del equipo** de la página de configuración del complemento en Moodle.</span><span class="sxs-lookup"><span data-stu-id="c5494-249">If you haven't yet downloaded the manifest package, you can do so from the **Team Settings** tab of the plugin configuration page in Moodle.</span></span>

<span data-ttu-id="c5494-250">Ahora que tiene la aplicación instalada, puede agregar la ficha a cualquier canal que tienen acceso a.</span><span class="sxs-lookup"><span data-stu-id="c5494-250">Now that you have the app installed, you can add the tab to any channel that you have access to.</span></span> <span data-ttu-id="c5494-251">Para ello, navegue hasta el canal, haga clic en el **+** símbolo y seleccione la aplicación de la lista.</span><span class="sxs-lookup"><span data-stu-id="c5494-251">To do this, navigate to the channel, click the **+** symbol, and select your app from the list.</span></span> <span data-ttu-id="c5494-252">Siga las indicaciones para terminar de agregar la ficha de curso Moodle a un canal.</span><span class="sxs-lookup"><span data-stu-id="c5494-252">Follow the prompts to finish adding your Moodle course tab to a channel.</span></span>

<span data-ttu-id="c5494-253">¡Eso es todo!</span><span class="sxs-lookup"><span data-stu-id="c5494-253">That's it!</span></span> <span data-ttu-id="c5494-254">Usted y su equipo, ahora puede empezar a trabajar con los cursos Moodle directamente desde Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="c5494-254">You and your team, can now start working with your Moodle courses directly from Microsoft Teams.</span></span>

<span data-ttu-id="c5494-255">Para compartir las solicitudes de característica en contacto con nosotros o proporcionar comentarios, visite nuestra [página de voz del usuario](https://microsoftteams.uservoice.com/forums/916759-moodle).</span><span class="sxs-lookup"><span data-stu-id="c5494-255">To share any feature requests with us or provide feedback, please visit our [User Voice page](https://microsoftteams.uservoice.com/forums/916759-moodle).</span></span>