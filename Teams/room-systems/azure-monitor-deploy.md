---
title: Implementar la administración de salas de Microsoft Teams con Azure monitor
ms.author: v-lanac
author: lanachin
ms.reviewer: Turgayo
manager: serdars
audience: ITPro
ms.topic: quickstart
ms.service: msteams
localization_priority: Normal
ms.collection:
- M365-collaboration
ms.custom: ''
ms.assetid: d86ff657-ee92-4b06-aee3-d4c43090bdcb
description: En este artículo se explica cómo implementar la administración de los dispositivos de salas de Microsoft Teams de forma integrada, de extremo a extremo, con Azure monitor.
ms.openlocfilehash: 12936113a951f90bb1a3bed72f71d09f1f72ccd9
ms.sourcegitcommit: 0dcd078947a455a388729fd50c7a939dd93b0b61
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 10/17/2019
ms.locfileid: "37569945"
---
# <a name="deploy-microsoft-teams-rooms-management-with-azure-monitor"></a><span data-ttu-id="eb993-103">Implementar la administración de salas de Microsoft Teams con Azure monitor</span><span class="sxs-lookup"><span data-stu-id="eb993-103">Deploy Microsoft Teams Rooms management with Azure Monitor</span></span>

<span data-ttu-id="eb993-104">En este artículo se describe cómo configurar e implementar la administración integrada y completa de los dispositivos de salas de Microsoft Teams con Azure monitor.</span><span class="sxs-lookup"><span data-stu-id="eb993-104">This article discusses how to set up and deploy integrated, end-to-end management of Microsoft Teams Rooms devices by using Azure Monitor.</span></span>

<span data-ttu-id="eb993-105">Puede configurar el análisis de registros en Azure monitor para proporcionar alertas y telemetría básicas que le ayudarán a administrar salas de reuniones de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="eb993-105">You can configure Log Analytics within Azure Monitor to provide basic telemetry and alerts that will help you manage Microsoft Teams Rooms meeting room devices.</span></span> <span data-ttu-id="eb993-106">A medida que crece la solución de administración, es posible que decida implementar capacidades adicionales de administración y datos para crear una vista más detallada de la disponibilidad y el rendimiento de los dispositivos.</span><span class="sxs-lookup"><span data-stu-id="eb993-106">As your management solution matures, you might decide to deploy additional data and management capabilities to create a more detailed view of device availability and performance.</span></span>

<span data-ttu-id="eb993-107">Siguiendo esta guía, puede usar un panel como el siguiente ejemplo para obtener informes detallados sobre el estado de la disponibilidad de dispositivos, el estado de las aplicaciones y el hardware, y la distribución de versiones del sistema operativo y las salas de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="eb993-107">By following this guide, you can use a dashboard like the following example to get detailed status reporting for device availability, application and hardware health, and Microsoft Teams Rooms application and operating system version distribution.</span></span>

<span data-ttu-id="eb993-108">![Captura de pantalla de la vista análisis de registros de ejemplo para salas de Microsoft Teams](../media/Deploy-Azure-Monitor-1.png "Vista de análisis de registros de ejemplo para salas de Microsoft Teams")</span><span class="sxs-lookup"><span data-stu-id="eb993-108">![Screen shot of sample Log Analytics view for Microsoft Teams Rooms](../media/Deploy-Azure-Monitor-1.png "Sample Log Analytics view for Microsoft Teams Rooms")</span></span>

<span data-ttu-id="eb993-109">A un mayor nivel, debe realizar las siguientes tareas:</span><span class="sxs-lookup"><span data-stu-id="eb993-109">At a high level, you need to perform the following tasks:</span></span>


1. [<span data-ttu-id="eb993-110">Validar la configuración de análisis de registros</span><span class="sxs-lookup"><span data-stu-id="eb993-110">Validate Log Analytics configuration</span></span>](azure-monitor-deploy.md#validate_LogAnalytics)
2. [<span data-ttu-id="eb993-111">Configurar dispositivos de prueba para la configuración de administración del análisis de registros</span><span class="sxs-lookup"><span data-stu-id="eb993-111">Configure test devices for Log Analytics management setup</span></span>](azure-monitor-deploy.md#configure_test_devices)
3. [<span data-ttu-id="eb993-112">Asignar campos personalizados</span><span class="sxs-lookup"><span data-stu-id="eb993-112">Map custom fields</span></span>](azure-monitor-deploy.md#Custom_fields)
4. [<span data-ttu-id="eb993-113">Definir las vistas de salas de Microsoft Teams en análisis de registros</span><span class="sxs-lookup"><span data-stu-id="eb993-113">Define the Microsoft Teams Rooms views in Log Analytics</span></span>](azure-monitor-deploy.md#Define_Views)
5. [<span data-ttu-id="eb993-114">Definir alertas</span><span class="sxs-lookup"><span data-stu-id="eb993-114">Define alerts</span></span>](azure-monitor-deploy.md#Alerts)
6. [<span data-ttu-id="eb993-115">Configurar todos los dispositivos para la supervisión</span><span class="sxs-lookup"><span data-stu-id="eb993-115">Configure all devices for Monitoring</span></span>](azure-monitor-deploy.md#configure_all_devices)
7. [<span data-ttu-id="eb993-116">Configurar otras soluciones de Azure monitor</span><span class="sxs-lookup"><span data-stu-id="eb993-116">Configure additional Azure Monitor solutions</span></span>](azure-monitor-deploy.md#Solutions)

> [!IMPORTANT]
> <span data-ttu-id="eb993-117">Aunque con la configuración mínima, el análisis de registros de Azure monitor puede supervisar un equipo con un sistema operativo Windows, pero sigue habiendo algunos pasos específicos de las salas de Microsoft teams que debe llevar a cabo antes de empezar a implementar agentes en todos los equipos de Microsoft. Dispositivos de salas.</span><span class="sxs-lookup"><span data-stu-id="eb993-117">Although with minimal configuration, Azure Monitor Log Analytics can monitor a computer running a Windows operating system, there are still some Microsoft Teams Rooms–specific steps that you need to take before you start deploying agents to all Microsoft Teams Rooms devices.</span></span>
> <span data-ttu-id="eb993-118">Por lo tanto, le recomendamos encarecidamente que realice todos los pasos de configuración en el orden correcto para una instalación y configuración controlada.</span><span class="sxs-lookup"><span data-stu-id="eb993-118">Therefore, we highly recommend you perform all configuration steps in the right order for a controlled setup and configuration.</span></span> <span data-ttu-id="eb993-119">La calidad del resultado final depende de la calidad de la configuración inicial.</span><span class="sxs-lookup"><span data-stu-id="eb993-119">The quality of the end result very much depends on the quality of the initial configuration.</span></span>

## <a name="validate-log-analytics-configuration"></a><span data-ttu-id="eb993-120">Validar la configuración de análisis de registros</span><span class="sxs-lookup"><span data-stu-id="eb993-120">Validate Log Analytics configuration</span></span>
<span data-ttu-id="eb993-121"><a name="validate_LogAnalytics"> </a></span><span class="sxs-lookup"><span data-stu-id="eb993-121"></span></span>

<span data-ttu-id="eb993-122">Debe tener un área de trabajo de análisis de registros para empezar a recopilar registros de los dispositivos de salas de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="eb993-122">You need to have a Log Analytics workspace to start collecting logs from Microsoft Teams Rooms devices.</span></span> <span data-ttu-id="eb993-123">Un área de trabajo es un entorno de análisis de registros único con su propio repositorio de datos, orígenes de datos y soluciones.</span><span class="sxs-lookup"><span data-stu-id="eb993-123">A workspace is a unique Log Analytics environment with its own data repository, data sources, and solutions.</span></span> <span data-ttu-id="eb993-124">Si ya tiene un área de trabajo de análisis de registros, puede usarla para supervisar la implementación de las salas de Microsoft Teams o también puede crear un área de trabajo de análisis de registros dedicada específica para sus necesidades de supervisión de salas de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="eb993-124">If you already have an existing Log Analytics workspace, you might use it to monitor your Microsoft Teams Rooms deployment or alternatively, you can create a dedicated Log Analytics workspace specific to your Microsoft Teams Rooms monitoring needs.</span></span>

<span data-ttu-id="eb993-125">Si necesita crear un nuevo área de trabajo de análisis de registros, siga las instrucciones del artículo [crear un área de trabajo de análisis de registros en el portal de Azure](https://docs.microsoft.com/azure/azure-monitor/learn/quick-create-workspace)</span><span class="sxs-lookup"><span data-stu-id="eb993-125">If you need to create a new Log Analytics workspace, follow the instructions in the article [Create a Log Analytics workspace in the Azure portal](https://docs.microsoft.com/azure/azure-monitor/learn/quick-create-workspace)</span></span>

> [!NOTE]
> <span data-ttu-id="eb993-126">Para usar el análisis de registros con el monitor de Azure, debe tener una suscripción de Azure activa.</span><span class="sxs-lookup"><span data-stu-id="eb993-126">To use Log Analytics with Azure Monitor, you need to have an active Azure subscription.</span></span> <span data-ttu-id="eb993-127">Si no tiene una suscripción de Azure, puede crear [una suscripción de prueba gratuita](https://azure.microsoft.com/free) como punto de partida.</span><span class="sxs-lookup"><span data-stu-id="eb993-127">If you don’t have an Azure subscription, you can create [a free trial subscription](https://azure.microsoft.com/free) as a starting point.</span></span>

### <a name="configure-log-analytics-to-collect-microsoft-teams-rooms-event-logs"></a><span data-ttu-id="eb993-128">Configurar el análisis de registros para recopilar los registros de eventos de Microsoft Teams Rooms</span><span class="sxs-lookup"><span data-stu-id="eb993-128">Configure Log Analytics to collect Microsoft Teams Rooms event logs</span></span>

<span data-ttu-id="eb993-129">El análisis de registros solo recopila eventos de los registros de eventos de Windows que se especifican en la configuración.</span><span class="sxs-lookup"><span data-stu-id="eb993-129">Log Analytics only collects events from the Windows event logs that are specified in the settings.</span></span> <span data-ttu-id="eb993-130">Para cada registro, solo se recopilan los eventos con las gravedades seleccionadas.</span><span class="sxs-lookup"><span data-stu-id="eb993-130">For each log, only the events with the selected severities are collected.</span></span>

<span data-ttu-id="eb993-131">Debe configurar el análisis de registros para recopilar los registros necesarios para supervisar el estado de la aplicación y el dispositivo de las salas de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="eb993-131">You need to configure Log Analytics to collect the logs required to monitor Microsoft Teams Rooms device and application status.</span></span> <span data-ttu-id="eb993-132">Los dispositivos de salas de Microsoft Teams usan el registro de eventos **del sistema** de salas de Skype.</span><span class="sxs-lookup"><span data-stu-id="eb993-132">Microsoft Teams Rooms devices use the **Skype Room System** event log.</span></span>

<span data-ttu-id="eb993-133">Para configurar el análisis de registros para recopilar eventos de Microsoft Teams Rooms, consulte [orígenes de datos del registro de eventos de Windows en Azure monitor](https://docs.microsoft.com/azure/azure-monitor/platform/data-sources-windows-events)</span><span class="sxs-lookup"><span data-stu-id="eb993-133">To configure Log Analytics to collect the Microsoft Teams Rooms events, see [Windows event log data sources in Azure Monitor](https://docs.microsoft.com/azure/azure-monitor/platform/data-sources-windows-events)</span></span>

<span data-ttu-id="eb993-134">![Captura de pantalla de configuración de registro de eventos](../media/Deploy-Azure-Monitor-2.png "Configuración del registro de eventos")</span><span class="sxs-lookup"><span data-stu-id="eb993-134">![Screen shot of event log settings](../media/Deploy-Azure-Monitor-2.png "Event log settings")</span></span>

> [!IMPORTANT]
> <span data-ttu-id="eb993-135">Configure el registro de eventos de Windows y especifique **sistema de salas de Skype** como nombre de registro de eventos y, a continuación, seleccione las casillas **error**, **ADVERTENCIA**e **información** .</span><span class="sxs-lookup"><span data-stu-id="eb993-135">Configure Windows Event Log settings and enter **Skype Room System** as event log name, and then select the **Error**, **Warning**, and **Information** check boxes.</span></span>

## <a name="configure-test-devices-for-azure-monitoring"></a><span data-ttu-id="eb993-136">Configurar dispositivos de prueba para la supervisión de Azure</span><span class="sxs-lookup"><span data-stu-id="eb993-136">Configure test devices for Azure Monitoring</span></span>
<span data-ttu-id="eb993-137"><a name="configure_test_devices"> </a></span><span class="sxs-lookup"><span data-stu-id="eb993-137"></span></span>

<span data-ttu-id="eb993-138">Debe preparar el análisis de registros para poder supervisar los eventos relacionados con las salas de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="eb993-138">You need to prepare Log Analytics to be able to monitor Microsoft Teams Rooms–related events.</span></span> <span data-ttu-id="eb993-139">Para empezar, debe implementar agentes de supervisión de Microsoft en solo uno o dos dispositivos de Microsoft Team Rooms a los que tiene acceso físico y obtener esos dispositivos de prueba generados en el área de trabajo del análisis de registros.</span><span class="sxs-lookup"><span data-stu-id="eb993-139">To start with, you need to deploy Microsoft Monitoring agents to just one or two Microsoft Teams Rooms devices that you have physical access to, and get those test devices generate some data and push it to the Log Analytics workspace.</span></span>

### <a name="install-microsoft-monitoring-agents-to-test-devices"></a><span data-ttu-id="eb993-140">Instalar agentes de supervisión de Microsoft para probar dispositivos</span><span class="sxs-lookup"><span data-stu-id="eb993-140">Install Microsoft Monitoring agents to test devices</span></span>

<span data-ttu-id="eb993-141">Implemente el agente de supervisión de Microsoft en los dispositivos de prueba con las instrucciones proporcionadas en [conectar equipos de Windows con el servicio de análisis de registros en Azure](https://docs.microsoft.com/azure/azure-monitor/platform/agent-windows).</span><span class="sxs-lookup"><span data-stu-id="eb993-141">Deploy the Microsoft Monitoring agent to the test devices by using the instructions provided in [Connect Windows computers to the Log Analytics service in Azure](https://docs.microsoft.com/azure/azure-monitor/platform/agent-windows).</span></span> <span data-ttu-id="eb993-142">Este artículo proporciona información detallada sobre los pasos para implementar Microsoft Monitoring Agent para Windows, instrucciones para obtener el identificador del área de ***trabajo*** del análisis de registros y la ***clave principal*** para conectar los dispositivos de Microsoft Teams Rooms la implementación de Azure monitor y los pasos para comprobar la Conectividad del agente para la instancia de análisis de registros.</span><span class="sxs-lookup"><span data-stu-id="eb993-142">This article provides detailed information about the steps for deploying Microsoft Monitoring Agent for Windows, instructions for obtaining the Log Analytics ***Workspace ID*** and the ***primary key*** to get Microsoft Teams Rooms devices connected to your Azure Monitor deployment, and steps to verify agent connectivity to Log Analytics instance.</span></span>

### <a name="generate-sample-microsoft-teams-rooms-events"></a><span data-ttu-id="eb993-143">Generar eventos de salas de Microsoft Teams de ejemplo</span><span class="sxs-lookup"><span data-stu-id="eb993-143">Generate sample Microsoft Teams Rooms events</span></span>

<span data-ttu-id="eb993-144">Una vez implementado el agente de supervisión de Microsoft en los dispositivos de prueba, compruebe que Azure monitor recopile los datos necesarios del registro de eventos.</span><span class="sxs-lookup"><span data-stu-id="eb993-144">After the Microsoft Monitoring agent is deployed onto the test devices, verify that the required event log data is collected by Azure Monitor.</span></span>

> [!NOTE]
> <span data-ttu-id="eb993-145">Reinicie el dispositivo después de la instalación de Microsoft Monitoring Agent y asegúrese de que se haya iniciado la aplicación de reuniones Microsoft Teams Rooms para que pueda generar nuevos eventos en el registro de eventos.</span><span class="sxs-lookup"><span data-stu-id="eb993-145">Reboot the device after the installation of the Microsoft Monitoring agent, and make sure that Microsoft Teams Rooms Meeting app is started, so that it can generate new events into the Event Log.</span></span>

1.  <span data-ttu-id="eb993-146">Inicie sesión en el [portal de Microsoft Azure](https://portal.azure.com) y vaya a análisis de registros y seleccione su área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="eb993-146">Sign in to the [Microsoft Azure portal](https://portal.azure.com) and go to Log Analytics and select your workspace.</span></span>

2.  <span data-ttu-id="eb993-147">Enumere los eventos de latido generados por un dispositivo de salas de Microsoft Teams:</span><span class="sxs-lookup"><span data-stu-id="eb993-147">List the heartbeat events generated by a Microsoft Teams Rooms device:</span></span>
    1.  <span data-ttu-id="eb993-148">Seleccione el área de trabajo y vaya a **registros** y use una consulta para recuperar los registros de latido que tendrán los campos personalizados para salas de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="eb993-148">Select your workspace and go to **Logs** and use a query to retrieve the heartbeat records that will have the custom fields for Microsoft Teams Rooms.</span></span>
    2.  <span data-ttu-id="eb993-149">Consulta de ejemplo:`Event | where Source == "SRS-App" and EventID == 2000`</span><span class="sxs-lookup"><span data-stu-id="eb993-149">Sample query: `Event | where Source == "SRS-App" and EventID == 2000`</span></span>

3.  <span data-ttu-id="eb993-150">Asegúrese de que la consulta devuelve los registros que incluyen los eventos generados por la aplicación reuniones de salas de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="eb993-150">Make sure that the query returns log records that include events generated by the Microsoft Teams Rooms meetings app.</span></span>

4.  <span data-ttu-id="eb993-151">Genere un problema de hardware y valide que los eventos necesarios estén registrados en análisis de registros de Azure.</span><span class="sxs-lookup"><span data-stu-id="eb993-151">Generate a hardware issue, and validate that the required events are logged in Azure Log Analytics.</span></span>
    1.  <span data-ttu-id="eb993-152">Desconecte uno de los dispositivos periféricos en el sistema de prueba de salas de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="eb993-152">Unplug one of the peripheral devices on the test Microsoft Teams Rooms system.</span></span> <span data-ttu-id="eb993-153">Puede ser la cámara, el teléfono con manos libres, el micrófono o la habitación frontal</span><span class="sxs-lookup"><span data-stu-id="eb993-153">This could be the camera, speakerphone, microphone, or Front Room Display</span></span>
    2.  <span data-ttu-id="eb993-154">Espere 10 minutos para que el registro de eventos se rellene en análisis de registros de Azure.</span><span class="sxs-lookup"><span data-stu-id="eb993-154">Wait 10 minutes for the event log to be populated in Azure Log Analytics.</span></span>
    3.  <span data-ttu-id="eb993-155">Usar una consulta para enumerar eventos de error de hardware:`Event | where Source == "SRS-App" and EventID == 3001`</span><span class="sxs-lookup"><span data-stu-id="eb993-155">Use a query to list hardware error events: `Event | where Source == "SRS-App" and EventID == 3001`</span></span>

5.  <span data-ttu-id="eb993-156">Genere un problema de aplicación y compruebe que los eventos necesarios estén registrados.</span><span class="sxs-lookup"><span data-stu-id="eb993-156">Generate an application issue, and validate that the required events are logged.</span></span>
    1.  <span data-ttu-id="eb993-157">Modifique la configuración de la aplicación salas de Microsoft Teams y escriba una pareja de dirección y contraseña incorrecta en el protocolo de inicio de sesión (SIP).</span><span class="sxs-lookup"><span data-stu-id="eb993-157">Modify Microsoft Teams Rooms application configuration, and type an incorrect Session Initiation Protocol (SIP) address/password pair.</span></span>
    2.  <span data-ttu-id="eb993-158">Espere 10 minutos para que el registro de eventos se rellene en análisis de registros de Azure.</span><span class="sxs-lookup"><span data-stu-id="eb993-158">Wait 10 minutes for the event log to be populated in Azure Log Analytics.</span></span>
    3.  <span data-ttu-id="eb993-159">Usar una consulta para enumerar eventos de error de la aplicación:`Event | where Source == "SRS-App" and EventID == 2001 and EventLevel == 1`</span><span class="sxs-lookup"><span data-stu-id="eb993-159">Use a query to list application error events: `Event | where Source == "SRS-App" and EventID == 2001 and EventLevel == 1`</span></span>

> [!IMPORTANT]
> <span data-ttu-id="eb993-160">Estos registros de eventos de ejemplo son obligatorios para poder configurar campos personalizados.</span><span class="sxs-lookup"><span data-stu-id="eb993-160">These sample event logs are required before custom fields can be configured.</span></span> <span data-ttu-id="eb993-161">No continúe con el paso siguiente hasta que haya recopilado los registros de eventos necesarios.</span><span class="sxs-lookup"><span data-stu-id="eb993-161">Don’t proceed to the next step until you have collected the required event logs.</span></span>

## <a name="map-custom-fields"></a><span data-ttu-id="eb993-162">Asignar campos personalizados</span><span class="sxs-lookup"><span data-stu-id="eb993-162">Map custom fields</span></span>
<span data-ttu-id="eb993-163"><a name="Custom_fields"> </a></span><span class="sxs-lookup"><span data-stu-id="eb993-163"></span></span>

<span data-ttu-id="eb993-164">Los campos personalizados se usan para extraer datos específicos de los registros de eventos.</span><span class="sxs-lookup"><span data-stu-id="eb993-164">You use custom fields to extract specific data from the event logs.</span></span> <span data-ttu-id="eb993-165">Debe definir campos personalizados que se usarán más adelante con los mosaicos, las vistas de panel y las alertas.</span><span class="sxs-lookup"><span data-stu-id="eb993-165">You need to define custom fields that will be used later with your tiles, dashboard views, and alerts.</span></span> <span data-ttu-id="eb993-166">Consulte [campos personalizados en análisis de registros](https://docs.microsoft.com/azure/azure-monitor/platform/custom-fields) y familiarícese con los conceptos antes de empezar a crear los campos personalizados.</span><span class="sxs-lookup"><span data-stu-id="eb993-166">See [Custom fields in Log Analytics](https://docs.microsoft.com/azure/azure-monitor/platform/custom-fields) and become familiar with the concepts before you start creating your custom fields.</span></span>

<span data-ttu-id="eb993-167">Para extraer los campos personalizados fuera de los registros de eventos capturados, siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="eb993-167">To extract your custom fields out of the captured event logs, follow these steps:</span></span>

1.  <span data-ttu-id="eb993-168">Inicie sesión en el [portal de Microsoft Azure](https://portal.azure.com) y vaya a análisis de registros y seleccione su área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="eb993-168">Sign in to the [Microsoft Azure portal](https://portal.azure.com) and go to Log Analytics and select your workspace.</span></span>

2. <span data-ttu-id="eb993-169">Enumere los eventos generados por un dispositivo de salas de Microsoft Teams:</span><span class="sxs-lookup"><span data-stu-id="eb993-169">List the events generated by a Microsoft Teams Rooms device:</span></span>
   1.  <span data-ttu-id="eb993-170">Vaya a **registros** y use una consulta para recuperar los registros que tendrán el campo personalizado.</span><span class="sxs-lookup"><span data-stu-id="eb993-170">Go to **Logs** and use a query to retrieve the records that will have the custom field.</span></span>
   2.  <span data-ttu-id="eb993-171">Consulta de ejemplo:`Event | where Source == "SRS-App" and EventID == 2000`</span><span class="sxs-lookup"><span data-stu-id="eb993-171">Sample query: `Event | where Source == "SRS-App" and EventID == 2000`</span></span>

3. <span data-ttu-id="eb993-172">Seleccione uno de los registros, seleccione el botón de la izquierda e inicie el Asistente para extracción de campos.</span><span class="sxs-lookup"><span data-stu-id="eb993-172">Select one of the records, select the button to the left, and start the field extraction wizard.</span></span>
4. <span data-ttu-id="eb993-173">Resalte los datos que desea extraer de la RenderedDescription y proporcione un título para el campo.</span><span class="sxs-lookup"><span data-stu-id="eb993-173">Highlight the data you’d like to extract from the RenderedDescription and provide a Field Title.</span></span> <span data-ttu-id="eb993-174">Los nombres de campo que debe usar se proporcionan en la tabla 1.</span><span class="sxs-lookup"><span data-stu-id="eb993-174">The field names that you should use are provided in Table 1.</span></span>

   <span data-ttu-id="eb993-175">![Definición de campo personalizado](../media/Deploy-Azure-Monitor-4.png "Definición de campo personalizado")</span><span class="sxs-lookup"><span data-stu-id="eb993-175">![Custom field definition](../media/Deploy-Azure-Monitor-4.png "Custom field definition")</span></span>

5. <span data-ttu-id="eb993-176">Use las asignaciones que se muestran en la *tabla 1*.</span><span class="sxs-lookup"><span data-stu-id="eb993-176">Use the mappings shown in *Table 1*.</span></span> <span data-ttu-id="eb993-177">El análisis de registros anexará automáticamente la cadena de \*\* \_CF\*\* al definir el nuevo campo.</span><span class="sxs-lookup"><span data-stu-id="eb993-177">Log Analytics will automatically append the **\_CF** string when you define the new field.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="eb993-178">Recuerde que todos los campos de análisis de registro y JSON distinguen entre mayúsculas y minúsculas.</span><span class="sxs-lookup"><span data-stu-id="eb993-178">Remember that all JSON and Log Analytics fields are case-sensitive.</span></span>
> 
> <span data-ttu-id="eb993-179">Preste atención a las consultas necesarias para cada campo personalizado de la tabla siguiente.</span><span class="sxs-lookup"><span data-stu-id="eb993-179">Pay attention to the queries required for each custom field in the table below.</span></span> <span data-ttu-id="eb993-180">Debe usar las consultas correctas para el análisis de registros para extraer correctamente los valores de campo personalizados.</span><span class="sxs-lookup"><span data-stu-id="eb993-180">You need to use the correct queries for Log Analytics to successfully extract custom field values.</span></span>
> 
 <span data-ttu-id="eb993-181">![Definición de campo personalizado](../media/Deploy-Azure-Monitor-5.png "Definición de campo personalizado")</span><span class="sxs-lookup"><span data-stu-id="eb993-181">![Custom field definition](../media/Deploy-Azure-Monitor-5.png "Custom field definition")</span></span>

<span data-ttu-id="eb993-182">**Tabla 1**</span><span class="sxs-lookup"><span data-stu-id="eb993-182">**Table 1**</span></span>

| <span data-ttu-id="eb993-183">**Campo JSON**</span><span class="sxs-lookup"><span data-stu-id="eb993-183">**JSON field**</span></span>                   | <span data-ttu-id="eb993-184">**Campo personalizado de análisis de registros**</span><span class="sxs-lookup"><span data-stu-id="eb993-184">**Log Analytics custom field**</span></span> | <span data-ttu-id="eb993-185">**Nivel del**</span><span class="sxs-lookup"><span data-stu-id="eb993-185">**Event ID**</span></span> | <span data-ttu-id="eb993-186">**Consulta para usar con la extracción**</span><span class="sxs-lookup"><span data-stu-id="eb993-186">**Query to use with the extraction**</span></span>                   |
|:---------------------------------|:-------------------------------|:-------------|:-------------------------------------------------------|
| <span data-ttu-id="eb993-187">Descripción</span><span class="sxs-lookup"><span data-stu-id="eb993-187">Description</span></span>                      | <span data-ttu-id="eb993-188">SRSEventDescription</span><span class="sxs-lookup"><span data-stu-id="eb993-188">SRSEventDescription</span></span>         | <span data-ttu-id="eb993-189">**2000**</span><span class="sxs-lookup"><span data-stu-id="eb993-189">**2000**</span></span>     | <span data-ttu-id="eb993-190">Evento \| donde Source = = "SRS-app" y EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="eb993-190">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="eb993-191">ResourceState</span><span class="sxs-lookup"><span data-stu-id="eb993-191">ResourceState</span></span>                    | <span data-ttu-id="eb993-192">SRSResourceState</span><span class="sxs-lookup"><span data-stu-id="eb993-192">SRSResourceState</span></span>            | <span data-ttu-id="eb993-193">**2000**</span><span class="sxs-lookup"><span data-stu-id="eb993-193">**2000**</span></span>     | <span data-ttu-id="eb993-194">Evento \| donde Source = = "SRS-app" y EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="eb993-194">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="eb993-195">OperationName</span><span class="sxs-lookup"><span data-stu-id="eb993-195">OperationName</span></span>                    | <span data-ttu-id="eb993-196">SRSOperationName</span><span class="sxs-lookup"><span data-stu-id="eb993-196">SRSOperationName</span></span>            | <span data-ttu-id="eb993-197">**2000**</span><span class="sxs-lookup"><span data-stu-id="eb993-197">**2000**</span></span>     | <span data-ttu-id="eb993-198">Evento \| donde Source = = "SRS-app" y EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="eb993-198">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="eb993-199">OperationResult</span><span class="sxs-lookup"><span data-stu-id="eb993-199">OperationResult</span></span>                  | <span data-ttu-id="eb993-200">SRSOperationResult</span><span class="sxs-lookup"><span data-stu-id="eb993-200">SRSOperationResult</span></span>          | <span data-ttu-id="eb993-201">**2000**</span><span class="sxs-lookup"><span data-stu-id="eb993-201">**2000**</span></span>     | <span data-ttu-id="eb993-202">Evento \| donde Source = = "SRS-app" y EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="eb993-202">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="eb993-203">Sistema operativo</span><span class="sxs-lookup"><span data-stu-id="eb993-203">OS</span></span>                               | <span data-ttu-id="eb993-204">SRSOSVersion</span><span class="sxs-lookup"><span data-stu-id="eb993-204">SRSOSVersion</span></span>                | <span data-ttu-id="eb993-205">**2000**</span><span class="sxs-lookup"><span data-stu-id="eb993-205">**2000**</span></span>     | <span data-ttu-id="eb993-206">Evento \| donde Source = = "SRS-app" y EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="eb993-206">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="eb993-207">OSVersion</span><span class="sxs-lookup"><span data-stu-id="eb993-207">OSVersion</span></span>                        | <span data-ttu-id="eb993-208">SRSOSLongVersion</span><span class="sxs-lookup"><span data-stu-id="eb993-208">SRSOSLongVersion</span></span>            | <span data-ttu-id="eb993-209">**2000**</span><span class="sxs-lookup"><span data-stu-id="eb993-209">**2000**</span></span>     | <span data-ttu-id="eb993-210">Evento \| donde Source = = "SRS-app" y EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="eb993-210">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="eb993-211">Alias</span><span class="sxs-lookup"><span data-stu-id="eb993-211">Alias</span></span>                            | <span data-ttu-id="eb993-212">SRSAlias</span><span class="sxs-lookup"><span data-stu-id="eb993-212">SRSAlias</span></span>                    | <span data-ttu-id="eb993-213">**2000**</span><span class="sxs-lookup"><span data-stu-id="eb993-213">**2000**</span></span>     | <span data-ttu-id="eb993-214">Evento \| donde Source = = "SRS-app" y EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="eb993-214">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="eb993-215">DisplayName</span><span class="sxs-lookup"><span data-stu-id="eb993-215">DisplayName</span></span>                      | <span data-ttu-id="eb993-216">SRSDisplayName</span><span class="sxs-lookup"><span data-stu-id="eb993-216">SRSDisplayName</span></span>              | <span data-ttu-id="eb993-217">**2000**</span><span class="sxs-lookup"><span data-stu-id="eb993-217">**2000**</span></span>     | <span data-ttu-id="eb993-218">Evento \| donde Source = = "SRS-app" y EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="eb993-218">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="eb993-219">AppVersion</span><span class="sxs-lookup"><span data-stu-id="eb993-219">AppVersion</span></span>                       | <span data-ttu-id="eb993-220">SRSAppVersion</span><span class="sxs-lookup"><span data-stu-id="eb993-220">SRSAppVersion</span></span>               | <span data-ttu-id="eb993-221">**2000**</span><span class="sxs-lookup"><span data-stu-id="eb993-221">**2000**</span></span>     | <span data-ttu-id="eb993-222">Evento \| donde Source = = "SRS-app" y EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="eb993-222">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="eb993-223">IPv4Address</span><span class="sxs-lookup"><span data-stu-id="eb993-223">IPv4Address</span></span>                      | <span data-ttu-id="eb993-224">SRSIPv4Address</span><span class="sxs-lookup"><span data-stu-id="eb993-224">SRSIPv4Address</span></span>              | <span data-ttu-id="eb993-225">**2000**</span><span class="sxs-lookup"><span data-stu-id="eb993-225">**2000**</span></span>     | <span data-ttu-id="eb993-226">Evento \| donde Source = = "SRS-app" y EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="eb993-226">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="eb993-227">IPv6Address</span><span class="sxs-lookup"><span data-stu-id="eb993-227">IPv6Address</span></span>                      | <span data-ttu-id="eb993-228">SRSIPv6Address</span><span class="sxs-lookup"><span data-stu-id="eb993-228">SRSIPv6Address</span></span>              | <span data-ttu-id="eb993-229">**2000**</span><span class="sxs-lookup"><span data-stu-id="eb993-229">**2000**</span></span>     | <span data-ttu-id="eb993-230">Evento \| donde Source = = "SRS-app" y EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="eb993-230">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="eb993-231">Estado del micrófono de la Conferencia</span><span class="sxs-lookup"><span data-stu-id="eb993-231">Conference Microphone status</span></span>     | <span data-ttu-id="eb993-232">SRSConfMicrophoneStatus</span><span class="sxs-lookup"><span data-stu-id="eb993-232">SRSConfMicrophoneStatus</span></span>     | <span data-ttu-id="eb993-233">**3001**</span><span class="sxs-lookup"><span data-stu-id="eb993-233">**3001**</span></span>     | <span data-ttu-id="eb993-234">Evento \| donde Source = = "SRS-app" y EventID = = 3001</span><span class="sxs-lookup"><span data-stu-id="eb993-234">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |
| <span data-ttu-id="eb993-235">Estado del altavoz de la Conferencia</span><span class="sxs-lookup"><span data-stu-id="eb993-235">Conference Speaker status</span></span>        | <span data-ttu-id="eb993-236">SRSConfSpeakerStatus</span><span class="sxs-lookup"><span data-stu-id="eb993-236">SRSConfSpeakerStatus</span></span>        | <span data-ttu-id="eb993-237">**3001**</span><span class="sxs-lookup"><span data-stu-id="eb993-237">**3001**</span></span>     | <span data-ttu-id="eb993-238">Evento \| donde Source = = "SRS-app" y EventID = = 3001</span><span class="sxs-lookup"><span data-stu-id="eb993-238">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |
| <span data-ttu-id="eb993-239">Estado de altavoz predeterminado</span><span class="sxs-lookup"><span data-stu-id="eb993-239">Default Speaker status</span></span>           | <span data-ttu-id="eb993-240">SRSDefaultSpeakerStatus</span><span class="sxs-lookup"><span data-stu-id="eb993-240">SRSDefaultSpeakerStatus</span></span>     | <span data-ttu-id="eb993-241">**3001**</span><span class="sxs-lookup"><span data-stu-id="eb993-241">**3001**</span></span>     | <span data-ttu-id="eb993-242">Evento \| donde Source = = "SRS-app" y EventID = = 3001</span><span class="sxs-lookup"><span data-stu-id="eb993-242">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |
| <span data-ttu-id="eb993-243">Estado de la cámara</span><span class="sxs-lookup"><span data-stu-id="eb993-243">Camera status</span></span>                    | <span data-ttu-id="eb993-244">SRSCameraStatus</span><span class="sxs-lookup"><span data-stu-id="eb993-244">SRSCameraStatus</span></span>             | <span data-ttu-id="eb993-245">**3001**</span><span class="sxs-lookup"><span data-stu-id="eb993-245">**3001**</span></span>     | <span data-ttu-id="eb993-246">Evento \| donde Source = = "SRS-app" y EventID = = 3001</span><span class="sxs-lookup"><span data-stu-id="eb993-246">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |
| <span data-ttu-id="eb993-247">Estado de visualización del salón</span><span class="sxs-lookup"><span data-stu-id="eb993-247">Front of Room Display status</span></span>     | <span data-ttu-id="eb993-248">SRSFORDStatus</span><span class="sxs-lookup"><span data-stu-id="eb993-248">SRSFORDStatus</span></span>               | <span data-ttu-id="eb993-249">**3001**</span><span class="sxs-lookup"><span data-stu-id="eb993-249">**3001**</span></span>     | <span data-ttu-id="eb993-250">Evento \| donde Source = = "SRS-app" y EventID = = 3001</span><span class="sxs-lookup"><span data-stu-id="eb993-250">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |
| <span data-ttu-id="eb993-251">Estado del sensor de movimiento</span><span class="sxs-lookup"><span data-stu-id="eb993-251">Motion Sensor status</span></span>             | <span data-ttu-id="eb993-252">SRSMotionSensorStatus</span><span class="sxs-lookup"><span data-stu-id="eb993-252">SRSMotionSensorStatus</span></span>       | <span data-ttu-id="eb993-253">**3001**</span><span class="sxs-lookup"><span data-stu-id="eb993-253">**3001**</span></span>     | <span data-ttu-id="eb993-254">Evento \| donde Source = = "SRS-app" y EventID = = 3001</span><span class="sxs-lookup"><span data-stu-id="eb993-254">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |
| <span data-ttu-id="eb993-255">Estado de ingesta HDMI</span><span class="sxs-lookup"><span data-stu-id="eb993-255">HDMI Ingest status</span></span>               | <span data-ttu-id="eb993-256">SRSHDMIIngestStatus</span><span class="sxs-lookup"><span data-stu-id="eb993-256">SRSHDMIIngestStatus</span></span>         | <span data-ttu-id="eb993-257">**3001**</span><span class="sxs-lookup"><span data-stu-id="eb993-257">**3001**</span></span>     | <span data-ttu-id="eb993-258">Evento \| donde Source = = "SRS-app" y EventID = = 3001</span><span class="sxs-lookup"><span data-stu-id="eb993-258">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |


## <a name="define-the-microsoft-teams-rooms-views-in-log-analytics"></a><span data-ttu-id="eb993-259">Definir las vistas de salas de Microsoft Teams en análisis de registros</span><span class="sxs-lookup"><span data-stu-id="eb993-259">Define the Microsoft Teams Rooms views in Log Analytics</span></span>
<span data-ttu-id="eb993-260"><a name="Define_Views"> </a></span><span class="sxs-lookup"><span data-stu-id="eb993-260"></span></span>

<span data-ttu-id="eb993-261">Una vez que se recopilan los datos y se asignan los campos personalizados, puede usar el diseñador de vistas para desarrollar un panel con varios mosaicos para supervisar los eventos de salas de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="eb993-261">After data is collected and custom fields are mapped, you can use View Designer to develop a dashboard containing various tiles to monitor Microsoft Teams Rooms events.</span></span> <span data-ttu-id="eb993-262">Use Diseñador de vistas para crear los siguientes iconos.</span><span class="sxs-lookup"><span data-stu-id="eb993-262">Use View Designer to create the following tiles.</span></span> <span data-ttu-id="eb993-263">Para obtener más información, vea [crear vistas personalizadas con el diseñador de vistas en análisis de registros](https://docs.microsoft.com/azure/azure-monitor/platform/view-designer)</span><span class="sxs-lookup"><span data-stu-id="eb993-263">For more information, see [Create custom views by using View Designer in Log Analytics](https://docs.microsoft.com/azure/azure-monitor/platform/view-designer)</span></span>

> [!NOTE]
> <span data-ttu-id="eb993-264">Los pasos anteriores de esta guía deberían haberse completado para que los mosaicos del panel funcionen correctamente.</span><span class="sxs-lookup"><span data-stu-id="eb993-264">Previous steps in this guide should have been completed for the dashboard tiles to work properly.</span></span>

### <a name="create-a-microsoft-teams-rooms-dashboard-by-using-the-import-method"></a><span data-ttu-id="eb993-265">Crear un panel de salas de Microsoft Teams con el método de importación</span><span class="sxs-lookup"><span data-stu-id="eb993-265">Create a Microsoft Teams Rooms dashboard by using the import method</span></span>

<span data-ttu-id="eb993-266">Puede importar un panel de salas de Microsoft Teams y empezar a supervisar los dispositivos rápidamente.</span><span class="sxs-lookup"><span data-stu-id="eb993-266">You can import an Microsoft Teams Rooms dashboard and start monitoring your devices quickly.</span></span> <span data-ttu-id="eb993-267">Siga estos pasos para importar el panel:</span><span class="sxs-lookup"><span data-stu-id="eb993-267">Take the following steps to import the dashboard:</span></span>

1.  <span data-ttu-id="eb993-268">Obtén el archivo del panel [SkypeRoomSystems_v2. omsview](https://go.microsoft.com/fwlink/?linkid=835675) .</span><span class="sxs-lookup"><span data-stu-id="eb993-268">Get the [SkypeRoomSystems_v2.omsview](https://go.microsoft.com/fwlink/?linkid=835675) dashboard file.</span></span>
2.  <span data-ttu-id="eb993-269">Inicie sesión en el [portal de Microsoft Azure](https://portal.azure.com) y vaya a análisis de registros y seleccione su área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="eb993-269">Sign in to the [Microsoft Azure portal](https://portal.azure.com) and go to Log Analytics and select your workspace.</span></span>
3.  <span data-ttu-id="eb993-270">Abra el **Diseñador de vistas**.</span><span class="sxs-lookup"><span data-stu-id="eb993-270">Open **View Designer**.</span></span>
4.  <span data-ttu-id="eb993-271">Seleccione **importar**y, a continuación, seleccione el archivo **SkypeRoomSystems_v2. omsview** .</span><span class="sxs-lookup"><span data-stu-id="eb993-271">Select **Import**, and then select the **SkypeRoomSystems_v2.omsview** file.</span></span>
5.  <span data-ttu-id="eb993-272">Seleccione **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="eb993-272">Select **Save**.</span></span>

### <a name="create-a-microsoft-teams-rooms-dashboard-manually"></a><span data-ttu-id="eb993-273">Crear un panel de salas de Microsoft Teams manualmente</span><span class="sxs-lookup"><span data-stu-id="eb993-273">Create a Microsoft Teams Rooms dashboard manually</span></span>

<span data-ttu-id="eb993-274">También puede crear su propio panel y agregar solo los mosaicos que desea supervisar.</span><span class="sxs-lookup"><span data-stu-id="eb993-274">Alternatively, you can create your own dashboard and add only the tiles that you wish to monitor.</span></span>

#### <a name="configure-the-overview-tile"></a><span data-ttu-id="eb993-275">Configurar el mosaico Descripción general</span><span class="sxs-lookup"><span data-stu-id="eb993-275">Configure the Overview Tile</span></span>

1.  <span data-ttu-id="eb993-276">Abra el **Diseñador de vistas**.</span><span class="sxs-lookup"><span data-stu-id="eb993-276">Open **View Designer**.</span></span>
2.  <span data-ttu-id="eb993-277">Seleccione **mosaico de información general**y, a continuación, seleccione **dos números** de la galería.</span><span class="sxs-lookup"><span data-stu-id="eb993-277">Select **Overview Tile**, and then select **Two numbers** from the gallery.</span></span>
3.  <span data-ttu-id="eb993-278">Asigne un nombre al mosaico **salas de Microsoft Teams**.</span><span class="sxs-lookup"><span data-stu-id="eb993-278">Name the tile **Microsoft Teams Rooms**.</span></span>
4.  <span data-ttu-id="eb993-279">Definir el **primer mosaico**:</span><span class="sxs-lookup"><span data-stu-id="eb993-279">Define the **First Tile**:</span></span><br>
    <span data-ttu-id="eb993-280">**Leyenda:** Dispositivos que han enviado un latido al menos una vez durante el mes pasado</span><span class="sxs-lookup"><span data-stu-id="eb993-280">**Legend:** Devices that sent a heartbeat at least once within the last month</span></span><br>
    <span data-ttu-id="eb993-281">**Consulta:**```Event | where EventLog == "Skype Room System" and TimeGenerated > ago(30d) | summarize TotalSRSDevices = dcount(Computer)```</span><span class="sxs-lookup"><span data-stu-id="eb993-281">**Query:** ```Event | where EventLog == "Skype Room System" and TimeGenerated > ago(30d) | summarize TotalSRSDevices = dcount(Computer)```</span></span>
5.  <span data-ttu-id="eb993-282">Defina el **segundo mosaico**:</span><span class="sxs-lookup"><span data-stu-id="eb993-282">Define the **Second Tile**:</span></span><br>
    <span data-ttu-id="eb993-283">**Leyenda:** Dispositivos activos que han enviado un latido durante la última hora</span><span class="sxs-lookup"><span data-stu-id="eb993-283">**Legend:** Active devices that sent a heartbeat within the last hour</span></span><br>
    <span data-ttu-id="eb993-284">**Consulta:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" and TimeGenerated > ago(1h) | summarize TotalSRSDevices = dcount(Computer)```</span><span class="sxs-lookup"><span data-stu-id="eb993-284">**Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" and TimeGenerated > ago(1h) | summarize TotalSRSDevices = dcount(Computer)```</span></span>
6.  <span data-ttu-id="eb993-285">Seleccione **aplicar**.</span><span class="sxs-lookup"><span data-stu-id="eb993-285">Select **Apply**.</span></span>

### <a name="create-a-tile-that-displays-active-devices"></a><span data-ttu-id="eb993-286">Crear un mosaico que muestre los dispositivos activos</span><span class="sxs-lookup"><span data-stu-id="eb993-286">Create a tile that displays active devices</span></span>

1.  <span data-ttu-id="eb993-287">Seleccione **Ver panel** para empezar a agregar los mosaicos.</span><span class="sxs-lookup"><span data-stu-id="eb993-287">Select **View Dashboard** to start adding your tiles.</span></span>
2.  <span data-ttu-id="eb993-288">Seleccionar el **número & lista** de la galería</span><span class="sxs-lookup"><span data-stu-id="eb993-288">Select **Number & list** from the gallery</span></span>
3.  <span data-ttu-id="eb993-289">Defina las propiedades **generales** :</span><span class="sxs-lookup"><span data-stu-id="eb993-289">Define the **General** properties:</span></span><br>
    <span data-ttu-id="eb993-290">**Título del Grupo:** Estado de latido</span><span class="sxs-lookup"><span data-stu-id="eb993-290">**Group Title:** Heartbeat Status</span></span><br>
    <span data-ttu-id="eb993-291">**Grupo nuevo:** Determinado</span><span class="sxs-lookup"><span data-stu-id="eb993-291">**New Group:** Selected</span></span>
4.  <span data-ttu-id="eb993-292">Defina las propiedades del **mosaico** :</span><span class="sxs-lookup"><span data-stu-id="eb993-292">Define the **Tile** properties:</span></span><br>
    <span data-ttu-id="eb993-293">**Leyenda:** Dispositivos activos (latido enviado en los últimos 20 minutos)</span><span class="sxs-lookup"><span data-stu-id="eb993-293">**Legend:** Active devices (heartbeat sent in the last 20 minutes)</span></span><br>
    <span data-ttu-id="eb993-294">\*\*Consulta de icono: \*\* ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" and TimeGenerated > ago(20m) | summarize AggregatedValue = count() by Computer | count```</span><span class="sxs-lookup"><span data-stu-id="eb993-294">**Tile Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" and TimeGenerated > ago(20m) | summarize AggregatedValue = count() by Computer | count```</span></span>
5.  <span data-ttu-id="eb993-295">Defina las propiedades de la **lista** :</span><span class="sxs-lookup"><span data-stu-id="eb993-295">Define the **List** properties:</span></span><br>
    <span data-ttu-id="eb993-296">**Consulta de lista:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" and TimeGenerated > ago(20m) | summarize TimeGenerated = max(TimeGenerated) by Computer | order by TimeGenerated```</span><span class="sxs-lookup"><span data-stu-id="eb993-296">**List Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" and TimeGenerated > ago(20m) | summarize TimeGenerated = max(TimeGenerated) by Computer | order by TimeGenerated```</span></span>
6.  <span data-ttu-id="eb993-297">Definir los **títulos de columna**:</span><span class="sxs-lookup"><span data-stu-id="eb993-297">Define **Column Titles**:</span></span><br>
    <span data-ttu-id="eb993-298">**Nombre:** Nombre del equipo</span><span class="sxs-lookup"><span data-stu-id="eb993-298">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="eb993-299">**Valor:** Último latido</span><span class="sxs-lookup"><span data-stu-id="eb993-299">**Value:** Last Heartbeat</span></span>
7.  <span data-ttu-id="eb993-300">Definir la **consulta de navegación**.</span><span class="sxs-lookup"><span data-stu-id="eb993-300">Define **Navigation Query**.</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize arg_max(TimeGenerated, *) by Computer | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF```
8.  <span data-ttu-id="eb993-301">Seleccione **aplicar**y, después, **cerrar**.</span><span class="sxs-lookup"><span data-stu-id="eb993-301">Select **Apply**, and then **Close**.</span></span>

### <a name="create-a-tile-that-displays-devices-that-have-connectivity-issues"></a><span data-ttu-id="eb993-302">Crear un mosaico que muestre los dispositivos que tienen problemas de conectividad</span><span class="sxs-lookup"><span data-stu-id="eb993-302">Create a tile that displays devices that have connectivity issues</span></span>

1.  <span data-ttu-id="eb993-303">Seleccione **número & lista** en la galería y, a continuación, agregue un nuevo mosaico.</span><span class="sxs-lookup"><span data-stu-id="eb993-303">Select **Number & list** from the gallery, and then add a new tile.</span></span>
2.  <span data-ttu-id="eb993-304">Defina las propiedades **generales** :</span><span class="sxs-lookup"><span data-stu-id="eb993-304">Define the **General** properties:</span></span><br>
    <span data-ttu-id="eb993-305">**Título del Grupo:** Dejar vacío</span><span class="sxs-lookup"><span data-stu-id="eb993-305">**Group Title:** Leave empty</span></span><br>
    <span data-ttu-id="eb993-306">**Grupo nuevo:** No seleccionado</span><span class="sxs-lookup"><span data-stu-id="eb993-306">**New Group:** Not Selected</span></span>
3.  <span data-ttu-id="eb993-307">Defina las propiedades del **mosaico** :</span><span class="sxs-lookup"><span data-stu-id="eb993-307">Define the **Tile** properties:</span></span><br>
    <span data-ttu-id="eb993-308">**Leyenda:** Dispositivos inactivos (sin mensaje de latido enviado en los últimos 20 minutos)</span><span class="sxs-lookup"><span data-stu-id="eb993-308">**Legend:** Inactive Devices (no heartbeat message sent in the last 20 minutes)</span></span><br>
    <span data-ttu-id="eb993-309">\*\*Consulta de icono: \*\* ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize LastHB = max(TimeGenerated) by Computer | where LastHB < ago(20m) | count```</span><span class="sxs-lookup"><span data-stu-id="eb993-309">**Tile Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize LastHB = max(TimeGenerated) by Computer | where LastHB < ago(20m) | count```</span></span>
4.  <span data-ttu-id="eb993-310">Defina las propiedades de la **lista** :</span><span class="sxs-lookup"><span data-stu-id="eb993-310">Define the **List** properties:</span></span><br>
    <span data-ttu-id="eb993-311">**Consulta de lista:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize TimeGenerated = max(TimeGenerated) by Computer | where TimeGenerated < ago(20m) | order by TimeGenerated```</span><span class="sxs-lookup"><span data-stu-id="eb993-311">**List Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize TimeGenerated = max(TimeGenerated) by Computer | where TimeGenerated < ago(20m) | order by TimeGenerated```</span></span>
5.  <span data-ttu-id="eb993-312">Definir los **títulos de columna**:</span><span class="sxs-lookup"><span data-stu-id="eb993-312">Define **Column Titles**:</span></span><br>
    <span data-ttu-id="eb993-313">**Nombre:** Nombre del equipo</span><span class="sxs-lookup"><span data-stu-id="eb993-313">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="eb993-314">**Valor:** Último latido</span><span class="sxs-lookup"><span data-stu-id="eb993-314">**Value:** Last Heartbeat</span></span>
6.  <span data-ttu-id="eb993-315">Definir **consulta de navegación**:</span><span class="sxs-lookup"><span data-stu-id="eb993-315">Define **Navigation Query**:</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize arg_max(TimeGenerated, *) by Computer | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF```
7.  <span data-ttu-id="eb993-316">Seleccione **aplicar**y, después, **cerrar**.</span><span class="sxs-lookup"><span data-stu-id="eb993-316">Select **Apply**, and then **Close**.</span></span>

### <a name="create-a-tile-that-displays-devices-that-have-a-hardware-error"></a><span data-ttu-id="eb993-317">Crear un mosaico que muestre los dispositivos que tienen un error de hardware</span><span class="sxs-lookup"><span data-stu-id="eb993-317">Create a tile that displays devices that have a hardware error</span></span>

1.  <span data-ttu-id="eb993-318">Seleccione **número & lista** en la galería y, a continuación, agregue un nuevo mosaico.</span><span class="sxs-lookup"><span data-stu-id="eb993-318">Select **Number & list** from the gallery, and then add a new tile.</span></span>
2.  <span data-ttu-id="eb993-319">Defina las propiedades **generales** :</span><span class="sxs-lookup"><span data-stu-id="eb993-319">Define the **General** properties:</span></span><br>
    <span data-ttu-id="eb993-320">**Título del Grupo:** Estado del hardware</span><span class="sxs-lookup"><span data-stu-id="eb993-320">**Group Title:** Hardware Status</span></span><br>
    <span data-ttu-id="eb993-321">**Grupo nuevo:** Determinado</span><span class="sxs-lookup"><span data-stu-id="eb993-321">**New Group:** Selected</span></span>
3.  <span data-ttu-id="eb993-322">Defina las propiedades del **mosaico** :</span><span class="sxs-lookup"><span data-stu-id="eb993-322">Define the **Tile** properties:</span></span><br>
    <span data-ttu-id="eb993-323">**Leyenda:** Dispositivos en los que se ha producido un error de hardware en la última hora</span><span class="sxs-lookup"><span data-stu-id="eb993-323">**Legend:** Devices that experienced a hardware error in the last hour</span></span><br>
    <span data-ttu-id="eb993-324">\*\*Consulta de icono: \*\* ```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "3001" and TimeGenerated > ago(1h) | summarize AggregatedValue = count() by Computer | count```</span><span class="sxs-lookup"><span data-stu-id="eb993-324">**Tile Query:** ```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "3001" and TimeGenerated > ago(1h) | summarize AggregatedValue = count() by Computer | count```</span></span>
4.  <span data-ttu-id="eb993-325">Defina las propiedades de la **lista** :</span><span class="sxs-lookup"><span data-stu-id="eb993-325">Define the **List** properties:</span></span><br>
    <span data-ttu-id="eb993-326">**Consulta de lista:**```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "3001" and TimeGenerated > ago(1h) | summarize TimeGenerated = max(TimeGenerated) by Computer | order by TimeGenerated```</span><span class="sxs-lookup"><span data-stu-id="eb993-326">**List Query:** ```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "3001" and TimeGenerated > ago(1h) | summarize TimeGenerated = max(TimeGenerated) by Computer | order by TimeGenerated```</span></span>
5.  <span data-ttu-id="eb993-327">Definir los **títulos de columna**:</span><span class="sxs-lookup"><span data-stu-id="eb993-327">Define **Column Titles**:</span></span><br>
    <span data-ttu-id="eb993-328">**Nombre:** Nombre del equipo</span><span class="sxs-lookup"><span data-stu-id="eb993-328">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="eb993-329">**Valor:** Último error</span><span class="sxs-lookup"><span data-stu-id="eb993-329">**Value:** Last Error</span></span>
6.  <span data-ttu-id="eb993-330">Definir **consulta de navegación**:</span><span class="sxs-lookup"><span data-stu-id="eb993-330">Define **Navigation Query**:</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and EventID == 3001 and EventLevelName == "Error" | summarize arg_max(TimeGenerated, *) by Computer | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSConfMicrophoneStatus_CF, SRSConfSpeakerStatus_CF, SRSDefaultSpeakerStatus_CF, SRSCameraStatus_CF, SRSFORDStatus_CF, SRSMotionSensorStatus_CF, SRSHDMIIngestStatus_CF, SRSEventDescription_CF | sort by TimeGenerated desc```
7.  <span data-ttu-id="eb993-331">Seleccione **aplicar**y, después, **cerrar**.</span><span class="sxs-lookup"><span data-stu-id="eb993-331">Select **Apply**, and then **Close**.</span></span>

### <a name="create-a-tile-that-displays-microsoft-teams-rooms-operating-system-versions"></a><span data-ttu-id="eb993-332">Crear un mosaico que muestre las salas de Microsoft Teams versiones del sistema operativo</span><span class="sxs-lookup"><span data-stu-id="eb993-332">Create a tile that displays Microsoft Teams Rooms Operating System versions</span></span>

1.  <span data-ttu-id="eb993-333">Seleccione **Donut & lista** en la galería y, a continuación, agregue un nuevo mosaico.</span><span class="sxs-lookup"><span data-stu-id="eb993-333">Select **Donut & list** from the gallery, and then add a new tile.</span></span>
2.  <span data-ttu-id="eb993-334">Defina las propiedades **generales** :</span><span class="sxs-lookup"><span data-stu-id="eb993-334">Define the **General** properties:</span></span><br>
    <span data-ttu-id="eb993-335">**Título del Grupo:** Detalles del sistema operativo</span><span class="sxs-lookup"><span data-stu-id="eb993-335">**Group Title:** Operating System details</span></span><br>
    <span data-ttu-id="eb993-336">**Grupo nuevo:** Determinado</span><span class="sxs-lookup"><span data-stu-id="eb993-336">**New Group:** Selected</span></span>
3.  <span data-ttu-id="eb993-337">Defina las propiedades del **encabezado** :</span><span class="sxs-lookup"><span data-stu-id="eb993-337">Define the **Header** properties:</span></span><br>
    <span data-ttu-id="eb993-338">**Título:** Versiones de sistema operativo</span><span class="sxs-lookup"><span data-stu-id="eb993-338">**Title:** Operating System versions</span></span><br>
    <span data-ttu-id="eb993-339">**Subtítulo:** Dispositivos que ejecutan versiones específicas del sistema operativo</span><span class="sxs-lookup"><span data-stu-id="eb993-339">**Subtitle:** Devices running specific OS versions</span></span>
4.  <span data-ttu-id="eb993-340">Defina las propiedades de **Donut** :</span><span class="sxs-lookup"><span data-stu-id="eb993-340">Define the **Donut** properties:</span></span><br>
    <span data-ttu-id="eb993-341">**Consulta:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize OS_Version = max(SRSOSLongVersion_CF) by Computer | summarize AggregatedValue = count() by OS_Version | sort by OS_Version asc```</span><span class="sxs-lookup"><span data-stu-id="eb993-341">**Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize OS_Version = max(SRSOSLongVersion_CF) by Computer | summarize AggregatedValue = count() by OS_Version | sort by OS_Version asc```</span></span><br>
    <span data-ttu-id="eb993-342">**Centrar el texto:** Dispositivo</span><span class="sxs-lookup"><span data-stu-id="eb993-342">**Center Text:** Devices</span></span><br>
    <span data-ttu-id="eb993-343">**Operación:** Resumen</span><span class="sxs-lookup"><span data-stu-id="eb993-343">**Operation:** Sum</span></span>
5.  <span data-ttu-id="eb993-344">Defina las propiedades de la **lista** .</span><span class="sxs-lookup"><span data-stu-id="eb993-344">Define the **List** properties.</span></span><br>
    <span data-ttu-id="eb993-345">**Consulta de lista:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize SRSOSLongVersion_CF = max(SRSOSLongVersion_CF) by Computer | sort by Computer asc```</span><span class="sxs-lookup"><span data-stu-id="eb993-345">**List Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize SRSOSLongVersion_CF = max(SRSOSLongVersion_CF) by Computer | sort by Computer asc```</span></span><br>
    <span data-ttu-id="eb993-346">**Ocultar gráfico:** Determinado</span><span class="sxs-lookup"><span data-stu-id="eb993-346">**Hide Graph:** Selected</span></span><br>
    <span data-ttu-id="eb993-347">**Habilitar minigráficos:** No seleccionado</span><span class="sxs-lookup"><span data-stu-id="eb993-347">**Enable Sparklines:** Not selected</span></span>
6.  <span data-ttu-id="eb993-348">Definir los **títulos de columna**.</span><span class="sxs-lookup"><span data-stu-id="eb993-348">Define **Column Titles**.</span></span><br>
    <span data-ttu-id="eb993-349">**Nombre:** Nombre del equipo</span><span class="sxs-lookup"><span data-stu-id="eb993-349">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="eb993-350">**Valor:** Dejar vacío</span><span class="sxs-lookup"><span data-stu-id="eb993-350">**Value:** Leave Empty</span></span>
7.  <span data-ttu-id="eb993-351">Definir la **consulta de navegación**.</span><span class="sxs-lookup"><span data-stu-id="eb993-351">Define **Navigation Query**.</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize arg_max(TimeGenerated, *) by Computer | project TimeGenerated, Computer, SRSDisplayName_CF, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF```
8.  <span data-ttu-id="eb993-352">Seleccione **aplicar** y, después, **cerrar**.</span><span class="sxs-lookup"><span data-stu-id="eb993-352">Select **Apply** and then **Close**.</span></span>

### <a name="create-a-tile-that-displays-microsoft-teams-rooms-application-versions"></a><span data-ttu-id="eb993-353">Crear un mosaico que muestre las versiones de la aplicación salas de Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="eb993-353">Create a tile that displays Microsoft Teams Rooms application versions</span></span>

1.  <span data-ttu-id="eb993-354">Seleccione **Donut & lista** en la galería y, a continuación, agregue un nuevo mosaico.</span><span class="sxs-lookup"><span data-stu-id="eb993-354">Select **Donut & list** from the gallery, and then add a new tile.</span></span>
2.  <span data-ttu-id="eb993-355">Defina las propiedades **generales** :</span><span class="sxs-lookup"><span data-stu-id="eb993-355">Define the **General** properties:</span></span><br>
    <span data-ttu-id="eb993-356">**Título del Grupo:** Detalles de la aplicación salas de Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="eb993-356">**Group Title:** Microsoft Teams Rooms application details</span></span><br>
    <span data-ttu-id="eb993-357">**Grupo nuevo:** Determinado</span><span class="sxs-lookup"><span data-stu-id="eb993-357">**New Group:** Selected</span></span>
3.  <span data-ttu-id="eb993-358">Defina las propiedades del **encabezado** :</span><span class="sxs-lookup"><span data-stu-id="eb993-358">Define the **Header** properties:</span></span><br>
    <span data-ttu-id="eb993-359">**Título:** Versiones de la aplicación</span><span class="sxs-lookup"><span data-stu-id="eb993-359">**Title:** Application versions</span></span><br>
    <span data-ttu-id="eb993-360">**Subtítulo:** Dispositivos que ejecutan versiones de aplicaciones específicas</span><span class="sxs-lookup"><span data-stu-id="eb993-360">**Subtitle:** Devices running specific application versions</span></span>
4.  <span data-ttu-id="eb993-361">Defina las propiedades de **Donut** :</span><span class="sxs-lookup"><span data-stu-id="eb993-361">Define the **Donut** properties:</span></span><br>
    <span data-ttu-id="eb993-362">**Consulta:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize App_Version = max(SRSAppVersion_CF) by Computer | summarize AggregatedValue = count() by App_Version | sort by App_Version asc```</span><span class="sxs-lookup"><span data-stu-id="eb993-362">**Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize App_Version = max(SRSAppVersion_CF) by Computer | summarize AggregatedValue = count() by App_Version | sort by App_Version asc```</span></span><br>
    <span data-ttu-id="eb993-363">**Centrar el texto:** Dispositivo</span><span class="sxs-lookup"><span data-stu-id="eb993-363">**Center Text:** Devices</span></span><br>
    <span data-ttu-id="eb993-364">**Operación:** Resumen</span><span class="sxs-lookup"><span data-stu-id="eb993-364">**Operation:** Sum</span></span>
5.  <span data-ttu-id="eb993-365">Defina las propiedades de la **lista** .</span><span class="sxs-lookup"><span data-stu-id="eb993-365">Define the **List** properties.</span></span><br>
    <span data-ttu-id="eb993-366">**Consulta de lista:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize SRSAppVersion_CF = max(SRSAppVersion_CF) by Computer | sort by Computer asc```</span><span class="sxs-lookup"><span data-stu-id="eb993-366">**List Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize SRSAppVersion_CF = max(SRSAppVersion_CF) by Computer | sort by Computer asc```</span></span><br>
    <span data-ttu-id="eb993-367">**Ocultar gráfico:** Determinado</span><span class="sxs-lookup"><span data-stu-id="eb993-367">**Hide Graph:** Selected</span></span><br>
    <span data-ttu-id="eb993-368">**Habilitar minigráficos:** No seleccionado</span><span class="sxs-lookup"><span data-stu-id="eb993-368">**Enable Sparklines:** Not selected</span></span>
6.  <span data-ttu-id="eb993-369">Definir los **títulos de columna**.</span><span class="sxs-lookup"><span data-stu-id="eb993-369">Define **Column Titles**.</span></span><br>
    <span data-ttu-id="eb993-370">**Nombre:** Nombre del equipo</span><span class="sxs-lookup"><span data-stu-id="eb993-370">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="eb993-371">**Valor:** Dejar vacío</span><span class="sxs-lookup"><span data-stu-id="eb993-371">**Value:** Leave Empty</span></span>
7.  <span data-ttu-id="eb993-372">Definir la **consulta de navegación**.</span><span class="sxs-lookup"><span data-stu-id="eb993-372">Define **Navigation Query**.</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize arg_max(TimeGenerated, *) by Computer | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF```
8.  <span data-ttu-id="eb993-373">Seleccione **aplicar** y, después, **cerrar**.</span><span class="sxs-lookup"><span data-stu-id="eb993-373">Select **Apply** and then **Close**.</span></span>

### <a name="create-a-tile-that-displays-devices-that-have-an-application-error"></a><span data-ttu-id="eb993-374">Crear un mosaico que muestre los dispositivos que tienen un error de aplicación</span><span class="sxs-lookup"><span data-stu-id="eb993-374">Create a tile that displays devices that have an application error</span></span>

1.  <span data-ttu-id="eb993-375">Seleccione **número & lista** en la galería y, a continuación, agregue un nuevo mosaico.</span><span class="sxs-lookup"><span data-stu-id="eb993-375">Select **Number & list** from the gallery, and then add a new tile.</span></span>
2.  <span data-ttu-id="eb993-376">Definir las propiedades **generales** .</span><span class="sxs-lookup"><span data-stu-id="eb993-376">Define the **General** properties.</span></span><br>
    <span data-ttu-id="eb993-377">**Título del Grupo:** Dejar vacío</span><span class="sxs-lookup"><span data-stu-id="eb993-377">**Group Title:** Leave empty</span></span><br>
    <span data-ttu-id="eb993-378">**Grupo nuevo:** No seleccionado</span><span class="sxs-lookup"><span data-stu-id="eb993-378">**New Group:** Not Selected</span></span>
3.  <span data-ttu-id="eb993-379">Defina las propiedades del **mosaico** .</span><span class="sxs-lookup"><span data-stu-id="eb993-379">Define the **Tile** properties.</span></span><br>
    <span data-ttu-id="eb993-380">**Leyenda:** Dispositivos en los que se produjo un error de aplicación en la última hora</span><span class="sxs-lookup"><span data-stu-id="eb993-380">**Legend:** Devices that experienced an application error in the last hour</span></span><br>
    <span data-ttu-id="eb993-381">\*\*Consulta de icono: \*\* ```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "2001" and TimeGenerated > ago(1h) | summarize AggregatedValue = count() by Computer | count```</span><span class="sxs-lookup"><span data-stu-id="eb993-381">**Tile Query:** ```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "2001" and TimeGenerated > ago(1h) | summarize AggregatedValue = count() by Computer | count```</span></span>
4.  <span data-ttu-id="eb993-382">Defina las propiedades de la **lista** .</span><span class="sxs-lookup"><span data-stu-id="eb993-382">Define the **List** properties.</span></span><br>
    <span data-ttu-id="eb993-383">**Consulta de lista:**```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "2001" and TimeGenerated > ago(1h) | summarize TimeGenerated = max(TimeGenerated) by Computer | order by TimeGenerated```</span><span class="sxs-lookup"><span data-stu-id="eb993-383">**List Query:** ```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "2001" and TimeGenerated > ago(1h) | summarize TimeGenerated = max(TimeGenerated) by Computer | order by TimeGenerated```</span></span>
5.  <span data-ttu-id="eb993-384">Definir los **títulos de columna**.</span><span class="sxs-lookup"><span data-stu-id="eb993-384">Define **Column Titles**.</span></span><br>
    <span data-ttu-id="eb993-385">**Nombre:** Nombre del equipo</span><span class="sxs-lookup"><span data-stu-id="eb993-385">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="eb993-386">**Valor:** Último error</span><span class="sxs-lookup"><span data-stu-id="eb993-386">**Value:** Last Error</span></span>
6.  <span data-ttu-id="eb993-387">Definir la **consulta de navegación**.</span><span class="sxs-lookup"><span data-stu-id="eb993-387">Define **Navigation Query**.</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and EventID == 2001 and EventLevelName == "Error" | summarize arg_max(TimeGenerated, *) by Computer | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF | sort by TimeGenerated desc```
7.  <span data-ttu-id="eb993-388">Seleccione **aplicar** y, después, **cerrar**.</span><span class="sxs-lookup"><span data-stu-id="eb993-388">Select **Apply** and then **Close**.</span></span>

### <a name="create-a-tile-that-displays-devices-that-have-been-restarted"></a><span data-ttu-id="eb993-389">Crear un icono que muestre los dispositivos que se han reiniciado</span><span class="sxs-lookup"><span data-stu-id="eb993-389">Create a tile that displays devices that have been restarted</span></span>

1.  <span data-ttu-id="eb993-390">Seleccione **número & lista** en la galería y, a continuación, agregue un nuevo mosaico.</span><span class="sxs-lookup"><span data-stu-id="eb993-390">Select **Number & list** from the gallery, and then add a new tile.</span></span>
2.  <span data-ttu-id="eb993-391">Definir las propiedades **generales** .</span><span class="sxs-lookup"><span data-stu-id="eb993-391">Define the **General** properties.</span></span><br>
    <span data-ttu-id="eb993-392">**Título del Grupo:** Dejar vacío</span><span class="sxs-lookup"><span data-stu-id="eb993-392">**Group Title:** Leave empty</span></span><br>
    <span data-ttu-id="eb993-393">**Grupo nuevo:** No seleccionado</span><span class="sxs-lookup"><span data-stu-id="eb993-393">**New Group:** Not Selected</span></span>
3.  <span data-ttu-id="eb993-394">Defina las propiedades del **mosaico** .</span><span class="sxs-lookup"><span data-stu-id="eb993-394">Define the **Tile** properties.</span></span><br>
    <span data-ttu-id="eb993-395">**Leyenda:** Los dispositivos en los que la aplicación se reinició en las últimas 24 horas y la cantidad de reinicios</span><span class="sxs-lookup"><span data-stu-id="eb993-395">**Legend:** Devices where the application was restarted in the last 24 hours, and number of restarts</span></span><br>
    <span data-ttu-id="eb993-396">\*\*Consulta de icono: \*\* ```Event | where EventLog == "Skype Room System" and EventID == "4000" and TimeGenerated > ago(24h) | summarize AggregatedValue = count() by Computer | count```</span><span class="sxs-lookup"><span data-stu-id="eb993-396">**Tile Query:** ```Event | where EventLog == "Skype Room System" and EventID == "4000" and TimeGenerated > ago(24h) | summarize AggregatedValue = count() by Computer | count```</span></span>
4.  <span data-ttu-id="eb993-397">Defina las propiedades de la **lista** .</span><span class="sxs-lookup"><span data-stu-id="eb993-397">Define the **List** properties.</span></span><br>
    <span data-ttu-id="eb993-398">**Consulta de lista:**```Event | where EventLog == "Skype Room System" and EventID == "4000" and TimeGenerated > ago(24h) | order by TimeGenerated | summarize AggregatedValue = count(EventID) by Computer```</span><span class="sxs-lookup"><span data-stu-id="eb993-398">**List Query:** ```Event | where EventLog == "Skype Room System" and EventID == "4000" and TimeGenerated > ago(24h) | order by TimeGenerated | summarize AggregatedValue = count(EventID) by Computer```</span></span>
5.  <span data-ttu-id="eb993-399">Definir los **títulos de columna**.</span><span class="sxs-lookup"><span data-stu-id="eb993-399">Define **Column Titles**.</span></span><br>
    <span data-ttu-id="eb993-400">**Nombre:** Nombre del equipo</span><span class="sxs-lookup"><span data-stu-id="eb993-400">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="eb993-401">**Valor:** Número de reinicios</span><span class="sxs-lookup"><span data-stu-id="eb993-401">**Value:** Number of Restarts</span></span>
6.  <span data-ttu-id="eb993-402">Definir la **consulta de navegación**.</span><span class="sxs-lookup"><span data-stu-id="eb993-402">Define **Navigation Query**.</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and EventID == "4000" and TimeGenerated > ago(24h) | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF```
7.  <span data-ttu-id="eb993-403">Seleccione **aplicar** y, después, **cerrar**.</span><span class="sxs-lookup"><span data-stu-id="eb993-403">Select **Apply** and then **Close**.</span></span>
8.  <span data-ttu-id="eb993-404">Seleccione **Guardar** para guardar el panel.</span><span class="sxs-lookup"><span data-stu-id="eb993-404">Select **Save** to save your dashboard.</span></span>

<span data-ttu-id="eb993-405">Ya ha completado la creación de las vistas.</span><span class="sxs-lookup"><span data-stu-id="eb993-405">Now you’ve completed creating your views.</span></span>

## <a name="configure-alerts-in-azure-monitor"></a><span data-ttu-id="eb993-406">Configurar alertas en Azure monitor</span><span class="sxs-lookup"><span data-stu-id="eb993-406">Configure Alerts in Azure Monitor</span></span>
<span data-ttu-id="eb993-407"><a name="Alerts"> </a></span><span class="sxs-lookup"><span data-stu-id="eb993-407"></span></span>

<span data-ttu-id="eb993-408">Azure monitor puede generar alertas para notificar a los administradores Cuándo una consola de Microsoft Team Rooms encuentra un problema.</span><span class="sxs-lookup"><span data-stu-id="eb993-408">Azure Monitor can raise alerts to notify the administrators, when a Microsoft Teams Rooms console encounters an issue.</span></span>

<span data-ttu-id="eb993-409">El monitor de Azure incluye un mecanismo de alertas integrado que se ejecuta a través de búsquedas de registro programadas a intervalos regulares.</span><span class="sxs-lookup"><span data-stu-id="eb993-409">Azure Monitor includes a built-in alerting mechanism that runs through scheduled log searches at regular intervals.</span></span> <span data-ttu-id="eb993-410">Si los resultados de la búsqueda de registro coinciden con algunos criterios determinados, se crea un registro de alerta.</span><span class="sxs-lookup"><span data-stu-id="eb993-410">If the results of the log search match some particular criteria, an alert record is created.</span></span>

<span data-ttu-id="eb993-411">Después, la regla puede ejecutar automáticamente una o más acciones para notificarlo de manera proactiva o invocar otro proceso.</span><span class="sxs-lookup"><span data-stu-id="eb993-411">The rule can then automatically run one or more actions to proactively notify you of the alert or invoke another process.</span></span> <span data-ttu-id="eb993-412">Las posibles opciones con alertas son las siguientes:</span><span class="sxs-lookup"><span data-stu-id="eb993-412">The possible options with alerts are:</span></span>
-   <span data-ttu-id="eb993-413">Enviar un correo electrónico</span><span class="sxs-lookup"><span data-stu-id="eb993-413">Sending an email</span></span>
-   <span data-ttu-id="eb993-414">Invocar un proceso externo a través de una solicitud HTTP POST</span><span class="sxs-lookup"><span data-stu-id="eb993-414">Invoking an external process through an HTTP POST request</span></span>
-   <span data-ttu-id="eb993-415">Iniciar un runbook en el servicio Azure Automation</span><span class="sxs-lookup"><span data-stu-id="eb993-415">Starting a runbook in Azure Automation service</span></span>

<span data-ttu-id="eb993-416">Consulte [registrar alertas en Azure monitor](https://docs.microsoft.com/azure/azure-monitor/platform/alerts-unified-log) para obtener más información sobre las alertas de Azure monitor.</span><span class="sxs-lookup"><span data-stu-id="eb993-416">See [Log alerts in Azure Monitor](https://docs.microsoft.com/azure/azure-monitor/platform/alerts-unified-log) to learn more about the alerts in Azure Monitor.</span></span>

> [!NOTE]
> <span data-ttu-id="eb993-417">En los siguientes ejemplos se envían alertas por correo electrónico cuando un dispositivo de salas de Microsoft Teams genera un error de hardware o de aplicación.</span><span class="sxs-lookup"><span data-stu-id="eb993-417">The following examples send email alerts when a Microsoft Teams Rooms device generates a hardware or an application error.</span></span>

### <a name="configure-an-email-alert-for-microsoft-teams-rooms-hardware-issues"></a><span data-ttu-id="eb993-418">Configurar una alerta por correo electrónico para problemas de hardware de las salas de Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="eb993-418">Configure an email alert for Microsoft Teams Rooms hardware issues</span></span>

<span data-ttu-id="eb993-419">Configure una regla de alerta que compruebe los dispositivos de las salas de Microsoft teams que hayan encontrado problemas de hardware dentro de la última hora.</span><span class="sxs-lookup"><span data-stu-id="eb993-419">Configure an alert rule that checks for Microsoft Teams Rooms devices that have encountered hardware issues within the last hour.</span></span>
1.  <span data-ttu-id="eb993-420">Inicie sesión en el [portal de Microsoft Azure](https://portal.azure.com) y vaya a análisis de registros y seleccione su área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="eb993-420">Sign in to the [Microsoft Azure portal](https://portal.azure.com) and go to Log Analytics and select your workspace.</span></span>

2. <span data-ttu-id="eb993-421">Navegue hasta el área de trabajo del análisis de registros, seleccione **alertas** y, a continuación, seleccione **nueva regla de alertas**</span><span class="sxs-lookup"><span data-stu-id="eb993-421">Navigate to your Log Analytics workspace and select **Alerts** and then select **New alert rule**</span></span>

3. <span data-ttu-id="eb993-422">Seleccione **Agregar condición** y, después, **búsqueda de registros personalizada**</span><span class="sxs-lookup"><span data-stu-id="eb993-422">Select **Add condition** and then **Custom log search**</span></span>

4.  <span data-ttu-id="eb993-423">Escriba la siguiente consulta en el cuadro de texto consulta de búsqueda.</span><span class="sxs-lookup"><span data-stu-id="eb993-423">Enter the following query to the Search query text box.</span></span><br>
    ```
    Event
    | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "3001" and TimeGenerated > ago(1h)
    | summarize arg_max(TimeGenerated, *) by Computer
    | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSConfMicrophoneStatus_CF, SRSConfSpeakerStatus_CF, SRSDefaultSpeakerStatus_CF, SRSCameraStatus_CF, SRSFORDStatus_CF, SRSMotionSensorStatus_CF, SRSHDMIIngestStatus_CF, SRSEventDescription_CF
    |sort by TimeGenerated desc
    ```

5.  <span data-ttu-id="eb993-424">Configure la configuración de la lógica de alertas:</span><span class="sxs-lookup"><span data-stu-id="eb993-424">Configure the Alert logic settings:</span></span><br>
    <span data-ttu-id="eb993-425">**Basado en:** Número de resultados</span><span class="sxs-lookup"><span data-stu-id="eb993-425">**Based on:** Number of results</span></span><br>
    <span data-ttu-id="eb993-426">**Condición:** Más, después</span><span class="sxs-lookup"><span data-stu-id="eb993-426">**Condition:** Greater then</span></span><br>
    <span data-ttu-id="eb993-427">**Treshold:** 0</span><span class="sxs-lookup"><span data-stu-id="eb993-427">**Treshold:** 0</span></span><br>

6. <span data-ttu-id="eb993-428">Configure las opciones de evaluación y seleccione **listo**:</span><span class="sxs-lookup"><span data-stu-id="eb993-428">Configure Evaluation settings and select **Done**:</span></span> <br>
    <span data-ttu-id="eb993-429">**Período (en minutos):** 60</span><span class="sxs-lookup"><span data-stu-id="eb993-429">**Period (in minutes):** 60</span></span><br>
    <span data-ttu-id="eb993-430">**Frecuencia (en minutos):** 60</span><span class="sxs-lookup"><span data-stu-id="eb993-430">**Frequency (in minutes):** 60</span></span><br>

7. <span data-ttu-id="eb993-431">Configurar grupos de acciones:</span><span class="sxs-lookup"><span data-stu-id="eb993-431">Configure action groups:</span></span>
    1.  <span data-ttu-id="eb993-432">Seleccione **crear nuevo**</span><span class="sxs-lookup"><span data-stu-id="eb993-432">Select **Create New**</span></span>
    2.  <span data-ttu-id="eb993-433">Proporcione nombres adecuados para los campos *nombre de grupo de acciones* y *nombre corto* .</span><span class="sxs-lookup"><span data-stu-id="eb993-433">Provide suitable names for the *Action group name* and *Short Name* fields.</span></span>
    3.  <span data-ttu-id="eb993-434">Especifique un *nombre de acción* único y seleccione **correo electrónico/SMS/inserción/voz**y, después, seleccione **editar detalles**.</span><span class="sxs-lookup"><span data-stu-id="eb993-434">Specify a unique *Action Name* and select **Email/SMS/Push/Voice**, and then select **Edit details**.</span></span>
    4.  <span data-ttu-id="eb993-435">Seleccione la casilla email (correo electrónico) y proporcione la dirección de correo electrónico de la persona o grupo que recibirá las alertas.</span><span class="sxs-lookup"><span data-stu-id="eb993-435">Select the Email checkbox and provide the email address of the person or group that will recieve the alerts.</span></span>
    5.  <span data-ttu-id="eb993-436">También puedes proporcionar tu número de teléfono para recibir notificaciones con SMS, llamadas de voz o ambas cosas.</span><span class="sxs-lookup"><span data-stu-id="eb993-436">You may also provide your phone number to get notified with SMS, a voice call or both.</span></span>
    6. <span data-ttu-id="eb993-437">Seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="eb993-437">Select **OK**.</span></span>

8. <span data-ttu-id="eb993-438">**Personalizar acciones** si desea anular la línea de asunto de los mensajes de correo electrónico de alerta.</span><span class="sxs-lookup"><span data-stu-id="eb993-438">**Customize Actions** if you like to override the subject line of the alert emails.</span></span>

9. <span data-ttu-id="eb993-439">Especifique un nombre y una descripción para la regla.</span><span class="sxs-lookup"><span data-stu-id="eb993-439">Specify a rule name and description.</span></span><br>
    <span data-ttu-id="eb993-440">**Nombre de la regla:** Alerta de error de hardware de salas de Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="eb993-440">**Rule Name:** Microsoft Teams Rooms Hardware Failure Alert</span></span><br>
    <span data-ttu-id="eb993-441">**Descripción:** Lista de dispositivos que tuvieron un problema de hardware dentro de la última hora</span><span class="sxs-lookup"><span data-stu-id="eb993-441">**Description:** List of devices that encountered a hardware issue within the last hour</span></span><br>

10. <span data-ttu-id="eb993-442">Seleccione la gravedad prevista y asegúrese de que la regla esté habilitada.</span><span class="sxs-lookup"><span data-stu-id="eb993-442">Select the intended severity and make sure the rule is enabled.</span></span>

11. <span data-ttu-id="eb993-443">Seleccione **crear regla de alertas**.</span><span class="sxs-lookup"><span data-stu-id="eb993-443">Select **Create alert rule**.</span></span>

### <a name="configure-an-email-alert-for-microsoft-teams-rooms-application-issues"></a><span data-ttu-id="eb993-444">Configurar una alerta por correo electrónico para problemas de la aplicación salas de Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="eb993-444">Configure an email alert for Microsoft Teams Rooms application issues</span></span>

<span data-ttu-id="eb993-445">Repita el mismo procedimiento pero use la siguiente consulta para enumerar los dispositivos que hayan encontrado problemas de la aplicación dentro de la última hora.</span><span class="sxs-lookup"><span data-stu-id="eb993-445">Repeat the same procedure but use the following query to list devices that have encountered application issues within the last hour.</span></span>

    ```
    Event
    | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "2001" and TimeGenerated > ago(1h)
    | summarize arg_max(TimeGenerated, *) by Computer
    | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF
    | sort by TimeGenerated desc
    ```

<span data-ttu-id="eb993-446">Ahora has terminado de definir las alertas.</span><span class="sxs-lookup"><span data-stu-id="eb993-446">Now you’ve completed defining alerts.</span></span> <span data-ttu-id="eb993-447">Puede definir alertas adicionales con los ejemplos anteriores.</span><span class="sxs-lookup"><span data-stu-id="eb993-447">You can define additional alerts by using the examples above.</span></span>

<span data-ttu-id="eb993-448">Cuando se genera una alerta, recibirá un mensaje de correo electrónico con una lista de los dispositivos que tuvieron un problema dentro de la última hora.</span><span class="sxs-lookup"><span data-stu-id="eb993-448">When an alert is generated, you’ll get an email that lists the devices that encountered an issue within the last hour.</span></span>

<span data-ttu-id="eb993-449">![Ejemplo de correo electrónico de alerta de Azure monitor](../media/Deploy-Azure-Monitor-6.png "Ejemplo de correo electrónico de alerta de Azure monitor")</span><span class="sxs-lookup"><span data-stu-id="eb993-449">![Sample Azure Monitor alert email](../media/Deploy-Azure-Monitor-6.png "Sample Azure Monitor alert email")</span></span>

## <a name="configure-all-devices-for-azure-monitoring"></a><span data-ttu-id="eb993-450">Configurar todos los dispositivos para la supervisión de Azure</span><span class="sxs-lookup"><span data-stu-id="eb993-450">Configure all devices for Azure Monitoring</span></span>
<span data-ttu-id="eb993-451"><a name="configure_all_devices"></a> Una vez configurados los paneles y las alertas, puede configurar Microsoft Monitoring Agent en todos los dispositivos de salas de Microsoft Teams para completar la implementación de la supervisión.</span><span class="sxs-lookup"><span data-stu-id="eb993-451"><a name="configure_all_devices"> </a> After the dashboards and alerts are configured, you can set up and configure Microsoft Monitoring agent on all Microsoft Teams Rooms devices to complete your monitoring deployment.</span></span>

<span data-ttu-id="eb993-452">Aunque puede instalar y configurar Microsoft Monitoring Agent manualmente en cada dispositivo, le recomendamos encarecidamente que aproveche las herramientas y métodos de implementación de software existentes.</span><span class="sxs-lookup"><span data-stu-id="eb993-452">Although you can install and configure the Microsoft Monitoring agent manually on each device, we highly recommend you leverage existing software deployment tools and methods.</span></span>

<span data-ttu-id="eb993-453">Si está creando los dispositivos de salas de Microsoft Teams por primera vez, es posible que desee incluir los pasos de configuración y configuración de Microsoft Monitoring Agent como parte del proceso de compilación.</span><span class="sxs-lookup"><span data-stu-id="eb993-453">If you’re building your Microsoft Teams Rooms devices for the first time, you might want to include the Microsoft Monitoring agent setup and configuration steps as part of your build process.</span></span> <span data-ttu-id="eb993-454">Para obtener más información, consulte [instalar el agente mediante la línea de comandos](https://docs.microsoft.com/azure/azure-monitor/platform/agent-windows#install-the-agent-using-the-command-line).</span><span class="sxs-lookup"><span data-stu-id="eb993-454">For more information, see [Install the agent using the command line](https://docs.microsoft.com/azure/azure-monitor/platform/agent-windows#install-the-agent-using-the-command-line).</span></span>

### <a name="deploying-microsoft-monitoring-agent-by-using-a-group-policy-object-gpo"></a><span data-ttu-id="eb993-455">Implementar el agente de supervisión de Microsoft con un objeto de directiva de grupo (GPO)</span><span class="sxs-lookup"><span data-stu-id="eb993-455">Deploying Microsoft Monitoring agent by using a Group Policy Object (GPO)</span></span>

<span data-ttu-id="eb993-456">Si ya ha implementado los dispositivos de salas de Microsoft Teams antes de implementar la supervisión de Azure, puede usar el script proporcionado para configurar y configurar los agentes con objetos de directiva de grupo de Active Directory.</span><span class="sxs-lookup"><span data-stu-id="eb993-456">If you already deployed your Microsoft Teams Rooms devices before you implement Azure Monitoring, you can use the provided script to set up and configure the agents by using Active Directory group policy objects.</span></span>

1.  <span data-ttu-id="eb993-457">Crear una ruta de red compartida y conceder acceso de lectura al grupo **equipos del dominio** .</span><span class="sxs-lookup"><span data-stu-id="eb993-457">Create a shared network path and grant read access to **Domain Computers** group.</span></span>

2.  <span data-ttu-id="eb993-458">Descargue la versión de 64 bits de Microsoft Monitoring Agent para Windows de<https://go.microsoft.com/fwlink/?LinkID=517476></span><span class="sxs-lookup"><span data-stu-id="eb993-458">Download the 64-bit version of the Microsoft Monitoring Agent for Windows from <https://go.microsoft.com/fwlink/?LinkID=517476></span></span>

3.  <span data-ttu-id="eb993-459">Extraiga el contenido del paquete de instalación en el recurso compartido de red.</span><span class="sxs-lookup"><span data-stu-id="eb993-459">Extract the contents of the setup package into the network share.</span></span>
    1.  <span data-ttu-id="eb993-460">Abra una ventana del símbolo del sistema y ejecute **MMASetup-AMD64. exe/c**</span><span class="sxs-lookup"><span data-stu-id="eb993-460">Open a Command Prompt window, and then execute **MMASetup-AMD64.exe /c**</span></span>
    2.  <span data-ttu-id="eb993-461">Especifique el recurso compartido que acaba de crear y extraiga el contenido.</span><span class="sxs-lookup"><span data-stu-id="eb993-461">Specify the share you just created, and extract the content.</span></span>

4.  <span data-ttu-id="eb993-462">Cree un nuevo objeto de directiva de grupo y asígnelo a la unidad organizativa en la que se encuentren las cuentas de Microsoft Teams Rooms Machine.</span><span class="sxs-lookup"><span data-stu-id="eb993-462">Create a new Group Policy Object and assign it to the organizational unit where Microsoft Teams Rooms machine accounts are located.</span></span>

5.  <span data-ttu-id="eb993-463">Configurar la Directiva de ejecución de PowerShell:</span><span class="sxs-lookup"><span data-stu-id="eb993-463">Configure PowerShell execution policy:</span></span>
    1.  <span data-ttu-id="eb993-464">Modificar el objeto de directiva de grupo recién creado y navegar a \\ directivas \\ de configuración \\ del equipo \\ plantillas administrativas Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="eb993-464">Edit the newly created Group Policy Object and navigate to Computer Configuration \\ Policies \\ Administrative Templates \\ Windows Components \\ Windows PowerShell</span></span>
    2.  <span data-ttu-id="eb993-465">Habilitar la **activación de la ejecución de script** y establecer la **Directiva de ejecución** para **permitir scripts locales**.</span><span class="sxs-lookup"><span data-stu-id="eb993-465">Enable the **Turn on Script Execution** and set **Execution Policy** to **Allow Local Scripts**.</span></span>

6.  <span data-ttu-id="eb993-466">Configure el script de Inicio:</span><span class="sxs-lookup"><span data-stu-id="eb993-466">Configure the startup script:</span></span>
    1.  <span data-ttu-id="eb993-467">Copie el script siguiente y guárdelo como Install-MMAgent. ps1.</span><span class="sxs-lookup"><span data-stu-id="eb993-467">Copy the following script and save it as Install-MMAgent.ps1.</span></span>
    2.  <span data-ttu-id="eb993-468">Modifique los parámetros WorkspaceId, WorkspaceKey y SetupPath para que coincidan con la configuración.</span><span class="sxs-lookup"><span data-stu-id="eb993-468">Modify WorkspaceId, WorkspaceKey, and SetupPath parameters to match your configuration.</span></span>
    3.  <span data-ttu-id="eb993-469">Modificar el mismo objeto de directiva de grupo y navegar a \\ directivas \\ de configuración \\ del equipo secuencias de comandos de configuración de Windows (inicio/apagado)</span><span class="sxs-lookup"><span data-stu-id="eb993-469">Edit the same Group Policy Object and navigate to Computer Configuration \\ Policies \\ Windows Settings \\ Scripts (Startup/Shutdown)</span></span>
    4.  <span data-ttu-id="eb993-470">Haga doble clic para seleccionar **Startup (Inicio**) y, a continuación, seleccione **scripts de PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="eb993-470">Double-click to select **Startup**, and then select **PowerShell Scripts**.</span></span>
    5.  <span data-ttu-id="eb993-471">Seleccione **Mostrar archivos**y, a continuación, copie el archivo **install-MMAgent. PS1** a esa carpeta.</span><span class="sxs-lookup"><span data-stu-id="eb993-471">Select **Show Files**, and then copy the **Install-MMAgent.ps1** file to that folder.</span></span>
    6.  <span data-ttu-id="eb993-472">Seleccione **Agregar**y, a continuación, **examinar**.</span><span class="sxs-lookup"><span data-stu-id="eb993-472">Select **Add**, and then **Browse**.</span></span>
    7.  <span data-ttu-id="eb993-473">Seleccione el script PS1 que acaba de copiar.</span><span class="sxs-lookup"><span data-stu-id="eb993-473">Select the ps1 script you just copied.</span></span>

7.  <span data-ttu-id="eb993-474">Los dispositivos de salas de Microsoft Teams deberían instalar y configurar Microsoft Monitoring Agent con el segundo reinicio.</span><span class="sxs-lookup"><span data-stu-id="eb993-474">Microsoft Teams Rooms devices should install and configure the Microsoft Monitoring agent with the second reboot.</span></span>

```
# Install-MMAgent.ps1
<#
Date:        04/20/2018
Script:      Install-MMAgent.ps1
Version:     1.0
#>

# Set the parameters
$WorkspaceId = "<your workspace id>"
$WorkspaceKey = "<your workspace key>"
$SetupPath = "\\Server\Share"

$SetupParameters = "/qn NOAPM=1 ADD_OPINSIGHTS_WORKSPACE=1 OPINSIGHTS_WORKSPACE_AZURE_CLOUD_TYPE=0 OPINSIGHTS_WORKSPACE_ID=$WorkspaceId OPINSIGHTS_WORKSPACE_KEY=$WorkspaceKey AcceptEndUserLicenseAgreement=1"

# $SetupParameters = $SetupParameters + " OPINSIGHTS_PROXY_URL=<Proxy server URL> OPINSIGHTS_PROXY_USERNAME=<Proxy server username> OPINSIGHTS_PROXY_PASSWORD=<Proxy server password>"

# Start PowerShell logging
Start-Transcript -Path C:\Temp\MMA-Install.Log

# Check if the Microsoft Monitoring Agent is installed
$mma = New-Object -ComObject 'AgentConfigManager.MgmtSvcCfg'

# Check if the Microsoft Monitoring agent is installed
if (!$mma)
{
    #Install agent
    Start-Process -FilePath "$SetupPath\Setup.exe" -ArgumentList $SetupParameters -ErrorAction Stop -Wait
}

# Check if the agent has a valid configuration
$CheckMMA = $mma.GetCloudWorkspace($WorkspaceId).AgentId
if (!$CheckMMA)
{
    # Apply new configuration
    $mma.AddCloudWorkspace($WorkspaceId, $WorkspaceKey)
    $mma.ReloadConfiguration()
}

Stop-Transcript
```

> [!NOTE]
> <span data-ttu-id="eb993-475">Puede consultar el artículo [administrar y mantener el agente de análisis de registros](https://docs.microsoft.com/azure/azure-monitor/platform/agent-manage) cuando necesita volver a configurar un agente, moverlo a un área de trabajo diferente o modificar la configuración de proxy después de la instalación inicial.</span><span class="sxs-lookup"><span data-stu-id="eb993-475">You can refer to the article [Managing and maintaining the Log Analytics agent](https://docs.microsoft.com/azure/azure-monitor/platform/agent-manage) when you need to reconfigure an agent, move it to a different workspace, or modify proxy settings after the initial installation.</span></span>

## <a name="additional-solutions"></a><span data-ttu-id="eb993-476">Soluciones adicionales</span><span class="sxs-lookup"><span data-stu-id="eb993-476">Additional Solutions</span></span>
<span data-ttu-id="eb993-477"><a name="Solutions"> </a></span><span class="sxs-lookup"><span data-stu-id="eb993-477"></span></span>

<span data-ttu-id="eb993-478">Azure Monitor proporciona soluciones de administración integradas a través de su [Galería de soluciones](https://docs.microsoft.com/azure/azure-monitor/insights/solutions) para ayudarle a supervisar su entorno.</span><span class="sxs-lookup"><span data-stu-id="eb993-478">Azure Monitor provides built-in management solutions through its [solution gallery](https://docs.microsoft.com/azure/azure-monitor/insights/solutions) to further help you monitor your environment.</span></span> <span data-ttu-id="eb993-479">Le recomendamos encarecidamente que agregue también la [Administración de alertas](https://docs.microsoft.com/azure/azure-monitor/platform/alert-management-solution) y las soluciones de estado del agente de [análisis de Azure log](https://docs.microsoft.com/azure/azure-monitor/insights/solution-agenthealth) a su área de trabajo.</span><span class="sxs-lookup"><span data-stu-id="eb993-479">We highly recommend that you add [Alert Management](https://docs.microsoft.com/azure/azure-monitor/platform/alert-management-solution) and [Azure Log Analytics Agent Health](https://docs.microsoft.com/azure/azure-monitor/insights/solution-agenthealth) solutions to your workspace as well.</span></span>

> [!NOTE]
> <span data-ttu-id="eb993-480">La solución de estado del agente puede ayudarle a identificar agentes de supervisión de Microsoft anticuados o desactualizados en su entorno, y la solución de administración de alertas proporciona detalles sobre las alertas que se han producido dentro de un período determinado.</span><span class="sxs-lookup"><span data-stu-id="eb993-480">The Agent Health solution can help you identify outdated or broken Microsoft Monitoring agents within your environment, and the Alert Management solution provides details about the alerts that have been raised within a given period.</span></span>

## <a name="see-also"></a><span data-ttu-id="eb993-481">Vea también</span><span class="sxs-lookup"><span data-stu-id="eb993-481">See also</span></span>

[<span data-ttu-id="eb993-482">Planear la administración de salas de Microsoft Teams con Azure monitor</span><span class="sxs-lookup"><span data-stu-id="eb993-482">Plan Microsoft Teams Rooms management with Azure Monitor</span></span>](azure-monitor-plan.md)

[<span data-ttu-id="eb993-483">Administrar dispositivos de salas de Microsoft Teams con Azure monitor</span><span class="sxs-lookup"><span data-stu-id="eb993-483">Manage Microsoft Teams Rooms devices with Azure Monitor</span></span>](azure-monitor-manage.md)
