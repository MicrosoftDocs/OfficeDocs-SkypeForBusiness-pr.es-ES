### YamlMime:Tutorial
title: Crear un equipo que abarque toda la empresa en Microsoft Teams con PowerShell
metadata:
  title: Crear un equipo que abarque toda la empresa en Microsoft Teams con PowerShell
  description: Para que los administradores de TI utilicen PowerShell para crear un equipo que abarque toda la empresa
  audience: IT Pro
  level: Intermediate
  displayType: one-column
  ms.author: ninadara
  manager: serdars
  ms.date: 02/07/2018
  ms.service: msteams
  ms.topic: tutorial
  localization_priority: Priority
  ms.collection: Strat_MT_TeamsAdmin
  ms.openlocfilehash: b7f90cb375e775d56ecc6ec523218744ae695792
  ms.sourcegitcommit: 8ceb230c058471210b89449dde0034300e6c4da1
  ms.translationtype: MT
  ms.contentlocale: es-ES
  ms.lasthandoff: 05/16/2018
items:
- durationInMinutes: 3
  content: "\nEsta formación proporciona un script de PowerShell que crea un equipo público que abarca toda la empresa en Teams. El script hace uso del módulo de PowerShell para Microsoft Teams (en este momento está en fase beta) para crear un equipo público que abarque toda la empresa. También emplea el módulo de PowerShell para AzureAD para recuperar la lista de usuarios de su inquilino. \n\nEs un punto de partida fantástico si desea empezar a interesarse por algunos sencillos comandos de PowerShell y familiarizarse con esta potente herramienta profesional. PowerShell es un componente clave en la administración de otros aspectos de los grupos de AzureAD, incluido el control group-creation, que define cómo administrar quién puede crear un equipo en Teams. \n\n### <a href=\"https://docs.microsoft.com/MicrosoftTeams/scripts/powershell-script-sample-create-company-wide-team\" target=\"_blank\">:arrow_down: Obtener el script de PowerShell</a>\n\n> [!IMPORTANT]\n> Este script de PowerShell agrega solo los primeros 2500 miembros a un equipo. 2500 es el límite de tamaño de equipo actual. \n\n\nEsta formación va dirigida a los administradores de TI o los usuarios de Teams que quieran automatizar la creación de equipos. Aprenderá a:  \n- Instalar los módulos relevantes en PowerShell\n- Usar el script \n\nNo se cubrirán los siguientes aspectos:\n1. Información especializada sobre PowerShell. Solo incluimos la información sobre PowerShell que necesita para empezar a usar el script de PowerShell. Si desea más información, comience con <a href=\"https://docs.microsoft.com/powershell/scripting/getting-started/getting-started-with-windows-powershell?view=powershell-5.1\" target=\"_blank\">Introducción a Windows PowerShell</a>.\n2. La funcionalidad del módulo de <a href=\"https://docs.microsoft.com/powershell/azure/active-directory/overview?view=azureadps-2.0\" target=\"_blank\">AzureAD</a>. Este script de PowerShell utiliza el módulo de AzureAD para poder recuperar los usuarios del inquilino con un único comando. \n3. Los cmdlet en el módulo de <a href=\"https://github.com/MicrosoftDocs/office-docs-powershell/tree/master/teams/teams-ps/teams\" target=\"_blank\">MicrosoftTeams</a>. \n4. Un recorrido detallado, línea por línea, del script de PowerShell. \n\n\nPara hacer preguntas o enviar comentarios sobre esta formación:\n  - Haga una publicación en la sección de comentarios de la parte inferior de la página [Pasos siguientes](company-wide-team-creation-powershell.yml#step-7) de este tutorial.\n  - Envíenos un correo electrónico a [AskTeams@microsoft.com](mailto:askteams@microsoft.com?subject=Create company-wide team using PowerShell).\n  - Para enviarnos comentarios sobre el producto (por ejemplo, solicitudes de características), diríjase a <a href=\"https://aka.ms/TeamsUserVoice\" target=\"_blank\">UserVoice</a>.\n"
- title: Requisitos mínimos
  durationInMinutes: 2
  content: "\n### <a name=\"user-requirements\"></a>Requisitos del usuario\n\nNecesitará tener permisos de administrador en su equipo para poder ejecutar aplicaciones como administrador. \n\n### <a name=\"system-requirements\"></a>Requisitos del sistema\nEl módulo que se usa en este script requiere uno de los siguientes sistemas operativos:\n\n- Windows 10\n- Windows 8.1 Pro\n- Windows 8.1 Enterprise\n- Windows 7 SP1\n- Windows Server 2016\n- Windows Server 2012 R2\n- Windows Server 2008 R2 SP1\n\nEl módulo también requiere .NET Framework 4.5 o superior. <a href=\"https://msdn.microsoft.com/library/5a4x27ek.aspx\" target=\"_blank\">Instale .NET Framework para desarrolladores</a>.\n"
- title: Introducción
  durationInMinutes: 10
  content: "\n\nPara comenzar, necesitará lo siguiente:\n1. Una versión de prueba de <a href=\"https://products.office.com/business/office-365-enterprise-e3-business-software\" target=\"_blank\">Office 365 Enterprise E3</a>. Recomendamos que se realicen las pruebas que sean necesarias para aprender en un inquilino de prueba antes de empezar a trabajar en el inquilino real. Agregue algunos usuarios de prueba a su inquilino (5 como mínimo) para familiarizarse un poco más con el script. \n\n2. Inicie PowerShell con privilegios de administrador. Así tiene que hacerlo en Windows 10:\n \n  a. Haga clic en **Inicio**.\n \n  b. Escriba **Windows PowerShell**.\n \n  c. Haga clic con el botón derecho y seleccione **Ejecutar como administrador**.\n\n3. <a href=\"https://docs.microsoft.com/azure/active-directory/active-directory-accessmanagement-groups-settings-v2-cmdlets#install-the-azure-ad-powershell-module\" target=\"_blank\">Instale el módulo de PowerShell para AzureAD</a>. \n  \n  > [!NOTE]\n  > Es posible que se le pida que actualice su proveedor de NuGet mediante PowerShellGet durante la ejecución de estos pasos. En tal caso, seleccione **Sí** en \"Do you want PowerShellGet to install and import the NuGet provider now?\" (¿Quiere que PowerShellGet instale e importe el proveedor de NuGet ahora?). También se le puede preguntar acerca de un repositorio que no sea de confianza: \"Are you sure you want to install the modules from 'PSGallery?'\" (¿Seguro que quiere instalar los módulos desde PSGallery?). Seleccione **Sí** aquí también. \n\n4. Instale el módulo de Microsoft Teams PowerShell. Si se cumplieron todas las condiciones que se piden para instalar el módulo de AzureAD, la instalación del módulo de Microsoft Teams será algo rápido (comparten el mismo conjunto de condiciones). Para instalar el módulo de Microsoft Teams, ejecute este comando: \n\n          Install-Module MicrosoftTeams\n\n  > [!NOTE]\n  > Se le podría consultar de nuevo en torno al repositorio que no es de confianza. \n\n5. <a href=\"https://docs.microsoft.com/MicrosoftTeams/scripts/PowerShell-script-sample-create-company-wide-team.md\" target=\"_blank\">Obtener el script de PowerShell</a>\n"
- title: Guía de parámetros
  durationInMinutes: 2
  content: "\nTodos los parámetros se establecen como opcionales, pero el script no se ejecutará si no se establece ninguno. Usará una combinación de parámetros para crear y actualizar el equipo de toda la empresa. Le mostraremos ejemplos en una sección posterior para ayudarle a ejecutar el script en función de su situación. \n\n|Parámetro| Descripción |\n| ---  | ---  |\n|Owners | Especifique al menos dos miembros (uno puede ser usted, pero el script necesita dos, como mínimo). Recomendamos tener más propietarios, especialmente para el equipo de todo el inquilino. |\n|TeamName | Especifíquelo si quiere crear un equipo nuevo. De lo contrario, debe especificar el Id. de grupo de un equipo existente. |\n|TeamDescription | Se trata de la descripción del nuevo equipo que va a crear. No actualizará la descripción de un equipo que ya exista. |\n|Canales | La lista de los canales que desea crear. Este script necesita al menos dos canales (si usa este parámetro). Cuando el script se ejecute, le pedirá la descripción de cada canal. |\n|GroupId | Especifique este parámetro si cuenta ya con un equipo que quiera convertir en el equipo de toda la empresa al añadir más miembros. Si especifica este parámetro, no se creará ningún equipo nuevo. |\n|Members | Puede especificar una lista de miembros si no quiere que se pueda agregar a cualquier persona. El número mínimo en la lista es 2. |\n"
- title: Ejecutar el script
  durationInMinutes: 5
  content: "\nEl script proporcionado es un script sin firma. Lea <a href=\"https://docs.microsoft.com/powershell/module/microsoft.powershell.core/about/about_execution_policies?view=powershell-5.1&viewFallbackFrom=powershell-Microsoft.PowerShell.Core\" target=\"_blank\">Acerca de las directivas de ejecución</a> para obtener más información. Antes de cambiar la directiva de ejecución, obtenga la directiva actual ejecutando el siguiente comando:\n\n        Get-ExecutionPolicy\n\nObserve el nivel de esta directiva. Lo devolverá a este nivel una vez que se termine de ejecutar este script para crear su equipo para toda la empresa. Para cambiar la directiva a RemoteSigned, ejecute este comando:\n\n        Set-ExecutionPolicy -ExecutionPolicy RemoteSigned\n\nEsto es lo que puede hacer con el script: \n1. Crear un equipo nuevo con todos los miembros de su inquilino (un máximo de 2500 miembros)\n\n          .\\CreateCompanyWideTeam.ps1 -Owners \"CBeane@Contoso.onmicrosoft.com\", \"PHampton@Contoso.onmicrosoft.com\" -TeamName \"Contoso Team\" -TeamDescription \"Tenant wide team to get everyone into one place. Use this team to share announcements, hold townhalls, or just encourage a more open work environment for everyone\" -Channels \"Announcements\", \"Townhalls\"\n\n2. Agregar todos los miembros de su inquilino a un equipo existente (un máximo de 2500 miembros)\n    \n          .\\CreateCompanyWideTeam.ps1 -GroupID \"45f7b85e-149b-4ae4-bf43-9cedf9415e34\"\n\n3. Agregar un equipo determinado de miembros a un equipo nuevo o uno existente\n    \n          .\\CreateCompanyWideTeam.ps1 -Owners \"CBeane@Contoso.onmicrosoft.com\", \"PHampton@Contoso.onmicrosoft.com\" -TeamName \"Project Scorpio\" -TeamDescription \"Wanted to reserve a cool project name, now we need a project\" -Channels \"Code Reviews\", \"Engineering Alerts\" -Members \"BMcMillan@Contoso.onmicrosoft.com\", \"DTodd@Contoso.onmicrosoft.com\", \"DMills@Contoso.onmicrosoft.com\"\n"
- title: Ejemplo de un equipo que abarca toda la empresa
  durationInMinutes: 6
  content: "\nA continuación se muestra una tabla donde se indica cómo puede configurar un equipo para una empresa de ventas. Se sugieren canales, fichas, conectores y bots. Recomendamos que, al menos al principio, cree un par de canales. Si este es el primer equipo del que formarán parte muchas personas, les ayudará a comprender qué tipo de canales se deben crear. A los nuevos usuarios también les resultará muy útil si incluye datos en algunos de estos canales iniciales para que se vayan familiarizando con el producto y comprendan esta forma de trabajar. Por el momento, no se pueden agregar datos a los canales con PowerShell, por lo que tendrá que hacerlo manualmente. \n\n> [!Tip]\n> Descargue nuestro <a href=\"https://www.microsoft.com/download/confirmation.aspx?id=56505\" target=\"_blank\">kit de introducción de Microsoft Teams</a>. Esta guía incluye las 10 primeras cosas que puede hacer en Teams. Encontrará consejos para sacar el máximo partido a Teams en relación con diferentes aspectos de su organización, como marketing, ventas, finanzas, recursos humanos, tecnologías de la información, ingeniería y gestión de proyectos.\n\n#### <a name=\"trophy-best-practices\"></a>Procedimientos recomendados:\n- No cree todos los canales que se le ocurran en esta fase; limítese a crear lo suficiente para empezar a trabajar. Siga creando canales nuevos conforme vayan siendo necesarios.\n- No cambie el nombre a los canales, porque la carpeta subyacente de SharePoint ya no se alinearía con el nombre del canal. \n\n \n  > [!NOTE]\n  > Los canales que elimine no se pueden volver a crear con el mismo nombre, pero podrá encontrar los archivos de SharePoint.\n\n\nEn la tabla siguiente se describe un equipo de ejemplo con fichas, conectores y bots que se sugieren. No es en absoluto una lista completa. Solo pretendemos darle una idea de qué tipo de canales podrían ser útiles para su empresa. \n|Canal|Fichas y recursos|\n|-------|----------------|\n|General|<ul><li>Guía de incorporación</li><li>Información del rol</li><li>Vídeos de formación</li></ul>|\n|Planes de cuentas|<ul><li>OneNote para cuentas estratégicas</li><li>Carpetas para planes de cuentas</li></ul>|\n|Previsión|<ul><li>Paneles de Power BI</li><li>Aplicaciones de líneas de negocio</li><li>Revisión de calendarios y tareas</li></ul>|\n|Ayuda|<ul><li>Conversaciones sobre la ayuda</li><li>Formulario de revisión de oferta</li></ul>|\n|Marketing en la región|<ul><li>Calendario de marketing</li><li>Guía de clientes</li></ul>|\n|Comentarios y actualizaciones de producto|<ul><li>Guías de precios</li><li>Folletos de productos</li><li>Vínculos de referencia</li></ul>|\nEquipo de trabajo en Contoso|<ul><li>Kit de herramientas para Teams (*En construcción: comprobar más adelante*)</li><li>Artículos sobre procedimientos (por ejemplo, la guía de inicio rápido de su organización)</li></ul>|\n|Apuntes informales|<ul><li>Temas para la creación de equipos</li><li>Eventos sociales</li></ul>|\n\nVea nuestro vídeo, Consejo tecnológico: Guía para configurar Teams, canales y fichas (4 minutos), para saber cómo debe configurar sus equipos, canales y fichas para sacar de ellos el máximo partido.\n> [!VIDEO https://www.youtube.com/embed/hjJWtoaRJeE]\n"
- title: Vistazo rápido a un script
  durationInMinutes: 2
  content: "\nHay 5 secciones en este script (enumerados en orden de arriba a abajo):\n1. **Documentación y definiciones de variables**\n2. **Función Create-Team**: crea un equipo, en caso necesario. Si no especifica un Id. de grupo, esta sección creará el equipo con el nombre y la descripción de equipo que se haya especificado.\n3. **Función Add-Channels**: si ha especificado canales, será aquí donde se solicite la descripción del canal y, a continuación, se creará el canal. \n4. **Función Add-Members**: este se encarga de todo lo relacionado con la administración de miembros. Esta sección se conecta a AzureAD, recupera un conjunto de usuarios y los agrega al equipo, en caso de no haber proporcionado una lista de miembros. Gestiona la lógica de agregar propietarios y miembros en lugar de agregar miembros que ya pertenecen al equipo. \n5. **Programa principal**: es el orden en el que se ejecutan las funciones. \n"
- title: Llamada a la acción
  durationInMinutes: 5
  content: "\n### <a name=\"next-steps\"></a>Siguientes pasos\n\n1. Planifique todo lo relacionado con el equipo que abarcará toda la empresa si no cuenta ya con alguno que pueda cubrir este rol. Determine cuál será el nombre, la descripción, los propietarios que se requieren y los primeros canales útiles. \n\n2. Pruebe el script con los parámetros de su inquilino de prueba. Agregue contenido y asegúrese de que esté todo bien. \n\n3. Ejecute el script para crear el equipo en su inquilino. También puede crear manualmente el equipo a través de la interfaz de usuarios de Teams, incorporar todos los datos (canales, bots, aplicaciones, conectores) y utilizar el script solo para agregar todos los propietarios y miembros. Para ver una lista de los equipos que ha creado y sus Id. de grupo, use:\n\n        Connect-MicrosoftTeams\n        Get-Team\n\n    A continuación, use este Id. de grupo para ejecutar el script y especificar más propietarios:\n\n        .\\CreateCompanyWideTeam.ps1 -GroupID \"45f7b85e-149b-4ae4-bf43-9cedf9415e34\" -Owners \"CBeane@Contoso.onmicrosoft.com\", \"PHampton@Contoso.onmicrosoft.com\"\n\n    A partir de ese momento, cuando los usuarios entren en este equipo, tendrán ya una idea de qué pueden marcar, conectar o sobre qué pueden chatear. \n\n5.  Envíenos su opinión\n    - Envíenos su opinión o háganos preguntas acerca de este curso de formación en la sección **Comentarios** de la parte inferior de esta página.\n    - Envíenos un correo electrónico a [AskTeams@Microsoft.com](mailto:askteams@microsoft.com?subject=Create company-wide team using PowerShell)\n    - Para enviarnos comentarios acerca de Teams o solicitar una nueva característica, diríjase a <a href=\"https://aka.ms/TeamsUserVoice\" target=\"_blank\">Teams UserVoice</a>."
