---
title: Descripción de PowerShell para Teams
author: LolaJacobsen
ms.author: lolaj
manager: serdars
ms.date: 09/06/2018
ms.topic: article
ms.service: msteams
description: Aprenda a usar los controles de PowerShell para administrar Microsoft Teams.
appliesto:
- Microsoft Teams
ms.openlocfilehash: 45714418f123022bc3545d4923bd18fc71bad746
ms.sourcegitcommit: 31827526894ffb75d64fcb0a7c76ee874ad3c269
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/06/2019
ms.locfileid: "29754546"
---
# <a name="teams-powershell-overview"></a><span data-ttu-id="207f3-103">Descripción de PowerShell para Teams</span><span class="sxs-lookup"><span data-stu-id="207f3-103">Teams PowerShell Overview</span></span>

<span data-ttu-id="207f3-104">Microsoft Teams tiene un amplio conjunto de herramientas para los administradores de TI a administrar el producto a través del centro de administración de Microsoft Teams, controles de PowerShell y las API de gráfico.</span><span class="sxs-lookup"><span data-stu-id="207f3-104">Microsoft Teams has a rich set of tools for IT admins to manage the product through the Microsoft Teams admin center, PowerShell controls, and Graph APIs.</span></span> <span data-ttu-id="207f3-105">Esta guía explica cómo se estructura nuestros cmdlets de PowerShell para los administradores de TI a utilizar y proporciona punteros a la documentación adicional.</span><span class="sxs-lookup"><span data-stu-id="207f3-105">This guide explains how we structure our PowerShell cmdlets for IT admins to use, and provides pointers to further documentation.</span></span> <span data-ttu-id="207f3-106">Tenga en cuenta que distintas funciones de administración de los equipos tienen acceso a los cmdlets de diferentes.</span><span class="sxs-lookup"><span data-stu-id="207f3-106">Note that different Teams admin roles have access to different cmdlets.</span></span> <span data-ttu-id="207f3-107">Para obtener más información, vea [roles de administrador de equipos de uso de Microsoft para administrar los equipos](using-admin-roles.md).</span><span class="sxs-lookup"><span data-stu-id="207f3-107">For more information, see [Use Microsoft Teams admin roles to manage Teams](using-admin-roles.md).</span></span>

## <a name="which-modules-do-you-need-to-use"></a><span data-ttu-id="207f3-108">¿Qué módulos necesita usar?</span><span class="sxs-lookup"><span data-stu-id="207f3-108">Which modules do you need to use?</span></span>

<span data-ttu-id="207f3-109">Los controles de PowerShell para la administración de los equipos se encuentran en dos módulos diferentes de PowerShell:</span><span class="sxs-lookup"><span data-stu-id="207f3-109">The PowerShell controls for managing Teams are in two different PowerShell modules:</span></span> 
- <span data-ttu-id="207f3-110">[Módulo de PowerShell de los equipos de Microsoft](https://www.powershellgallery.com/packages/MicrosoftTeams/0.9.5) (vista previa pública): módulo de PowerShell de los equipos contiene todos los cmdlets que necesita para crear y administrar los equipos.</span><span class="sxs-lookup"><span data-stu-id="207f3-110">[Microsoft Teams PowerShell module](https://www.powershellgallery.com/packages/MicrosoftTeams/0.9.5) (public preview): The Teams PowerShell module contains all the cmdlets you need to create and manage teams.</span></span>  
- <span data-ttu-id="207f3-111">[Skype para el módulo de PowerShell empresarial](https://www.microsoft.com/en-us/download/details.aspx?id=39366): el Skype para el módulo de PowerShell de negocio contiene los cmdlets para administrar las directivas, las configuraciones y otras herramientas de los equipos.</span><span class="sxs-lookup"><span data-stu-id="207f3-111">[Skype for Business PowerShell module](https://www.microsoft.com/en-us/download/details.aspx?id=39366): The Skype for Business PowerShell module contains the cmdlets to manage policies, configurations, and other Teams tools.</span></span> 

<span data-ttu-id="207f3-112">La documentación de referencia para los controles de PowerShell le indicará qué módulo contiene el cmdlet que va a investigar.</span><span class="sxs-lookup"><span data-stu-id="207f3-112">The reference documentation for the PowerShell controls will tell you which module contains the cmdlet you're investigating.</span></span> <span data-ttu-id="207f3-113">(Al final, los dos módulos se combinarán.)</span><span class="sxs-lookup"><span data-stu-id="207f3-113">(Eventually, the two modules will be combined.)</span></span>

## <a name="what-can-each-admin-role-do"></a><span data-ttu-id="207f3-114">¿Qué puede hacer con cada rol de administrador?</span><span class="sxs-lookup"><span data-stu-id="207f3-114">What can each admin role do?</span></span>

<span data-ttu-id="207f3-115">[Roles de administrador de equipos de uso de Microsoft para administrar los equipos](using-admin-roles.md) para comprender qué roles de administrador diferentes de los cmdlets de PowerShell podrán sacar provecho de lectura.</span><span class="sxs-lookup"><span data-stu-id="207f3-115">Read [Use Microsoft Teams admin roles to manage Teams](using-admin-roles.md) to understand which PowerShell cmdlets different admin roles will be able to leverage.</span></span>

## <a name="creating-and-managing-teams-via-powershell"></a><span data-ttu-id="207f3-116">Creación y administración de los equipos a través de PowerShell</span><span class="sxs-lookup"><span data-stu-id="207f3-116">Creating and managing teams via PowerShell</span></span>

<span data-ttu-id="207f3-117">Los cmdlets para crear y administrar los equipos se encuentran en el [módulo de PowerShell de los equipos de Microsoft](https://www.powershellgallery.com/packages/MicrosoftTeams/0.9.3).</span><span class="sxs-lookup"><span data-stu-id="207f3-117">The cmdlets for creating and managing teams are in the [Microsoft Teams PowerShell module](https://www.powershellgallery.com/packages/MicrosoftTeams/0.9.3).</span></span> 

<span data-ttu-id="207f3-118">Los equipos se realizan mediante grupos de O365, por lo que cuando se crea un equipo, para crear un grupo.</span><span class="sxs-lookup"><span data-stu-id="207f3-118">Teams are backed by O365 Groups, so when you create a team, you create a group.</span></span> <span data-ttu-id="207f3-119">Hay un conjunto de cmdlets proporcionados para el funcionamiento en el equipo principal y su configuración (``new-team``, ``get-team``, ``set-teamfunsettings``, ``set-teammessagingsettings``, ``set-teamguestsettings``, ``set-teammembersettings``), administración de los usuarios del equipo (``add-teamuser``, ``remove-teamuser``), así como los cmdlets para la administración de los canales del equipo (``new-teamchannel`` , ``remove-teamchannel``).</span><span class="sxs-lookup"><span data-stu-id="207f3-119">There are a set of cmdlets provided for operating on the core team and its settings (``new-team``, ``get-team``, ``set-teamfunsettings``, ``set-teammessagingsettings``, ``set-teamguestsettings``, ``set-teammembersettings``), managing team users (``add-teamuser``, ``remove-teamuser``), as well as cmdlets for managing the channels of the team (``new-teamchannel``, ``remove-teamchannel``).</span></span> <span data-ttu-id="207f3-120">Todos estos cmdlets se pueden ejecutar como los usuarios finales, pero que van a funcionar sólo en los equipos que posee o es un miembro de.</span><span class="sxs-lookup"><span data-stu-id="207f3-120">All of these cmdlets can be run as end users, but they'll work only on the teams that you own or are a member of.</span></span> <span data-ttu-id="207f3-121">Si es un administrador Global o administrador de servicio de los equipos, podrá actuar en todos los equipos de la organización.</span><span class="sxs-lookup"><span data-stu-id="207f3-121">If you are a Global Admin or Teams Service Administrator, you'll be able to act on all teams in your organization.</span></span>

> <span data-ttu-id="207f3-122">**GroupId** usado en el módulo de cmdlets de PowerShell de los equipos de Microsoft es el mismo que la propiedad de **identidad** devuelta por ``Get-UnifiedGroup`` en el módulo de PowerShell de Exchange.</span><span class="sxs-lookup"><span data-stu-id="207f3-122">The **GroupId** used in the Microsoft Teams PowerShell module cmdlets is the same as the **Identity** property returned by ``Get-UnifiedGroup`` in the Exchange PowerShell module.</span></span>

## <a name="managing-policies-via-powershell"></a><span data-ttu-id="207f3-123">Administración de directivas a través de PowerShell</span><span class="sxs-lookup"><span data-stu-id="207f3-123">Managing policies via PowerShell</span></span>

<span data-ttu-id="207f3-124">Los cmdlets de administración de directivas se encuentran en el [Skype para el módulo de cmdlet de negocio](https://www.microsoft.com/en-us/download/details.aspx?id=39366).</span><span class="sxs-lookup"><span data-stu-id="207f3-124">The cmdlets for managing policies are in the [Skype for Business cmdlet module](https://www.microsoft.com/en-us/download/details.aspx?id=39366).</span></span>

<span data-ttu-id="207f3-125">Una directiva es un grupo de opciones de configuración que se puede aplicar de forma granular a usuarios individuales.</span><span class="sxs-lookup"><span data-stu-id="207f3-125">A policy is a group of settings that can be applied granularly to individual users.</span></span> <span data-ttu-id="207f3-126">Cada tipo de directiva tiene su propio conjunto de cmdlets para crear, ver, eliminar y actualizar las propias directivas y, a continuación, asignar dichas directivas a usuarios.</span><span class="sxs-lookup"><span data-stu-id="207f3-126">Each policy type has its own set of cmdlets for creating, viewing, deleting, and updating the policies themselves, and then assigning those policies to users.</span></span> <span data-ttu-id="207f3-127">La estructura general es:</span><span class="sxs-lookup"><span data-stu-id="207f3-127">The general structure is:</span></span>

- <span data-ttu-id="207f3-128">Comandos GET (por ejemplo, ``Get-CsTeamsMeetingPolicy``): devolver los documentos de directiva que están disponibles para asignar en la organización, las directivas creadas por Microsoft para su uso y las directivas personalizadas que haya creado.</span><span class="sxs-lookup"><span data-stu-id="207f3-128">GET commands (for example, ``Get-CsTeamsMeetingPolicy``):  return the policy documents that are available for you to assign in your organization, both the policies created by Microsoft for you to use and the custom policies you’ve created.</span></span>
   > <span data-ttu-id="207f3-129">Si desea buscar sólo las directivas personalizadas que haya creado en su organización, puede usar ``-Filter "tag:*"``.</span><span class="sxs-lookup"><span data-stu-id="207f3-129">If you want to find only the custom policies you’ve created in your organization, you can use ``-Filter "tag:*"``.</span></span>

- <span data-ttu-id="207f3-130">NUEVOS comandos (por ejemplo, ``New-CsTeamsMeetingPolicy``): permiten crear nuevas directivas para la organización que, a continuación, se encuentran disponibles que se asignará a los usuarios de su organización.</span><span class="sxs-lookup"><span data-stu-id="207f3-130">NEW commands (for example, ``New-CsTeamsMeetingPolicy``): let you create new policies for your organization that are then available to be assigned to users in your organization.</span></span> <span data-ttu-id="207f3-131">No todas las directivas de admiten la creación de directivas personalizadas.</span><span class="sxs-lookup"><span data-stu-id="207f3-131">Not all policies support the creation of custom policies.</span></span> <span data-ttu-id="207f3-132">A menudo es asegurarse de que las directivas de que uso en la organización tienen una combinación de configuración admitida.</span><span class="sxs-lookup"><span data-stu-id="207f3-132">Often this is to ensure that the policies you use in your organization have a supported combination of settings.</span></span>

- <span data-ttu-id="207f3-133">CONJUNTO de comandos (por ejemplo, ``Set-CsTeamsMeetingPolicy``): permite establecer determinados valores en una directiva determinada.</span><span class="sxs-lookup"><span data-stu-id="207f3-133">SET commands (for example, ``Set-CsTeamsMeetingPolicy``): lets you set particular values on a given policy.</span></span> <span data-ttu-id="207f3-134">Algunas de las directivas no tienen el conjunto de comandos disponibles, o contengan parámetros que no se puede personalizar en la directiva.</span><span class="sxs-lookup"><span data-stu-id="207f3-134">Some policies do not have set commands available, or contain parameters that cannot be customized in the policy.</span></span> <span data-ttu-id="207f3-135">Cada descripción de PowerShell llamará a los parámetros que no se puede personalizar.</span><span class="sxs-lookup"><span data-stu-id="207f3-135">Each PowerShell description will call out which parameters cannot be customized.</span></span> 
   > <span data-ttu-id="207f3-136">Para editar la directiva de forma predeterminada se asignará a los usuarios de la organización que no tienen asignada una directiva personalizada, ejecute ``Set-Cs<PolicyName> -Identity Global``.</span><span class="sxs-lookup"><span data-stu-id="207f3-136">To edit the policy that will by default be assigned to users in your organization who do not have a custom policy assigned, run ``Set-Cs<PolicyName> -Identity Global``.</span></span>

- <span data-ttu-id="207f3-137">QUITAR comandos (por ejemplo, ``Remove-CsTeamsMeetingPolicy``): puede usar este cmdlet para eliminar una directiva personalizada que se ha creado en el inquilino.</span><span class="sxs-lookup"><span data-stu-id="207f3-137">REMOVE commands (for example, ``Remove-CsTeamsMeetingPolicy``): you can use this cmdlet to delete a custom policy that has been created in your tenant.</span></span> <span data-ttu-id="207f3-138">Si elimina una directiva personalizada que se ha asignado al menos un usuario en la organización, que el usuario se revertirá a la directiva global.</span><span class="sxs-lookup"><span data-stu-id="207f3-138">If you delete a custom policy that has been assigned to at least one user in your organization, that user will fall back to the global policy.</span></span>
   > <span data-ttu-id="207f3-139">En realidad no se puede quitar la directiva global de la organización, pero si desea restablecer la directiva global de la organización a la configuración predeterminada proporcionada por Microsoft, puede ejecutar ``Remove-Cs<PolicyName> -Identity Global``.</span><span class="sxs-lookup"><span data-stu-id="207f3-139">You can’t actually remove the global policy in your organization, but if you want to reset the global policy in your organization to the Microsoft-provided default settings, you can run ``Remove-Cs<PolicyName> -Identity Global``.</span></span>

- <span data-ttu-id="207f3-140">Comando GRANT (por ejemplo, ``Grant-CsTeamsMeetingPolicy``): permite asignar una directiva a un usuario determinado.</span><span class="sxs-lookup"><span data-stu-id="207f3-140">GRANT command (for example, ``Grant-CsTeamsMeetingPolicy``): lets you assign a policy to a particular user.</span></span>
   > <span data-ttu-id="207f3-141">Para quitar una asignación de directivas personalizadas y hacer que el usuario retroceder a la directiva predeterminada de la organización, ejecute ``Grant-Cs<PolicyName> -Identity <User Identity> -PolicyName $null``.</span><span class="sxs-lookup"><span data-stu-id="207f3-141">To remove a custom policy assignment and make the user fall back to the default policy in your organization, run ``Grant-Cs<PolicyName> -Identity <User Identity> -PolicyName $null``.</span></span>

> [!TIP]
> <span data-ttu-id="207f3-142">No todas las directivas de permiten directivas personalizadas que se creará y algunas de las directivas tienen una configuración que no se puede personalizar (por lo que puede ver la configuración, pero no se puede establecer un valor personalizado durante ``set-`` y ``new-``).</span><span class="sxs-lookup"><span data-stu-id="207f3-142">Not all policies allow custom policies to be created, and some policies have settings that you can’t customize (so you can view the setting but can’t set a custom value during ``set-`` and ``new-``).</span></span> <span data-ttu-id="207f3-143">La documentación del cmdlet específico llamará a si los parámetros no están disponibles para su uso por los clientes.</span><span class="sxs-lookup"><span data-stu-id="207f3-143">The documentation of the specific cmdlet will call out if parameters are not available for use by customers.</span></span>

<span data-ttu-id="207f3-144">Parámetros comunes:</span><span class="sxs-lookup"><span data-stu-id="207f3-144">Common parameters:</span></span>

- <span data-ttu-id="207f3-145">**Identidad**: para ``Get-``, ``Set-``, ``New-``, y ``Remove-``, el parámetro **Identity** siempre hará referencia a una instancia de directiva específicos.</span><span class="sxs-lookup"><span data-stu-id="207f3-145">**Identity**: For ``Get-``, ``Set-``, ``New-``, and ``Remove-``, the **Identity** parameter will always refer to a specific policy instance.</span></span> <span data-ttu-id="207f3-146">Para ``Grant``, el parámetro **Identity** hace referencia a un objeto de usuario específico al que se aplica la directiva.</span><span class="sxs-lookup"><span data-stu-id="207f3-146">For ``Grant``, the **Identity** parameter refers to a specific user object to whom the policy is being applied.</span></span>

<!--more info here?-->

## <a name="managing-configurations-via-powershell"></a><span data-ttu-id="207f3-147">Administrar configuraciones a través de PowerShell</span><span class="sxs-lookup"><span data-stu-id="207f3-147">Managing configurations via PowerShell</span></span>

<span data-ttu-id="207f3-148">Los cmdlets para la administración de la configuración se encuentran en el [Skype para el módulo de cmdlet de negocio](https://www.microsoft.com/en-us/download/details.aspx?id=39366).</span><span class="sxs-lookup"><span data-stu-id="207f3-148">The cmdlets for managing your configuration are in the [Skype for Business cmdlet module](https://www.microsoft.com/en-us/download/details.aspx?id=39366).</span></span>

<span data-ttu-id="207f3-149">Las configuraciones son depósitos de configuración que se mantienen en el servicio que no se puede especificar un nivel de usuario.</span><span class="sxs-lookup"><span data-stu-id="207f3-149">Configurations are buckets of settings maintained in the service that cannot be specified at a user level.</span></span> <span data-ttu-id="207f3-150">Configuración siempre se aplica en toda la organización.</span><span class="sxs-lookup"><span data-stu-id="207f3-150">Settings always apply across the whole organization.</span></span> <span data-ttu-id="207f3-151">La configuración global es la configuración sólo eficaz en la organización.</span><span class="sxs-lookup"><span data-stu-id="207f3-151">Your global configuration is the only effective configuration in your organization.</span></span> <span data-ttu-id="207f3-152">Cada tipo de configuración se suministra con dos cmdlets principales:</span><span class="sxs-lookup"><span data-stu-id="207f3-152">Each configuration type comes with two primary cmdlets:</span></span>

- <span data-ttu-id="207f3-153">``Get-Cs<ConfigurationName>``(por ejemplo, ``Get-CsTeamsClientConfiguration``):</span><span class="sxs-lookup"><span data-stu-id="207f3-153">``Get-Cs<ConfigurationName>`` (for example, ``Get-CsTeamsClientConfiguration``):</span></span> 

- <span data-ttu-id="207f3-154">CONJUNTO de comandos (por ejemplo, ``Set-CsTeamsClientConfiguration``): establecer las propiedades de la configuración de ese tipo.</span><span class="sxs-lookup"><span data-stu-id="207f3-154">SET commands (for example, ``Set-CsTeamsClientConfiguration``): set properties in the configuration of that type.</span></span> <span data-ttu-id="207f3-155">Especificar los parámetros que desea modificar.</span><span class="sxs-lookup"><span data-stu-id="207f3-155">Specify the parameters that you want to modify.</span></span>
   > <span data-ttu-id="207f3-156">Puede hacer referencia a la configuración que está modificando en una de estas dos formas: especificando -**Identity Global**, o bien ejecutando ``Get-Cs<ConfigurationName>``  |  ``Set-Cs<ConfigurationName>``.</span><span class="sxs-lookup"><span data-stu-id="207f3-156">You can reference the configuration that you’re modifying in one of two ways: by specifying -**Identity Global**, or by running ``Get-Cs<ConfigurationName>`` | ``Set-Cs<ConfigurationName>``.</span></span>

## <a name="other-powershell-tools"></a><span data-ttu-id="207f3-157">Otras herramientas de PowerShell</span><span class="sxs-lookup"><span data-stu-id="207f3-157">Other PowerShell tools</span></span>

<span data-ttu-id="207f3-158">Puede encontrar instrucciones detalladas sobre cómo usar todos los controles de PowerShell para administrar Microsoft Teams y Skype para la empresa, como una descripción detallada de la configuración de cada directiva, en la [referencia del cmdlet de equipos de Microsoft](https://docs.microsoft.com/powershell/teams/?view=teams-ps) y [Skype para Referencia del cmdlet de negocio](https://docs.microsoft.com/powershell/skype/intro?view=skype-ps).</span><span class="sxs-lookup"><span data-stu-id="207f3-158">You can find detailed instructions on how to use all PowerShell controls for managing Microsoft Teams and Skype for Business, including detailed descriptions of the settings in each policy, in the [Microsoft Teams cmdlet reference](https://docs.microsoft.com/powershell/teams/?view=teams-ps) and [Skype for Business cmdlet reference](https://docs.microsoft.com/powershell/skype/intro?view=skype-ps).</span></span>

## <a name="learn-more"></a><span data-ttu-id="207f3-159">Más información</span><span class="sxs-lookup"><span data-stu-id="207f3-159">Learn more</span></span>

- [<span data-ttu-id="207f3-160">Referencia del cmdlet de Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="207f3-160">Microsoft Teams cmdlet reference</span></span>](https://docs.microsoft.com/powershell/teams/?view=teams-ps)
- [<span data-ttu-id="207f3-161">Skype para referencia del cmdlet de negocio</span><span class="sxs-lookup"><span data-stu-id="207f3-161">Skype for Business cmdlet reference</span></span>](https://docs.microsoft.com/powershell/skype/intro?view=skype-ps)
- [<span data-ttu-id="207f3-162">Usar los roles de administrador de Microsoft Teams para administrar Teams</span><span class="sxs-lookup"><span data-stu-id="207f3-162">Use Microsoft Teams admin roles to manage Teams</span></span>](using-admin-roles.md)
