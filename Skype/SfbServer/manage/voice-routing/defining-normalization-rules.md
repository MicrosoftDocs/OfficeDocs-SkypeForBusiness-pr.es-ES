---
title: Definir reglas de normalización en Skype empresarial Server
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
manager: serdars
audience: ITPro
ms.topic: article
ms.prod: skype-for-business-itpro
localization_priority: Normal
description: Las reglas de normalización de Skype empresarial Server utilizan expresiones regulares de .NET Framework para traducir números de teléfono marcados al formato E. 164; en otras palabras, las reglas de normalización toman el número de teléfono marcado por un usuario y convierten ese número al formato usado internamente por Skype empresarial Server. Cada plan de marcado debe tener asignadas una o más reglas de normalización.
ms.openlocfilehash: e5156816de13a8d59e3e6eea4890046d5b4f586a
ms.sourcegitcommit: ab47ff88f51a96aaf8bc99a6303e114d41ca5c2f
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/20/2019
ms.locfileid: "34274985"
---
# <a name="defining-normalization-rules-in-skype-for-business-server"></a><span data-ttu-id="8068b-104">Definir reglas de normalización en Skype empresarial Server</span><span class="sxs-lookup"><span data-stu-id="8068b-104">Defining normalization rules in Skype for Business Server</span></span>

<span data-ttu-id="8068b-105">Las reglas de normalización de Skype empresarial Server utilizan expresiones regulares de .NET Framework para traducir números de teléfono marcados al formato E. 164; en otras palabras, las reglas de normalización toman el número de teléfono marcado por un usuario y convierten ese número al formato usado internamente por Skype empresarial Server.</span><span class="sxs-lookup"><span data-stu-id="8068b-105">Skype for Business Server normalization rules use .NET Framework regular expressions to translate dialed phone numbers to E.164 format; in other words, normalization rules take the phone number dialed by a user and convert that number to the format used internally by Skype for Business Server.</span></span> <span data-ttu-id="8068b-106">Cada plan de marcado debe tener asignadas una o más reglas de normalización.</span><span class="sxs-lookup"><span data-stu-id="8068b-106">Each dial plan must be assigned one or more normalization rules.</span></span>

<span data-ttu-id="8068b-107">Para obtener más información sobre las reglas de normalización, consulte [planes de marcado y reglas](https://technet.microsoft.com/en-us/library/gg413082(v=ocs.15).aspx)de normalización.</span><span class="sxs-lookup"><span data-stu-id="8068b-107">For details about normalization rules, see [Dial plans and normalization rules](https://technet.microsoft.com/en-us/library/gg413082(v=ocs.15).aspx).</span></span>

<span data-ttu-id="8068b-108">Para obtener más información sobre cómo escribir expresiones regulares, vea [expresiones regulares de .NET Framework](http://go.microsoft.com/fwlink/p/?linkId=140927).</span><span class="sxs-lookup"><span data-stu-id="8068b-108">For details about how to write regular expressions, see [.NET Framework Regular Expressions](http://go.microsoft.com/fwlink/p/?linkId=140927).</span></span>

<span data-ttu-id="8068b-109">Puede usar cualquiera de los siguientes métodos para definir o editar una regla de normalización:</span><span class="sxs-lookup"><span data-stu-id="8068b-109">You can use either of the following methods to define or edit a normalization rule:</span></span>
- <span data-ttu-id="8068b-110">[Use la herramienta **crear una regla** ](#create-or-modify-a-normalization-rule-by-using-build-a-normalization-rule) de normalización para especificar valores para los dígitos iniciales, la longitud, los dígitos que se van a quitar y los dígitos que se van a agregar y, a continuación, deje que el panel de control de Skype empresarial Server genere la regla de traducción y el patrón correspondiente. Para tí.</span><span class="sxs-lookup"><span data-stu-id="8068b-110">[Use the **Build a Normalization Rule** tool](#create-or-modify-a-normalization-rule-by-using-build-a-normalization-rule) to specify values for the starting digits, length, digits to remove and digits to add, and then let Skype for Business Server Control Panel generate the corresponding matching pattern and translation rule for you.</span></span>
- <span data-ttu-id="8068b-111">[Escriba de forma manual expresiones regulares](#create-or-modify-a-normalization-rule-manually) para definir el patrón de coincidencia y la regla de traducción.</span><span class="sxs-lookup"><span data-stu-id="8068b-111">[Write regular expressions manually](#create-or-modify-a-normalization-rule-manually) to define the matching pattern and translation rule.</span></span> 

## <a name="create-or-modify-a-normalization-rule-by-using-build-a-normalization-rule"></a><span data-ttu-id="8068b-112">Crear o modificar una regla de normalización mediante la creación de una regla de normalización</span><span class="sxs-lookup"><span data-stu-id="8068b-112">Create or modify a normalization rule by using Build a Normalization Rule</span></span>

<span data-ttu-id="8068b-113">Complete los pasos siguientes si desea crear o modificar una regla de normalización en el panel de control de Skype empresarial Server.</span><span class="sxs-lookup"><span data-stu-id="8068b-113">Complete the following steps if you want to create or modify a normalization rule in Skype for Business Server Control Panel.</span></span> 

<span data-ttu-id="8068b-114">**Para definir una regla mediante la creación de una regla de normalización**</span><span class="sxs-lookup"><span data-stu-id="8068b-114">**To define a rule by using Build a Normalization Rule**</span></span>

1. <span data-ttu-id="8068b-115">Inicie sesión en el equipo como miembro del grupo RTCUniversalServerAdmins o como miembro del rol CsVoiceAdministrator, CsServerAdministrator o CsAdministrator.</span><span class="sxs-lookup"><span data-stu-id="8068b-115">Log on to the computer as a member of the RTCUniversalServerAdmins group, or as a member of the CsVoiceAdministrator, CsServerAdministrator, or CsAdministrator role.</span></span> <span data-ttu-id="8068b-116">Para obtener más información, consulte [permisos de configuración del delegado](https://technet.microsoft.com/en-us/library/gg412735(v=ocs.15).aspx).</span><span class="sxs-lookup"><span data-stu-id="8068b-116">For details, see [Delegate setup permissions](https://technet.microsoft.com/en-us/library/gg412735(v=ocs.15).aspx).</span></span>
2. <span data-ttu-id="8068b-117">Abra una ventana del explorador y, a continuación, escriba la dirección URL del administrador para abrir el panel de control.</span><span class="sxs-lookup"><span data-stu-id="8068b-117">Open a browser window, and then enter the Admin URL to open the Control Panel.</span></span> <span data-ttu-id="8068b-118">Para obtener más información sobre los diferentes métodos que puede usar para iniciar el panel de control de Skype para empresas, consulte [instalar y abrir herramientas administrativas](../../management-tools/install-and-open-administrative-tools.md).</span><span class="sxs-lookup"><span data-stu-id="8068b-118">For details about the different methods you can use to start the Skype for Business Control Panel, see [Install and open administrative tools](../../management-tools/install-and-open-administrative-tools.md).</span></span>
3. <span data-ttu-id="8068b-119">Faculta Siga los pasos que se indican en [crear un plan de marcado](https://docs.microsoft.com/skypeforbusiness/deploy/deploy-enterprise-voice/dial-plans#to-create-a-dial-plan) mediante el paso 11 o [modificar un plan de marcado mediante el](https://docs.microsoft.com/skypeforbusiness/deploy/deploy-enterprise-voice/dial-plans#to-modify-a-dial-plan) paso 10.</span><span class="sxs-lookup"><span data-stu-id="8068b-119">(Optional) Follow the steps in [Create a dial plan](https://docs.microsoft.com/skypeforbusiness/deploy/deploy-enterprise-voice/dial-plans#to-create-a-dial-plan) through step 11 or [Modify a dial plan](https://docs.microsoft.com/skypeforbusiness/deploy/deploy-enterprise-voice/dial-plans#to-modify-a-dial-plan) through step 10.</span></span> 
4. <span data-ttu-id="8068b-120">En **Nueva regla de normalización** o **Editar regla de normalización**, escriba un nombre que describa el patrón numérico que se normalizará en **Nombre** (por ejemplo, **5DigitExtension**).</span><span class="sxs-lookup"><span data-stu-id="8068b-120">In **New Normalization Rule** or **Edit Normalization Rule**, type a name that describes the number pattern being normalized in **Name** (for example, **5DigitExtension**).</span></span>
5. <span data-ttu-id="8068b-121">(Opcional) En **Descripción**, escriba una descripción de la regla de normalización (por ejemplo, "Convierte extensiones de 5 dígitos").</span><span class="sxs-lookup"><span data-stu-id="8068b-121">(Optional) In **Description**, type a description of the normalization rule (for example, "Translates 5-digit extensions").</span></span>
6. <span data-ttu-id="8068b-122">En **Generar regla de normalización**, escriba valores en los siguientes campos:</span><span class="sxs-lookup"><span data-stu-id="8068b-122">In **Build a Normalization Rule**, enter values in the following fields:</span></span>
    - <span data-ttu-id="8068b-123">**Dígitos iniciales**: (opcional) especifique los dígitos iniciales de los números marcados que desea que coincidan con el diseño.</span><span class="sxs-lookup"><span data-stu-id="8068b-123">**Starting digits**:   (Optional) Specify the leading digits of dialed numbers you want the pattern to match.</span></span> <span data-ttu-id="8068b-124">Por ejemplo, escriba **425** si desea que el patrón coincida con los números marcados que empiecen por 425.</span><span class="sxs-lookup"><span data-stu-id="8068b-124">For example, type **425** if you want the pattern to match dialed numbers beginning with 425.</span></span>
    - <span data-ttu-id="8068b-125">**Length**: especifique el número de dígitos en el patrón de coincidencia y seleccione si desea que el patrón coincida exactamente con esta longitud, que coincide con números marcados que tienen al menos esta longitud o que coinciden con números marcados de cualquier longitud.</span><span class="sxs-lookup"><span data-stu-id="8068b-125">**Length**:   Specify the number of digits in the matching pattern and select whether you want the pattern to match this length exactly, match dialed numbers that are at least this length, or match dialed numbers of any length.</span></span>
    - <span data-ttu-id="8068b-126">**Dígitos para quitar**: (opcional) especifique la cantidad de dígitos iniciales que quiere que se eliminen de los números marcados a los que desea que coincida el patrón.</span><span class="sxs-lookup"><span data-stu-id="8068b-126">**Digits to remove**:   (Optional) Specify the number of starting digits to be removed from dialed numbers you want the pattern to match.</span></span>
    - <span data-ttu-id="8068b-127">**Dígitos para agregar**: (opcional) especifique los dígitos que desea agregar a los números marcados que desea que coincidan con el patrón.</span><span class="sxs-lookup"><span data-stu-id="8068b-127">**Digits to add**:   (Optional) Specify digits to be added to dialed numbers you want the pattern to match.</span></span>
    
    <span data-ttu-id="8068b-128">Los valores que introduzca en estos campos se reflejarán en **Patrón con el que coincidir** y **Regla de conversión**.</span><span class="sxs-lookup"><span data-stu-id="8068b-128">The values you enter in these fields are reflected in **Pattern to match** and **Translation rule**.</span></span> <span data-ttu-id="8068b-129">Por ejemplo, si deja los **dígitos iniciales** en blanco, escriba **7** en el campo **longitud** , seleccione **exactamente**y especifique **0** en **dígitos para quitar**, la expresión regular resultante en el **patrón para coincidir** es:</span><span class="sxs-lookup"><span data-stu-id="8068b-129">For example, if you leave **Starting digits** empty, type **7** into the **Length** field select **Exactly**, and specify **0** in **Digits to remove**, the resulting regular expression in the **Pattern to match** is:</span></span>

    <span data-ttu-id="8068b-130">**^ (\d{7}) $**</span><span class="sxs-lookup"><span data-stu-id="8068b-130">**^(\d{7})$**</span></span>

7. <span data-ttu-id="8068b-131">En **Regla de conversión**, especifique un patrón para el formato de los números de teléfono E.164 convertidos como se indica a continuación:</span><span class="sxs-lookup"><span data-stu-id="8068b-131">In **Translation rule**, specify a pattern for the format of translated E.164 phone numbers as follows:</span></span>
    - <span data-ttu-id="8068b-132">Un valor que represente la cantidad de dígitos especificada en el patrón de coincidencia.</span><span class="sxs-lookup"><span data-stu-id="8068b-132">A value that represents the number of digits specified in the matching pattern.</span></span> <span data-ttu-id="8068b-133">Por ejemplo, si el patrón correspondiente es **^ (\d{7}) $**, $1 en la regla de traducción representa los números marcados de 7 dígitos.</span><span class="sxs-lookup"><span data-stu-id="8068b-133">For example, if the matching pattern is **^(\d{7})$**, then $1 in the translation rule represents 7-digit dialed numbers.</span></span>
    - <span data-ttu-id="8068b-134">(Opcional) Escriba un valor en el campo **Dígitos que se agregarán** para especificar los dígitos que se agregarán al principio del número convertido (por ejemplo, **+1425**).</span><span class="sxs-lookup"><span data-stu-id="8068b-134">(Optional) Type a value into the **Digits to add** field to specify digits to be prepended to the translated number (for example, **+1425**).</span></span>
    
    <span data-ttu-id="8068b-135">Por ejemplo, si el **modelo que coincide** contiene **^ ({7}\d) $** como el patrón para los números marcados y la **regla de traducción** contiene **+ 1425 $1** como patrón para E. 164 números de teléfono, la regla normaliza 5550100 a + 14255550100.</span><span class="sxs-lookup"><span data-stu-id="8068b-135">For example, if **Pattern to match** contains **^(\d{7})$** as the pattern for dialed numbers and **Translation rule** contains **+1425$1** as the pattern for E.164 phone numbers, the rule normalizes 5550100 to +14255550100.</span></span>

8. <span data-ttu-id="8068b-136">(Opcional) Si la regla de normalización da un número de teléfono interno de la organización, seleccione **Extensión interna**.</span><span class="sxs-lookup"><span data-stu-id="8068b-136">(Optional) If the normalization rule results in a phone number that is internal to your organization, select **Internal extension**.</span></span>
9. <span data-ttu-id="8068b-p108">(Opcional) Especifique un número para probar la regla de normalización y después haga clic en **Ir**. Los resultados de la prueba se muestran en **Introducir un número para probarlo**.</span><span class="sxs-lookup"><span data-stu-id="8068b-p108">(Optional) Enter a number to test the normalization rule, and then click **Go**. The test results are displayed under **Enter a number to test**.</span></span>
    > [!Note] 
    > <span data-ttu-id="8068b-139">Puede guardar una regla de normalización que aún no haya pasado la prueba y volver a configurarla más adelante.</span><span class="sxs-lookup"><span data-stu-id="8068b-139">You can save a normalization rule that does not yet pass the test and then reconfigure it later.</span></span> <span data-ttu-id="8068b-140">Para obtener más información, consulte [probar el enrutamiento de voz](https://technet.microsoft.com/en-us/library/gg398915(v=ocs.15).aspx).</span><span class="sxs-lookup"><span data-stu-id="8068b-140">For details, see [Test voice routing](https://technet.microsoft.com/en-us/library/gg398915(v=ocs.15).aspx).</span></span> 

10. <span data-ttu-id="8068b-141">Haga clic en **Aceptar** para guardar la regla de normalización.</span><span class="sxs-lookup"><span data-stu-id="8068b-141">Click **OK** to save the normalization rule.</span></span>
11. <span data-ttu-id="8068b-142">Haga clic en **Aceptar** para guardar el plan de marcado.</span><span class="sxs-lookup"><span data-stu-id="8068b-142">Click **OK** to save the dial plan.</span></span>
12. <span data-ttu-id="8068b-143">En la página **Plan de marcado**, haga clic en **Confirmar** y, a continuación, en **Confirmar todo**.</span><span class="sxs-lookup"><span data-stu-id="8068b-143">On the **Dial Plan** page, click **Commit**, and then click **Commit all**.</span></span> 
    > [!Note]
    > <span data-ttu-id="8068b-144">Cuando cree o cambie una regla de normalización, debe ejecutar el
comando Confirmar todo para publicar el cambio de configuración.</span><span class="sxs-lookup"><span data-stu-id="8068b-144">Whenever you create or change a normalization rule, you must run the Commit all command to publish the configuration change.</span></span> <span data-ttu-id="8068b-145">Para obtener más información, vea [publicar cambios pendientes en la configuración del enrutamiento de voz](https://technet.microsoft.com/en-us/library/gg413088(v=ocs.15).aspx).</span><span class="sxs-lookup"><span data-stu-id="8068b-145">For details, see [Publish pending changes to the voice routing configuration](https://technet.microsoft.com/en-us/library/gg413088(v=ocs.15).aspx).</span></span> 

## <a name="create-or-modify-a-normalization-rule-manually"></a><span data-ttu-id="8068b-146">Crear o modificar una regla de normalización manualmente</span><span class="sxs-lookup"><span data-stu-id="8068b-146">Create or modify a normalization rule manually</span></span>

<span data-ttu-id="8068b-147">Complete los pasos siguientes si desea crear o modificar una regla de normalización de forma manual.</span><span class="sxs-lookup"><span data-stu-id="8068b-147">Complete the following steps if you want to create or modify a normalization rule manually.</span></span>

<span data-ttu-id="8068b-148">**Para definir una regla de normalización de forma manual**</span><span class="sxs-lookup"><span data-stu-id="8068b-148">**To define a normalization rule manually**</span></span>

1. <span data-ttu-id="8068b-149">Inicie sesión en el equipo como miembro del grupo RTCUniversalServerAdmins o como miembro del rol CsVoiceAdministrator, CsServerAdministrator o CsAdministrator.</span><span class="sxs-lookup"><span data-stu-id="8068b-149">Log on to the computer as a member of the RTCUniversalServerAdmins group, or as a member of the CsVoiceAdministrator, CsServerAdministrator, or CsAdministrator role.</span></span> <span data-ttu-id="8068b-150">Para obtener más información, consulte [permisos de configuración del delegado](https://technet.microsoft.com/en-us/library/gg412735(v=ocs.15).aspx).</span><span class="sxs-lookup"><span data-stu-id="8068b-150">For details, see [Delegate setup permissions](https://technet.microsoft.com/en-us/library/gg412735(v=ocs.15).aspx).</span></span>
2. <span data-ttu-id="8068b-151">Abra una ventana del explorador y, a continuación, escriba la dirección URL del administrador para abrir el panel de control.</span><span class="sxs-lookup"><span data-stu-id="8068b-151">Open a browser window, and then enter the Admin URL to open the Control Panel.</span></span> <span data-ttu-id="8068b-152">Para obtener más información sobre los diferentes métodos que puede usar para iniciar el panel de control de Skype para empresas, consulte [instalar y abrir herramientas administrativas](../../management-tools/install-and-open-administrative-tools.md).</span><span class="sxs-lookup"><span data-stu-id="8068b-152">For details about the different methods you can use to start the Skype for Business Control Panel, see [Install and open administrative tools](../../management-tools/install-and-open-administrative-tools.md).</span></span>
3. <span data-ttu-id="8068b-153">Faculta Siga los pasos que se indican en [crear un plan de marcado](GET LINK AFTER MIGRATION) mediante el paso 11 o [modificar un plan de marcado mediante el](GET LINK AFTER MIGRATION) paso 10.</span><span class="sxs-lookup"><span data-stu-id="8068b-153">(Optional) Follow the steps in [Create a dial plan](GET LINK AFTER MIGRATION) through step 11 or [Modify a dial plan](GET LINK AFTER MIGRATION) through step 10.</span></span>  
4. <span data-ttu-id="8068b-154">En **Nueva regla de normalización** o **Editar regla de normalización**, escriba un nombre que describa el patrón numérico que se normalizará en **Nombre** (por ejemplo, asigne a la regla de normalización el nombre **5DigitExtension**).</span><span class="sxs-lookup"><span data-stu-id="8068b-154">In **New Normalization Rule** or **Edit Normalization Rule**, type a name that describes the number pattern being normalized in **Name** (for example, name the normalization rule **5DigitExtension**).</span></span>
5. <span data-ttu-id="8068b-155">(Opcional) En **Descripción**, escriba una descripción de la regla de normalización (por ejemplo, "Convierte extensiones de 5 dígitos").</span><span class="sxs-lookup"><span data-stu-id="8068b-155">(Optional) In **Description**, type a description of the normalization rule (for example, "Translates 5-digit extensions").</span></span>
6. <span data-ttu-id="8068b-156">En **Crear regla de normalización**, haga clic en **Editar**.</span><span class="sxs-lookup"><span data-stu-id="8068b-156">In **Build a Normalization Rule**, click **Edit**.</span></span>
7. <span data-ttu-id="8068b-157">Especifique lo siguiente en Escribir una expresión regular:</span><span class="sxs-lookup"><span data-stu-id="8068b-157">Enter the following in Type a Regular Expression:</span></span>
    - <span data-ttu-id="8068b-158">En **Hacer coincidir este patrón**, especifique el patrón que desee usar para obtener como resultado el número de teléfono marcado.</span><span class="sxs-lookup"><span data-stu-id="8068b-158">In **Match this pattern**, specify the pattern that you want to use to match the dialed phone number.</span></span>
    - <span data-ttu-id="8068b-159">En **Regla de conversión**, especifique un patrón para el formato de los números de teléfono E.164 convertidos.</span><span class="sxs-lookup"><span data-stu-id="8068b-159">In **Translation rule**, specify a pattern for the format of translated E.164 phone numbers.</span></span>

    <span data-ttu-id="8068b-160">Por ejemplo, si escribe **^{7}(\d) $** en **coincidencia con este patrón** y **+ 1425 $1** en la regla de **traducción**, la regla normaliza 5550100 a + 14255550100.</span><span class="sxs-lookup"><span data-stu-id="8068b-160">For example, if you enter **^(\d{7})$** in **Match this pattern** and **+1425$1** in **Translation rule**, the rule normalizes 5550100 to +14255550100.</span></span>

8. <span data-ttu-id="8068b-161">(Opcional) Si la regla de normalización da un número de teléfono interno de la organización, seleccione **Extensión interna**.</span><span class="sxs-lookup"><span data-stu-id="8068b-161">(Optional) If the normalization rule results in a phone number that is internal to your organization, select **Internal extension**.</span></span>
9. <span data-ttu-id="8068b-p113">(Opcional) Especifique un número para probar la regla de normalización y después haga clic en **Ir**. Los resultados de la prueba se muestran en **Introducir un número para probarlo**.</span><span class="sxs-lookup"><span data-stu-id="8068b-p113">(Optional) Enter a number to test the normalization rule, and then click **Go**. The test results are displayed under **Enter a number to test**.</span></span>

    > [!Note]
    > <span data-ttu-id="8068b-164">Puede guardar una regla de normalización que aún no haya pasado la prueba y volver a configurarla más adelante.</span><span class="sxs-lookup"><span data-stu-id="8068b-164">You can save a normalization rule that does not yet pass the test and then reconfigure it later.</span></span> <span data-ttu-id="8068b-165">Para obtener más información, consulte [probar el enrutamiento de voz](https://technet.microsoft.com/en-us/library/gg398915(v=ocs.15).aspx).</span><span class="sxs-lookup"><span data-stu-id="8068b-165">For details, see [Test voice routing](https://technet.microsoft.com/en-us/library/gg398915(v=ocs.15).aspx).</span></span> 

10. <span data-ttu-id="8068b-166">Haga clic en **Aceptar** para guardar la regla de normalización.</span><span class="sxs-lookup"><span data-stu-id="8068b-166">Click **OK** to save the normalization rule.</span></span>
11. <span data-ttu-id="8068b-167">Haga clic en **Aceptar** para guardar el plan de marcado.</span><span class="sxs-lookup"><span data-stu-id="8068b-167">Click **OK** to save the dial plan.</span></span>
12. <span data-ttu-id="8068b-168">En la página **plan de marcado** , haga clic en **comunicaciones**y, a continuación, haga clic en **confirmar todo**.</span><span class="sxs-lookup"><span data-stu-id="8068b-168">On the **Dial Plan** page, click **Commi**t, and then click **Commit all**.</span></span> 
