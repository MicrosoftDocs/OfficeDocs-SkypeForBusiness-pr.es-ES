---
title: Requisitos del sistema del servidor perimetral en Skype empresarial Server
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
audience: ITPro
ms.topic: conceptual
manager: serdars
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
localization_priority: Normal
ms.collection:
- IT_Skype16
- Strat_SB_Hybrid
ms.custom: ''
ms.assetid: ed53a566-0504-46f9-81a7-116a637833af
description: 'Resumen: Obtenga información sobre los requisitos del sistema para el servidor perimetral en Skype empresarial Server.'
ms.openlocfilehash: ce68475ffc2534f686b39bbcdbcd46b7cdee735a
ms.sourcegitcommit: d69bad69ba9a9bca4614d72d8f34fb2a0a9e4dc4
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/13/2020
ms.locfileid: "44221030"
---
# <a name="edge-server-system-requirements-in-skype-for-business-server"></a><span data-ttu-id="9f95a-103">Requisitos del sistema del servidor perimetral en Skype empresarial Server</span><span class="sxs-lookup"><span data-stu-id="9f95a-103">Edge Server system requirements in Skype for Business Server</span></span>
 
<span data-ttu-id="9f95a-104">**Resumen:** Obtenga información sobre los requisitos del sistema para el servidor perimetral en Skype empresarial Server.</span><span class="sxs-lookup"><span data-stu-id="9f95a-104">**Summary:** Learn about the system requirements for Edge Server in Skype for Business Server.</span></span>
  
<span data-ttu-id="9f95a-105">En lo que respecta a la implementación del servidor perimetral de Skype empresarial Server, estas son las cosas que debe realizar para el servidor o los servidores que están en el propio entorno, así como para planear la estructura del entorno.</span><span class="sxs-lookup"><span data-stu-id="9f95a-105">When it comes to your Skype for Business Server Edge Server deployment, these are the things you'll need to do for the server or servers that are in the environment itself, as well as planning for the environment structure.</span></span> <span data-ttu-id="9f95a-106">Para obtener más información acerca de la topología, los certificados DNS y otros aspectos relacionados con la infraestructura, consulte la documentación sobre los requisitos del entorno.</span><span class="sxs-lookup"><span data-stu-id="9f95a-106">For more information on topology, DNS, certificates, and other infrastructure concerns, check out the environmental requirements documentation.</span></span>
  
## <a name="components"></a><span data-ttu-id="9f95a-107">Componentes</span><span class="sxs-lookup"><span data-stu-id="9f95a-107">Components</span></span>

<span data-ttu-id="9f95a-108">Al hablar del entorno del servidor perimetral, hacemos referencia a componentes que, en la mayoría de los casos, se implementan en una red perimetral (es decir, se encuentra en un grupo de trabajo o en un dominio que está fuera de la estructura de dominios de Skype empresarial Server).</span><span class="sxs-lookup"><span data-stu-id="9f95a-108">When discussing the Edge Server environment, we're referencing components that are, for the most part, deployed in a perimeter network (that's to say it's either in a workgroup or a domain that's outside your Skype for Business Server domain structure).</span></span>
  
<span data-ttu-id="9f95a-109">Teniendo esto en cuenta, estos son los componentes que va a tener en cuenta para implementar el servidor perimetral correctamente:</span><span class="sxs-lookup"><span data-stu-id="9f95a-109">Keeping that in mind, these are the components you're going to need to keep in mind for deploying your Edge successfully:</span></span>
  
- [<span data-ttu-id="9f95a-110">Servidores perimetrales</span><span class="sxs-lookup"><span data-stu-id="9f95a-110">Edge Servers</span></span>](system-requirements.md#EdgeServers)
    
- [<span data-ttu-id="9f95a-111">Proxies inversos</span><span class="sxs-lookup"><span data-stu-id="9f95a-111">Reverse proxies</span></span>](system-requirements.md#ReverseProxies)
    
- [<span data-ttu-id="9f95a-112">Firewalls</span><span class="sxs-lookup"><span data-stu-id="9f95a-112">Firewalls</span></span>](system-requirements.md#Firewalls)
    
- <span data-ttu-id="9f95a-113">[Directores](system-requirements.md#Directors) (estos son opcionales y, si están incluidos, se ubicarán en la red interna)</span><span class="sxs-lookup"><span data-stu-id="9f95a-113">[Directors](system-requirements.md#Directors) (these are optional, and if they're included, they'll be located on your internal network)</span></span>
    
- <span data-ttu-id="9f95a-114">[Equilibradores de carga](system-requirements.md#LoadBalancers) (puede tener el equilibrio de carga de DNS o un equilibrador de carga de hardware (HLB), pero para un solo servidor perimetral, esto no es necesario)</span><span class="sxs-lookup"><span data-stu-id="9f95a-114">[Load Balancers](system-requirements.md#LoadBalancers) (you can have DNS load balancing or a hardware load balancer (HLB), but for a single Edge Server, this isn't needed)</span></span>
    
<span data-ttu-id="9f95a-115">Tenemos más detalles en cada una de las siguientes opciones:</span><span class="sxs-lookup"><span data-stu-id="9f95a-115">We have more detail on each of these below:</span></span>
  
### <a name="edge-servers"></a><span data-ttu-id="9f95a-116">Servidores perimetrales</span><span class="sxs-lookup"><span data-stu-id="9f95a-116">Edge Servers</span></span>
<span data-ttu-id="9f95a-117"><a name="EdgeServers"> </a></span><span class="sxs-lookup"><span data-stu-id="9f95a-117"><a name="EdgeServers"> </a></span></span>

<span data-ttu-id="9f95a-118">Estos son los servidores de Skype empresarial que se implementan en el entorno perimetral.</span><span class="sxs-lookup"><span data-stu-id="9f95a-118">These are the Skype for Business servers deployed in your perimeter environment.</span></span> <span data-ttu-id="9f95a-119">Su rol es enviar y recibir tráfico de red a usuarios externos para los servicios ofrecidos por su implementación de Skype empresarial Server interna.</span><span class="sxs-lookup"><span data-stu-id="9f95a-119">Their role is to send and receive network traffic to external users for the services offered by your internal Skype for Business Server deployment.</span></span> <span data-ttu-id="9f95a-120">Para hacer esto correctamente, se ejecutará cada servidor perimetral:</span><span class="sxs-lookup"><span data-stu-id="9f95a-120">To do this successfully, each Edge Server runs:</span></span>
  
- <span data-ttu-id="9f95a-121">**Servicio perimetral de acceso**: proporciona un único punto de conexión de confianza para el tráfico SIP (Protocolo de inicio de sesión) saliente y entrante.</span><span class="sxs-lookup"><span data-stu-id="9f95a-121">**Access Edge service**: Provides a single, trusted connection point for both outbound and inbound Session Initiation Protocol (SIP) traffic.</span></span>
    
- <span data-ttu-id="9f95a-122">**Servicio perimetral de conferencia web**: permite a los usuarios externos unirse a reuniones hospedadas en su entorno interno de Skype empresarial Server.</span><span class="sxs-lookup"><span data-stu-id="9f95a-122">**Web Conferencing Edge service**: Enables external users to join meetings that are hosted on your internal Skype for Business Server environment.</span></span>
    
- <span data-ttu-id="9f95a-123">**Servicio perimetral a/V**: hace que el audio, vídeo, uso compartido de aplicaciones y transferencia de archivos estén disponibles para los usuarios externos.</span><span class="sxs-lookup"><span data-stu-id="9f95a-123">**A/V Edge service**: Makes audio, video, application sharing and file transfer available to external users.</span></span>
    
- <span data-ttu-id="9f95a-124">**Servicio de proxy XMPP**: acepta y envía mensajes del protocolo extensible de mensajería y presencia (XMPP) a y desde socios federados de XMPP configurados.</span><span class="sxs-lookup"><span data-stu-id="9f95a-124">**XMPP Proxy service**: Accepts and sends extensible messaging and presence protocol (XMPP) messages to and from configured XMPP Federated partners.</span></span>
    
<span data-ttu-id="9f95a-125">Los usuarios externos autorizados pueden usar los servidores perimetrales para conectarse a la implementación de Skype empresarial Server interna, pero, de lo contrario, no proporcionan ningún otro acceso a la red interna para nadie.</span><span class="sxs-lookup"><span data-stu-id="9f95a-125">Authorized external users can use your Edge Servers to connect to your internal Skype for Business Server deployment, but otherwise, they provide no other access to your internal network for anyone.</span></span>
  
> [!NOTE]
> <span data-ttu-id="9f95a-126">Los servidores perimetrales se implementan para proporcionar conexiones para clientes de Skype empresarial habilitados y otros servidores perimetrales (en escenarios de Federación).</span><span class="sxs-lookup"><span data-stu-id="9f95a-126">Edge Servers are deployed to provide connections for enabled Skype for Business clients and other Edge Servers (in federation scenarios).</span></span> <span data-ttu-id="9f95a-127">No puede conectarse desde otros tipos de cliente o de servidor de punto final.</span><span class="sxs-lookup"><span data-stu-id="9f95a-127">You can't connect from other end point client or server types.</span></span> <span data-ttu-id="9f95a-128">El servidor de puerta de enlace XMPP puede permitir conexiones con socios XMPP configurados.</span><span class="sxs-lookup"><span data-stu-id="9f95a-128">The XMPP Gateway server can allow connections with configured XMPP partners.</span></span> <span data-ttu-id="9f95a-129">Pero, de nuevo, son los únicos tipos de cliente y de Federación que funcionarán.</span><span class="sxs-lookup"><span data-stu-id="9f95a-129">But again, those are the only client and federation types that will work.</span></span> 

> [!NOTE]
> <span data-ttu-id="9f95a-130">Las puertas de enlace y los servidores proxy XMPP están disponibles en Skype empresarial Server 2015, pero ya no se admiten en Skype empresarial Server 2019.</span><span class="sxs-lookup"><span data-stu-id="9f95a-130">XMPP Gateways and proxies are available in Skype for Business Server 2015 but are no longer supported in Skype for Business Server 2019.</span></span> <span data-ttu-id="9f95a-131">Consulte [migrar la Federación XMPP](../../../SfBServer2019/migration/migrating-xmpp-federation.md) para obtener más información.</span><span class="sxs-lookup"><span data-stu-id="9f95a-131">See [Migrating XMPP federation](../../../SfBServer2019/migration/migrating-xmpp-federation.md) for more information.</span></span>
  
### <a name="reverse-proxies"></a><span data-ttu-id="9f95a-132">Proxies inversos</span><span class="sxs-lookup"><span data-stu-id="9f95a-132">Reverse proxies</span></span>
<span data-ttu-id="9f95a-133"><a name="ReverseProxies"> </a></span><span class="sxs-lookup"><span data-stu-id="9f95a-133"><a name="ReverseProxies"> </a></span></span>

<span data-ttu-id="9f95a-134">Un servidor de proxy inverso (RP) no tiene rol de servidor de Skype empresarial, pero es un componente esencial de una implementación de servidor perimetral.</span><span class="sxs-lookup"><span data-stu-id="9f95a-134">A reverse proxy (RP) server has no Skype for Business Server role, but is an essential component of an Edge Server deployment.</span></span> <span data-ttu-id="9f95a-135">Un proxy inverso permite a los usuarios externos:</span><span class="sxs-lookup"><span data-stu-id="9f95a-135">A reverse proxy allows external users to:</span></span>
  
- <span data-ttu-id="9f95a-136">Conéctese a reuniones o conferencias de acceso telefónico local con direcciones URL sencillas.</span><span class="sxs-lookup"><span data-stu-id="9f95a-136">connect to meetings or dial-in conferences using simple URLs.</span></span>
    
- <span data-ttu-id="9f95a-137">Descargue el contenido de la reunión.</span><span class="sxs-lookup"><span data-stu-id="9f95a-137">download meeting content.</span></span>
    
- <span data-ttu-id="9f95a-138">Expanda grupos de distribución.</span><span class="sxs-lookup"><span data-stu-id="9f95a-138">expand distribution groups.</span></span>
    
- <span data-ttu-id="9f95a-139">obtener certificados basados en usuario para la autenticación basada en certificados de cliente</span><span class="sxs-lookup"><span data-stu-id="9f95a-139">get user-based certificates for client certificate based authentication</span></span>
    
- <span data-ttu-id="9f95a-140">descargar archivos desde el servidor de la libreta de direcciones o para enviar consultas al servicio de consulta Web de la libreta de direcciones.</span><span class="sxs-lookup"><span data-stu-id="9f95a-140">download files from the Address Book Server, or to submit queries to the Address Book Web Query service.</span></span>
    
- <span data-ttu-id="9f95a-141">Obtenga actualizaciones para el software de cliente y de dispositivos.</span><span class="sxs-lookup"><span data-stu-id="9f95a-141">obtain updates to client and device software.</span></span>
    
<span data-ttu-id="9f95a-142">Y para dispositivos móviles:</span><span class="sxs-lookup"><span data-stu-id="9f95a-142">And for mobile devices:</span></span>
  
- <span data-ttu-id="9f95a-143">permite detectar automáticamente los servidores front-end que ofrecen servicios de movilidad.</span><span class="sxs-lookup"><span data-stu-id="9f95a-143">it lets them automatically discover Front End Servers offering mobility services.</span></span>
    
- <span data-ttu-id="9f95a-144">permite las notificaciones de inserción de Microsoft 365 u Office 365 a dispositivos móviles.</span><span class="sxs-lookup"><span data-stu-id="9f95a-144">it enables push notifications from Microsoft 365 or Office 365 to mobile devices.</span></span>
    
<span data-ttu-id="9f95a-145">Puede encontrar nuestras recomendaciones actuales de proxy inverso en la página [infraestructura de telefonía para Skype empresarial](https://docs.microsoft.com/SkypeForBusiness/certification/infra-gateways) .</span><span class="sxs-lookup"><span data-stu-id="9f95a-145">Our current reverse proxy recommendations can be found on the [Telephony Infrastructure for Skype for Business](https://docs.microsoft.com/SkypeForBusiness/certification/infra-gateways) page.</span></span> <span data-ttu-id="9f95a-146">Por lo tanto, el proxy inverso:</span><span class="sxs-lookup"><span data-stu-id="9f95a-146">So your reverse proxy:</span></span>
  
- <span data-ttu-id="9f95a-147">debe poder usar la seguridad de la capa de transporte (TLS) que se ha agregado a su entorno a través de certificados públicos para conectarse a los servicios web externos publicados de:</span><span class="sxs-lookup"><span data-stu-id="9f95a-147">should be able to use transport layer security (TLS) that's introduced to your environment via public certificates to connect to the published external Web services of:</span></span>
    
  - <span data-ttu-id="9f95a-148">Director o grupo de directores</span><span class="sxs-lookup"><span data-stu-id="9f95a-148">Director or Director pool</span></span>
    
  - <span data-ttu-id="9f95a-149">Servidor front-end o grupo de servidores front-end</span><span class="sxs-lookup"><span data-stu-id="9f95a-149">Front End Server or Front End pool</span></span>
    
- <span data-ttu-id="9f95a-150">debe ser capaz de publicar sitios Web internos con certificados para cifrado o publicarlos a través de un medio sin cifrar, si es necesario.</span><span class="sxs-lookup"><span data-stu-id="9f95a-150">needs to be able to publish internal Web sites using certificates for encryption, or publish them over an unencrypted means, if needed.</span></span>
    
- <span data-ttu-id="9f95a-151">debe poder publicar un sitio web hospedado internamente de forma externa mediante un nombre de dominio completo (FQDN).</span><span class="sxs-lookup"><span data-stu-id="9f95a-151">should be able to publish an internally hosted web site externally by using a fully qualified domain name (FQDN).</span></span>
    
- <span data-ttu-id="9f95a-152">debe ser capaz de publicar todo el contenido de su sitio web hospedado.</span><span class="sxs-lookup"><span data-stu-id="9f95a-152">needs to be able to publish all the contents of your hosted web site.</span></span> <span data-ttu-id="9f95a-153">De forma predeterminada, puede usar la **/\\** Directiva \*, que es reconocida por la mayoría de los servidores web para indicar "publicar todo el contenido en el servidor Web".</span><span class="sxs-lookup"><span data-stu-id="9f95a-153">By default, you can use the **/\\**\* directive, which is recognized by most web servers to mean "Publish all content on the web server."</span></span> <span data-ttu-id="9f95a-154">También puede modificar la Directiva (por ejemplo, \* \*/Uwca/ \\ \* \* \*), lo que significa "publicar todo el contenido en el directorio virtual Ucwa".</span><span class="sxs-lookup"><span data-stu-id="9f95a-154">You can also modify the directive—for example, \*\*/Uwca/\\*\*\*, which means "Publish all content under the virtual directory Ucwa."</span></span>
    
- <span data-ttu-id="9f95a-155">debe requerir conexiones TLS con los clientes que soliciten contenido de su sitio Web publicado.</span><span class="sxs-lookup"><span data-stu-id="9f95a-155">must require TLS connections with clients that request content from your published website.</span></span>
    
- <span data-ttu-id="9f95a-156">tiene que aceptar certificados con entradas de nombre alternativo de sujeto (SAN).</span><span class="sxs-lookup"><span data-stu-id="9f95a-156">has to accept certificates with subject alternative name (SAN) entries.</span></span>
    
- <span data-ttu-id="9f95a-157">debe ser capaz de permitir el enlace de un certificado a un agente de escucha o a una interfaz a través de la cual se resolverá el FQDN de servicios web externos.</span><span class="sxs-lookup"><span data-stu-id="9f95a-157">needs to be able to allow the binding of a certificate to a listener or interface through which the external web services FQDN will resolve.</span></span> <span data-ttu-id="9f95a-158">Las configuraciones de la escucha son preferibles a las interfaces.</span><span class="sxs-lookup"><span data-stu-id="9f95a-158">Listener configurations are preferable to interfaces.</span></span> <span data-ttu-id="9f95a-159">Se pueden configurar varios agentes de escucha en una sola interfaz.</span><span class="sxs-lookup"><span data-stu-id="9f95a-159">Many listeners can be configured on a single interface.</span></span>
    
- <span data-ttu-id="9f95a-160">debe permitir la configuración de la administración del encabezado de host.</span><span class="sxs-lookup"><span data-stu-id="9f95a-160">must allow for the configuration of host header handling.</span></span> <span data-ttu-id="9f95a-161">A menudo, el encabezado de host original enviado por el cliente que realiza la solicitud debe pasar de forma transparente, en lugar de ser modificado por el proxy inverso.</span><span class="sxs-lookup"><span data-stu-id="9f95a-161">Often, the original host header sent by the requesting client must be passed transparently, instead of being modified by the reverse proxy.</span></span>
    
- <span data-ttu-id="9f95a-162">debe permitir el puente de tráfico TLS desde un puerto definido externamente (por ejemplo, TCP 443) a otro puerto definido (por ejemplo, TCP 4443).</span><span class="sxs-lookup"><span data-stu-id="9f95a-162">should allow bridging of TLS traffic from one externally defined port (for example, TCP 443) to another defined port (for example, TCP 4443).</span></span> <span data-ttu-id="9f95a-163">El proxy inverso puede descifrar el paquete en su recepción y, a continuación, volver a cifrar el paquete en el envío.</span><span class="sxs-lookup"><span data-stu-id="9f95a-163">Your reverse proxy may decrypt the packet on receipt and then reencrypt the packet on sending.</span></span>
    
- <span data-ttu-id="9f95a-164">debe permitir el puente de tráfico TCP no cifrado desde un puerto (por ejemplo, TCP 80) a otro (por ejemplo, TCP 8080).</span><span class="sxs-lookup"><span data-stu-id="9f95a-164">should allow bridging of unencrypted TCP traffic from one port (for example, TCP 80) to another (for example, TCP 8080).</span></span>
    
- <span data-ttu-id="9f95a-165">debe permitir la configuración de autenticación NTLM, o aceptarla, sin autenticación y autenticación de paso a través.</span><span class="sxs-lookup"><span data-stu-id="9f95a-165">needs to allow configuration of, or accept, NTLM authentication, no authentication, and pass-through authentication.</span></span>
    
<span data-ttu-id="9f95a-166">Si el proxy inverso puede satisfacer todas las necesidades de esta lista, debe estar listo, pero tenga en cuenta las recomendaciones que se indican en el vínculo anterior.</span><span class="sxs-lookup"><span data-stu-id="9f95a-166">If your reverse proxy can address all the needs in this list, you should be good to go, but please keep in mind our recommendations at the link provided above.</span></span>
  
### <a name="firewalls"></a><span data-ttu-id="9f95a-167">Firewalls</span><span class="sxs-lookup"><span data-stu-id="9f95a-167">Firewalls</span></span>
<span data-ttu-id="9f95a-168"><a name="Firewalls"> </a></span><span class="sxs-lookup"><span data-stu-id="9f95a-168"><a name="Firewalls"> </a></span></span>

<span data-ttu-id="9f95a-169">Debe colocar la implementación perimetral detrás de un firewall externo, pero se recomienda tener dos firewalls, uno externo y otro interno entre el entorno perimetral y el entorno interno.</span><span class="sxs-lookup"><span data-stu-id="9f95a-169">You need to put your Edge deployment behind an external firewall, but we recommend having two firewalls, one external, and one internal between the Edge environment and your internal environment.</span></span> <span data-ttu-id="9f95a-170">Toda nuestra documentación en nuestros escenarios tendrá dos firewalls.</span><span class="sxs-lookup"><span data-stu-id="9f95a-170">All our documentation in our Scenarios will have two firewalls.</span></span> <span data-ttu-id="9f95a-171">Le recomendamos dos firewalls, ya que garantiza un enrutamiento estricto desde un perímetro de red al otro y dobla la protección del firewall de la red interna.</span><span class="sxs-lookup"><span data-stu-id="9f95a-171">We recommend two firewalls because it ensures strict routing from one network edge to the other, and doubles the firewall protection for your internal network.</span></span>
  
### <a name="directors"></a><span data-ttu-id="9f95a-172">Reparto</span><span class="sxs-lookup"><span data-stu-id="9f95a-172">Directors</span></span>
<span data-ttu-id="9f95a-173"><a name="Directors"> </a></span><span class="sxs-lookup"><span data-stu-id="9f95a-173"><a name="Directors"> </a></span></span>

<span data-ttu-id="9f95a-174">Este es un rol opcional.</span><span class="sxs-lookup"><span data-stu-id="9f95a-174">This is an optional role.</span></span> <span data-ttu-id="9f95a-175">Puede ser un solo servidor o un grupo de servidores que ejecuten el rol de director.</span><span class="sxs-lookup"><span data-stu-id="9f95a-175">It can be a single server or a pool of servers running the Director role.</span></span> <span data-ttu-id="9f95a-176">Se trata de un rol que se encuentra en el entorno de Skype empresarial Server interno.</span><span class="sxs-lookup"><span data-stu-id="9f95a-176">It's a role found on the internal Skype for Business Server environment.</span></span>
  
<span data-ttu-id="9f95a-177">El director es un servidor interno del próximo salto que recibe tráfico SIP entrante de los servidores perimetrales destinados a los servidores internos de Skype empresarial Server.</span><span class="sxs-lookup"><span data-stu-id="9f95a-177">The Director is an internal next hop server which receives inbound SIP traffic from the Edge Servers that's destined for Skype for Business Server internal servers.</span></span> <span data-ttu-id="9f95a-178">Realiza la autenticación previa de las solicitudes entrantes y las redirige a un servidor o grupo de servidores principales de un usuario.</span><span class="sxs-lookup"><span data-stu-id="9f95a-178">It preauthenticates inbound requests and redirects them to a user's home pool or server.</span></span> <span data-ttu-id="9f95a-179">Esta autenticación previa permite quitar las solicitudes de cuenta de usuario no identificadas.</span><span class="sxs-lookup"><span data-stu-id="9f95a-179">This preauthentication allows you to drop unidentified user account requests.</span></span>
  
<span data-ttu-id="9f95a-180">¿Por qué importa?</span><span class="sxs-lookup"><span data-stu-id="9f95a-180">Why does that matter?</span></span> <span data-ttu-id="9f95a-181">Una función importante para un director es proteger los servidores Standard Edition y los servidores front-end o los grupos de servidores front-end del tráfico malintencionado, como los ataques de denegación de servicio (DoS).</span><span class="sxs-lookup"><span data-stu-id="9f95a-181">An important function for a Director is to protect Standard Edition servers and Front End Servers or Front End pools from malicious traffic, such as denial-of-service (DoS) attacks.</span></span> <span data-ttu-id="9f95a-182">Si la red está inundada con tráfico externo no válido, el tráfico se detiene en el director.</span><span class="sxs-lookup"><span data-stu-id="9f95a-182">If your network is flooded with invalid external traffic, the traffic stops at the Director.</span></span>
  
### <a name="load-balancers"></a><span data-ttu-id="9f95a-183">Equilibradores de carga</span><span class="sxs-lookup"><span data-stu-id="9f95a-183">Load Balancers</span></span>
<span data-ttu-id="9f95a-184"><a name="LoadBalancers"> </a></span><span class="sxs-lookup"><span data-stu-id="9f95a-184"><a name="LoadBalancers"> </a></span></span>

<span data-ttu-id="9f95a-185">La topología perimetral consolidada escalada de Skype empresarial Server está optimizada para el equilibrio de carga de DNS para implementaciones nuevas y se recomienda esto.</span><span class="sxs-lookup"><span data-stu-id="9f95a-185">The Skype for Business Server scaled consolidated Edge topology is optimized for DNS load balancing for new deployments, and we recommend this.</span></span> <span data-ttu-id="9f95a-186">Si necesita alta disponibilidad, se recomienda usar un equilibrador de carga de hardware para una situación específica:</span><span class="sxs-lookup"><span data-stu-id="9f95a-186">If you need high availability, we recommend using a hardware load balancer for one specific situation:</span></span>
  
- <span data-ttu-id="9f95a-187">Mensajería unificada de Exchange para usuarios remotos mediante la mensajería unificada de Exchange **antes** de Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="9f95a-187">Exchange UM for remote users using Exchange UM **prior** to Exchange 2013.</span></span>
    
> [!IMPORTANT]
> <span data-ttu-id="9f95a-188">Es fundamental tener en cuenta que no se pueden mezclar equilibradores de carga.</span><span class="sxs-lookup"><span data-stu-id="9f95a-188">It's vital to note that you can't mix load-balancers.</span></span> <span data-ttu-id="9f95a-189">En su entorno de Skype empresarial Server, todas las interfaces deben usar DNS o HLB.</span><span class="sxs-lookup"><span data-stu-id="9f95a-189">In your Skype for Business Server environment all interfaces must use either DNS or HLB.</span></span> 
  
> [!NOTE]
> <span data-ttu-id="9f95a-190">La NAT de Direct Server Return (DSR) no es compatible con Skype empresarial Server.</span><span class="sxs-lookup"><span data-stu-id="9f95a-190">Direct server return (DSR) NAT isn't supported for Skype for Business Server.</span></span> 
  
#### <a name="hardware-load-balancer-requirements-for-edge-servers-edge-servers-running-the-av-edge-service"></a><span data-ttu-id="9f95a-191">requisitos del equilibrador de carga de hardware para servidores perimetrales servidores perimetrales que ejecutan el servicio perimetral A/V</span><span class="sxs-lookup"><span data-stu-id="9f95a-191">hardware load balancer requirements for Edge Servers Edge Servers running the A/V Edge service</span></span>

<span data-ttu-id="9f95a-192">Para cualquier servidor perimetral que ejecute el servicio perimetral A/V, estos son los requisitos:</span><span class="sxs-lookup"><span data-stu-id="9f95a-192">For any Edge Server running the A/V Edge service, these are the requirements:</span></span>
  
- <span data-ttu-id="9f95a-193">Desactive TCP Nagle para los puertos internos y externos 443 (Nagle es el proceso de combinar varios paquetes pequeños en un único paquete más grande para una transmisión más eficaz).</span><span class="sxs-lookup"><span data-stu-id="9f95a-193">Turn off TCP nagling for both internal and external ports 443 (nagling is the process of combining several small packets into a single, larger packet for more efficient transmission).</span></span>
    
- <span data-ttu-id="9f95a-194">Desactive TCP Nagle para el intervalo de puertos externo 50000-59999.</span><span class="sxs-lookup"><span data-stu-id="9f95a-194">Turn off TCP nagling for the external port range 50000 - 59999.</span></span>
    
- <span data-ttu-id="9f95a-195">No use NAT en los firewalls internos o externos.</span><span class="sxs-lookup"><span data-stu-id="9f95a-195">Don't use NAT on your internal or external firewalls.</span></span>
    
- <span data-ttu-id="9f95a-196">La interfaz perimetral interna debe estar en una red distinta a la interfaz externa del servidor perimetral y el enrutamiento entre ellas debe estar deshabilitado.</span><span class="sxs-lookup"><span data-stu-id="9f95a-196">Your Edge internal interface must be on a different network than your Edge Server external interface, and routing between them must be disabled.</span></span>
    
- <span data-ttu-id="9f95a-197">La interfaz externa de todos los servidores perimetrales que ejecutan el servicio perimetral A/V debe usar direcciones IP enrutables públicamente y no NAT o traducción de puerto en ninguna de las direcciones IP externas del servidor perimetral.</span><span class="sxs-lookup"><span data-stu-id="9f95a-197">The external interface of any Edge Server running the A/V Edge service must use publicly routable IP addresses and no NAT or port translation on any of the Edge external IP addresses.</span></span>
    
#### <a name="hlb-requirements"></a><span data-ttu-id="9f95a-198">Requisitos de HLB</span><span class="sxs-lookup"><span data-stu-id="9f95a-198">HLB requirements</span></span>

<span data-ttu-id="9f95a-199">Skype empresarial Server no tiene muchos requisitos de afinidad basada en cookies.</span><span class="sxs-lookup"><span data-stu-id="9f95a-199">Skype for Business Server doesn't have a lot of cookie-based affinity requirements.</span></span> <span data-ttu-id="9f95a-200">Por lo tanto, no es necesario usar una persistencia basada en cookies **a menos** que (y esto es Skype empresarial Server 2015-específico), tendrá Lync Server 2010 servidores front-end o grupos de servidores front-end en su entorno de Skype empresarial Server.</span><span class="sxs-lookup"><span data-stu-id="9f95a-200">So you don't need to use a cookie-based persistence **unless** (and this is Skype for Business Server 2015-specific) you're going to have Lync Server 2010 Front End Servers or Front End pools in your Skype for Business Server environment.</span></span> <span data-ttu-id="9f95a-201">Necesitarían la afinidad basada en cookies en el método de configuración recomendado para Lync Server 2010.</span><span class="sxs-lookup"><span data-stu-id="9f95a-201">They would need cookie-based affinity in the configuration method recommended for Lync Server 2010.</span></span>
  
> [!NOTE]
> <span data-ttu-id="9f95a-202">Si decide activar la afinidad basada en cookies en su HLB, no habrá un problema, incluso si su entorno no la necesita.</span><span class="sxs-lookup"><span data-stu-id="9f95a-202">If you decide to turn cookie-based affinity on for your HLB, there won't be a problem doing so, even if your environment doesn't need it.</span></span> 
  
<span data-ttu-id="9f95a-203">Si su entorno **no** necesita la afinidad basada en cookies:</span><span class="sxs-lookup"><span data-stu-id="9f95a-203">If your environment **doesn't** need cookie-based affinity:</span></span>
  
- <span data-ttu-id="9f95a-204">En la regla de publicación de proxy inverso para el puerto 443, establezca el **encabezado de host de reenvío** en **true**.</span><span class="sxs-lookup"><span data-stu-id="9f95a-204">On the reverse proxy publishing rule for port 443, set **Forward host header** to **True**.</span></span> <span data-ttu-id="9f95a-205">Esto garantizará que se reenviará la dirección URL original.</span><span class="sxs-lookup"><span data-stu-id="9f95a-205">This will ensure the original URL is forwarded.</span></span>
    
<span data-ttu-id="9f95a-206">Para las implementaciones que **sí** necesitan la afinidad basada en cookies:</span><span class="sxs-lookup"><span data-stu-id="9f95a-206">For deployments that **do** need cookie-based affinity:</span></span>
  
- <span data-ttu-id="9f95a-207">En la regla de publicación de proxy inverso para el puerto 443, establezca el **encabezado de host de reenvío** en **true**.</span><span class="sxs-lookup"><span data-stu-id="9f95a-207">On the reverse proxy publishing rule for port 443, set **Forward host header** to **True**.</span></span> <span data-ttu-id="9f95a-208">Esto garantizará que se reenviará la dirección URL original.</span><span class="sxs-lookup"><span data-stu-id="9f95a-208">This will ensure the original URL is forwarded.</span></span>
    
- <span data-ttu-id="9f95a-209">La cookie del equilibrador de carga de hardware **no debe** marcarse httpOnly.</span><span class="sxs-lookup"><span data-stu-id="9f95a-209">The hardware load balancer cookie **must not** be marked httpOnly.</span></span>
    
- <span data-ttu-id="9f95a-210">La cookie del equilibrador de carga de hardware **no debe** tener una fecha de expiración.</span><span class="sxs-lookup"><span data-stu-id="9f95a-210">The hardware load balancer cookie **must not** have an expiration time.</span></span>
    
- <span data-ttu-id="9f95a-211">La cookie del equilibrador de carga de hardware **debe** tener el nombre **MS-WSMAN** (este es el valor esperado por los servicios web y no se puede cambiar).</span><span class="sxs-lookup"><span data-stu-id="9f95a-211">The hardware load balancer cookie **must** be named **MS-WSMAN** (this is the value that the Web services expect, and it can't be changed).</span></span>
    
- <span data-ttu-id="9f95a-212">La cookie del equilibrador de carga de hardware **debe** establecerse en todas las respuestas http para las que la solicitud HTTP entrante no tiene una cookie, independientemente de si una respuesta http anterior de la misma conexión TCP ha recibido una cookie.</span><span class="sxs-lookup"><span data-stu-id="9f95a-212">The hardware load balancer cookie **must** be set in every HTTP response for which the incoming HTTP request didn't have a cookie, regardless of whether a previous HTTP response on that same TCP connection had gotten a cookie.</span></span> <span data-ttu-id="9f95a-213">Si su equilibrador de carga de hardware optimiza la inserción de cookies para que solo ocurra una vez por cada conexión TCP, esa optimización **no debe** usarse.</span><span class="sxs-lookup"><span data-stu-id="9f95a-213">If your hardware load balancer optimizes cookie insert to only occur once per TCP connection, that optimization **must not** be used.</span></span>
    
> [!NOTE]
> <span data-ttu-id="9f95a-214">Es habitual que las configuraciones de HLB usen la afinidad de origen y la duración de sesión TCP de 20 minutos, que es adecuada para Skype empresarial Server y sus clientes, ya que el estado de sesión se mantiene a través del uso del cliente o la interacción de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="9f95a-214">It's typical for HLB configurations to use source-affinity and 20 minute TCP session lifetime, which is fine for Skype for Business Server and its clients, because session state is maintained through client usage, and/or application interaction.</span></span> 
  
<span data-ttu-id="9f95a-215">Si está implementando dispositivos móviles, su HLB debe poder equilibrar la carga de solicitudes individuales dentro de una sesión TCP (de hecho, debe poder equilibrar la carga de una solicitud individual en función de la dirección IP de destino).</span><span class="sxs-lookup"><span data-stu-id="9f95a-215">If you're deploying mobile devices, your HLB must be able to load balance individual requests within a TCP session (in effect, you need to be able to load balance an individual request based on the target IP address).</span></span>
  
> [!IMPORTANT]
> <span data-ttu-id="9f95a-216">F5 HLB tener una característica denominada OneConnect.</span><span class="sxs-lookup"><span data-stu-id="9f95a-216">F5 HLBs have a feature called OneConnect.</span></span> <span data-ttu-id="9f95a-217">Garantiza que cada solicitud dentro de una conexión TCP se carga con equilibrio individual.</span><span class="sxs-lookup"><span data-stu-id="9f95a-217">It ensures that each request within a TCP connection is individually load balanced.</span></span> <span data-ttu-id="9f95a-218">Si está implementando dispositivos móviles, asegúrese de que el proveedor de HLB admite la misma funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="9f95a-218">If you're deploying mobile devices, ensure your HLB vendor supports the same functionality.</span></span> <span data-ttu-id="9f95a-219">Las aplicaciones móviles de iOS más recientes requieren la versión 1,2 de TLS.</span><span class="sxs-lookup"><span data-stu-id="9f95a-219">The latest iOS mobile apps require TLS version 1.2.</span></span> <span data-ttu-id="9f95a-220">Si necesita saber más, F5 proporciona una configuración específica para este.</span><span class="sxs-lookup"><span data-stu-id="9f95a-220">If you need to know more, F5 provides specific settings for this.</span></span> 
  
<span data-ttu-id="9f95a-221">Estos son los requisitos de HLB para los servicios web del grupo de servidores front-end (opcional) y director (obligatorio):</span><span class="sxs-lookup"><span data-stu-id="9f95a-221">Here are the HLB requirements for the (optional) Director and (required) Front End pool Web Services:</span></span>
  
- <span data-ttu-id="9f95a-222">Para los VIP de servicios Web internos, establezca la persistencia de Source_addr (puerto interno 80, 443) en su HLB.</span><span class="sxs-lookup"><span data-stu-id="9f95a-222">For your internal Web Services VIPs, set Source_addr persistence (internal port 80, 443) on your HLB.</span></span> <span data-ttu-id="9f95a-223">En el caso de Skype empresarial Server, la persistencia de la Source_addr significa que se envían siempre varias conexiones procedentes de una única dirección IP a un servidor para mantener el estado de la sesión.</span><span class="sxs-lookup"><span data-stu-id="9f95a-223">For Skype for Business Server, Source_addr persistence means that multiple connections coming from a single IP address are always sent to one server, to maintain session state.</span></span>
    
- <span data-ttu-id="9f95a-224">Use un tiempo de espera de inactividad de TCP de 1800 segundos.</span><span class="sxs-lookup"><span data-stu-id="9f95a-224">Use a TCP idle timeout of 1800 seconds.</span></span>
    
- <span data-ttu-id="9f95a-225">En el Firewall entre el proxy inverso y el HLB del grupo de servidores del próximo salto, cree una regla para permitir el tráfico https: en el puerto 4443, desde el proxy inverso hasta su HLB.</span><span class="sxs-lookup"><span data-stu-id="9f95a-225">On the firewall between your reverse proxy and your next hop pool's HLB, create a rule to allow https: traffic on port 4443, from your reverse proxy to your HLB.</span></span> <span data-ttu-id="9f95a-226">Su HLB debe estar configurada para escuchar en los puertos 80, 443 y 4443.</span><span class="sxs-lookup"><span data-stu-id="9f95a-226">Your HLB needs to be configured to listen on ports 80, 443, and 4443.</span></span>
    
#### <a name="summary-of-hlb-affinity-requirements"></a><span data-ttu-id="9f95a-227">Resumen de los requisitos de afinidad de HLB</span><span class="sxs-lookup"><span data-stu-id="9f95a-227">Summary of HLB affinity requirements</span></span>

|<span data-ttu-id="9f95a-228">**Ubicación de cliente/usuario**</span><span class="sxs-lookup"><span data-stu-id="9f95a-228">**Client/user location**</span></span>|<span data-ttu-id="9f95a-229">**Requisitos de afinidad del FQDN de servicios web externos**</span><span class="sxs-lookup"><span data-stu-id="9f95a-229">**External web services FQDN affinity requirements**</span></span>|<span data-ttu-id="9f95a-230">**Requisitos de afinidad de FQSN de servicios Web internos**</span><span class="sxs-lookup"><span data-stu-id="9f95a-230">**Internal web services FQSN affinity requirements**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="9f95a-231">Aplicación Web de Skype empresarial (usuarios internos y externos)</span><span class="sxs-lookup"><span data-stu-id="9f95a-231">Skype for Business Web App (internal and external users)</span></span>  <br/> <span data-ttu-id="9f95a-232">Dispositivo móvil (usuarios internos y externos</span><span class="sxs-lookup"><span data-stu-id="9f95a-232">Mobile device (internal and external users</span></span>  <br/> |<span data-ttu-id="9f95a-233">Sin afinidad</span><span class="sxs-lookup"><span data-stu-id="9f95a-233">No affinity</span></span>  <br/> |<span data-ttu-id="9f95a-234">Afinidad de direcciones de origen</span><span class="sxs-lookup"><span data-stu-id="9f95a-234">Source address affinity</span></span>  <br/> |
|<span data-ttu-id="9f95a-235">Aplicación Web de Skype empresarial (solo usuarios externos)</span><span class="sxs-lookup"><span data-stu-id="9f95a-235">Skype for Business Web App (external users only)</span></span>  <br/> <span data-ttu-id="9f95a-236">Dispositivo móvil (usuarios internos y externos</span><span class="sxs-lookup"><span data-stu-id="9f95a-236">Mobile device (internal and external users</span></span>  <br/> |<span data-ttu-id="9f95a-237">Sin afinidad</span><span class="sxs-lookup"><span data-stu-id="9f95a-237">No affinity</span></span>  <br/> |<span data-ttu-id="9f95a-238">Afinidad de direcciones de origen</span><span class="sxs-lookup"><span data-stu-id="9f95a-238">Source address affinity</span></span>  <br/> |
|<span data-ttu-id="9f95a-239">Aplicación Web de Skype empresarial (solo usuarios internos)</span><span class="sxs-lookup"><span data-stu-id="9f95a-239">Skype for Business Web App (internal users only)</span></span>  <br/> <span data-ttu-id="9f95a-240">Dispositivo móvil (no implementado)</span><span class="sxs-lookup"><span data-stu-id="9f95a-240">Mobile device (not deployed)</span></span>  <br/> |<span data-ttu-id="9f95a-241">Sin afinidad</span><span class="sxs-lookup"><span data-stu-id="9f95a-241">No affinity</span></span>  <br/> |<span data-ttu-id="9f95a-242">Afinidad de direcciones de origen</span><span class="sxs-lookup"><span data-stu-id="9f95a-242">Source address affinity</span></span>  <br/> |
   
#### <a name="port-monitoring-for-hlbs"></a><span data-ttu-id="9f95a-243">Supervisión de puertos para HLB</span><span class="sxs-lookup"><span data-stu-id="9f95a-243">Port monitoring for HLBs</span></span>

<span data-ttu-id="9f95a-244">La supervisión de puertos se define en los equilibradores de carga de hardware para determinar cuándo los servicios específicos ya no están disponibles, debido a errores de hardware o de comunicaciones.</span><span class="sxs-lookup"><span data-stu-id="9f95a-244">You define port monitoring on your hardware load balancers to determine when specific services are no longer available, due to hardware or communications failure.</span></span> <span data-ttu-id="9f95a-245">Por ejemplo, si el servicio de servidor front-end (RTCSRV) se detiene debido a un error en el servidor front-end o en el grupo de servidores front-end, la supervisión de HLB también debe dejar de recibir tráfico en los servicios Web.</span><span class="sxs-lookup"><span data-stu-id="9f95a-245">For example, if the Front End Server service (RTCSRV) stops because the Front End Server or Front End pool fails, the HLB monitoring should also stop receiving traffic on the Web Services.</span></span> <span data-ttu-id="9f95a-246">Debe implementar la supervisión de puertos en el HLB para supervisar lo siguiente para la interfaz externa de HLB:</span><span class="sxs-lookup"><span data-stu-id="9f95a-246">You should implement port monitoring on the HLB to monitor the following for your HLB external interface:</span></span>
  
|<span data-ttu-id="9f95a-247">**Puerto/IP virtual**</span><span class="sxs-lookup"><span data-stu-id="9f95a-247">**Virtual IP/Port**</span></span>|<span data-ttu-id="9f95a-248">**Puerto de nodo**</span><span class="sxs-lookup"><span data-stu-id="9f95a-248">**Node Port**</span></span>|<span data-ttu-id="9f95a-249">**Monitor/máquina de nodo**</span><span class="sxs-lookup"><span data-stu-id="9f95a-249">**Node Machine/Monitor**</span></span>|<span data-ttu-id="9f95a-250">**Perfil de persistencia**</span><span class="sxs-lookup"><span data-stu-id="9f95a-250">**Persistence Profile**</span></span>|<span data-ttu-id="9f95a-251">**Notas**</span><span class="sxs-lookup"><span data-stu-id="9f95a-251">**Notes**</span></span>|
|:-----|:-----|:-----|:-----|:-----|
|<span data-ttu-id="9f95a-252">\<web_mco_443_vs de grupo \></span><span class="sxs-lookup"><span data-stu-id="9f95a-252">\<pool\>web_mco_443_vs</span></span>  <br/> <span data-ttu-id="9f95a-253">443</span><span class="sxs-lookup"><span data-stu-id="9f95a-253">443</span></span>  <br/> |<span data-ttu-id="9f95a-254">4443</span><span class="sxs-lookup"><span data-stu-id="9f95a-254">4443</span></span>  <br/> |<span data-ttu-id="9f95a-255">Front-end</span><span class="sxs-lookup"><span data-stu-id="9f95a-255">Front End</span></span>  <br/> <span data-ttu-id="9f95a-256">5061</span><span class="sxs-lookup"><span data-stu-id="9f95a-256">5061</span></span>  <br/> |<span data-ttu-id="9f95a-257">Ninguno</span><span class="sxs-lookup"><span data-stu-id="9f95a-257">None</span></span>  <br/> |<span data-ttu-id="9f95a-258">HTTPS</span><span class="sxs-lookup"><span data-stu-id="9f95a-258">HTTPS</span></span>  <br/> |
|<span data-ttu-id="9f95a-259">\<web_mco_80_vs de grupo \></span><span class="sxs-lookup"><span data-stu-id="9f95a-259">\<pool\>web_mco_80_vs</span></span>  <br/> <span data-ttu-id="9f95a-260">80</span><span class="sxs-lookup"><span data-stu-id="9f95a-260">80</span></span>  <br/> |<span data-ttu-id="9f95a-261">8080</span><span class="sxs-lookup"><span data-stu-id="9f95a-261">8080</span></span>  <br/> |<span data-ttu-id="9f95a-262">Front-end</span><span class="sxs-lookup"><span data-stu-id="9f95a-262">Front End</span></span>  <br/> <span data-ttu-id="9f95a-263">5061</span><span class="sxs-lookup"><span data-stu-id="9f95a-263">5061</span></span>  <br/> |<span data-ttu-id="9f95a-264">Ninguno</span><span class="sxs-lookup"><span data-stu-id="9f95a-264">None</span></span>  <br/> |<span data-ttu-id="9f95a-265">HTTP</span><span class="sxs-lookup"><span data-stu-id="9f95a-265">HTTP</span></span>  <br/> |
   
## <a name="hardware-and-software-requirements"></a><span data-ttu-id="9f95a-266">Requisitos de hardware y software</span><span class="sxs-lookup"><span data-stu-id="9f95a-266">Hardware and software requirements</span></span>

<span data-ttu-id="9f95a-267">Hemos cubierto los requisitos de hardware y software del servidor perimetral en los requisitos generales del [servidor para Skype empresarial server 2015](../../plan-your-deployment/requirements-for-your-environment/server-requirements.md) y [los requisitos del sistema para la documentación de skype empresarial Server 2019](../../../SfBServer2019/plan/system-requirements.md) .</span><span class="sxs-lookup"><span data-stu-id="9f95a-267">We've covered Edge Server hardware and software requirements in our overall [Server requirements for Skype for Business Server 2015](../../plan-your-deployment/requirements-for-your-environment/server-requirements.md) and  [System requirements for Skype for Business Server 2019](../../../SfBServer2019/plan/system-requirements.md) documentation.</span></span>
  
## <a name="collocation"></a><span data-ttu-id="9f95a-268">Combinación</span><span class="sxs-lookup"><span data-stu-id="9f95a-268">Collocation</span></span>

<span data-ttu-id="9f95a-269">Hemos cubierto el servidor perimetral combinación en nuestra documentación [básica sobre la topología de Skype empresarial Server](../../plan-your-deployment/topology-basics/topology-basics.md) .</span><span class="sxs-lookup"><span data-stu-id="9f95a-269">We've covered Edge Server collocation in our [Topology Basics for Skype for Business Server](../../plan-your-deployment/topology-basics/topology-basics.md) documentation.</span></span>
  

